(async()=>{function VM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function HM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ow={exports:{}},Jf={},aw={exports:{}},xn={};var wI;function QM(){if(wI)return xn;wI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function b(Y){return Y===null||typeof Y!="object"?null:(Y=h&&Y[h]||Y["@@iterator"],typeof Y=="function"?Y:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function I(Y,ce,de){this.props=Y,this.context=ce,this.refs=N,this.updater=de||x}I.prototype.isReactComponent={},I.prototype.setState=function(Y,ce){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ce,"setState")},I.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function T(){}T.prototype=I.prototype;function O(Y,ce,de){this.props=Y,this.context=ce,this.refs=N,this.updater=de||x}var q=O.prototype=new T;q.constructor=O,_(q,I.prototype),q.isPureReactComponent=!0;var j=Array.isArray,D=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function P(Y,ce,de){var ye,we={},Ne=null,ze=null;if(ce!=null)for(ye in ce.ref!==void 0&&(ze=ce.ref),ce.key!==void 0&&(Ne=""+ce.key),ce)D.call(ce,ye)&&!z.hasOwnProperty(ye)&&(we[ye]=ce[ye]);var qe=arguments.length-2;if(qe===1)we.children=de;else if(1<qe){for(var De=Array(qe),Ze=0;Ze<qe;Ze++)De[Ze]=arguments[Ze+2];we.children=De}if(Y&&Y.defaultProps)for(ye in qe=Y.defaultProps,qe)we[ye]===void 0&&(we[ye]=qe[ye]);return{$$typeof:t,type:Y,key:Ne,ref:ze,props:we,_owner:L.current}}function R(Y,ce){return{$$typeof:t,type:Y.type,key:ce,ref:Y.ref,props:Y.props,_owner:Y._owner}}function B(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function F(Y){var ce={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(de){return ce[de]})}var W=/\/+/g;function U(Y,ce){return typeof Y=="object"&&Y!==null&&Y.key!=null?F(""+Y.key):ce.toString(36)}function $(Y,ce,de,ye,we){var Ne=typeof Y;(Ne==="undefined"||Ne==="boolean")&&(Y=null);var ze=!1;if(Y===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(Y.$$typeof){case t:case e:ze=!0}}if(ze)return ze=Y,we=we(ze),Y=ye===""?"."+U(ze,0):ye,j(we)?(de="",Y!=null&&(de=Y.replace(W,"$&/")+"/"),$(we,ce,de,"",function(Ze){return Ze})):we!=null&&(B(we)&&(we=R(we,de+(!we.key||ze&&ze.key===we.key?"":(""+we.key).replace(W,"$&/")+"/")+Y)),ce.push(we)),1;if(ze=0,ye=ye===""?".":ye+":",j(Y))for(var qe=0;qe<Y.length;qe++){Ne=Y[qe];var De=ye+U(Ne,qe);ze+=$(Ne,ce,de,De,we)}else if(De=b(Y),typeof De=="function")for(Y=De.call(Y),qe=0;!(Ne=Y.next()).done;)Ne=Ne.value,De=ye+U(Ne,qe++),ze+=$(Ne,ce,de,De,we);else if(Ne==="object")throw ce=String(Y),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return ze}function X(Y,ce,de){if(Y==null)return Y;var ye=[],we=0;return $(Y,ye,"","",function(Ne){return ce.call(de,Ne,we++)}),ye}function Z(Y){if(Y._status===-1){var ce=Y._result;ce=ce(),ce.then(function(de){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=de)},function(de){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=de)}),Y._status===-1&&(Y._status=0,Y._result=ce)}if(Y._status===1)return Y._result.default;throw Y._result}var ae={current:null},ie={transition:null},ee={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:ie,ReactCurrentOwner:L};function se(){throw Error("act(...) is not supported in production builds of React.")}return xn.Children={map:X,forEach:function(Y,ce,de){X(Y,function(){ce.apply(this,arguments)},de)},count:function(Y){var ce=0;return X(Y,function(){ce++}),ce},toArray:function(Y){return X(Y,function(ce){return ce})||[]},only:function(Y){if(!B(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},xn.Component=I,xn.Fragment=n,xn.Profiler=i,xn.PureComponent=O,xn.StrictMode=r,xn.Suspense=c,xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,xn.act=se,xn.cloneElement=function(Y,ce,de){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var ye=_({},Y.props),we=Y.key,Ne=Y.ref,ze=Y._owner;if(ce!=null){if(ce.ref!==void 0&&(Ne=ce.ref,ze=L.current),ce.key!==void 0&&(we=""+ce.key),Y.type&&Y.type.defaultProps)var qe=Y.type.defaultProps;for(De in ce)D.call(ce,De)&&!z.hasOwnProperty(De)&&(ye[De]=ce[De]===void 0&&qe!==void 0?qe[De]:ce[De])}var De=arguments.length-2;if(De===1)ye.children=de;else if(1<De){qe=Array(De);for(var Ze=0;Ze<De;Ze++)qe[Ze]=arguments[Ze+2];ye.children=qe}return{$$typeof:t,type:Y.type,key:we,ref:Ne,props:ye,_owner:ze}},xn.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},xn.createElement=P,xn.createFactory=function(Y){var ce=P.bind(null,Y);return ce.type=Y,ce},xn.createRef=function(){return{current:null}},xn.forwardRef=function(Y){return{$$typeof:l,render:Y}},xn.isValidElement=B,xn.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:Z}},xn.memo=function(Y,ce){return{$$typeof:d,type:Y,compare:ce===void 0?null:ce}},xn.startTransition=function(Y){var ce=ie.transition;ie.transition={};try{Y()}finally{ie.transition=ce}},xn.unstable_act=se,xn.useCallback=function(Y,ce){return ae.current.useCallback(Y,ce)},xn.useContext=function(Y){return ae.current.useContext(Y)},xn.useDebugValue=function(){},xn.useDeferredValue=function(Y){return ae.current.useDeferredValue(Y)},xn.useEffect=function(Y,ce){return ae.current.useEffect(Y,ce)},xn.useId=function(){return ae.current.useId()},xn.useImperativeHandle=function(Y,ce,de){return ae.current.useImperativeHandle(Y,ce,de)},xn.useInsertionEffect=function(Y,ce){return ae.current.useInsertionEffect(Y,ce)},xn.useLayoutEffect=function(Y,ce){return ae.current.useLayoutEffect(Y,ce)},xn.useMemo=function(Y,ce){return ae.current.useMemo(Y,ce)},xn.useReducer=function(Y,ce,de){return ae.current.useReducer(Y,ce,de)},xn.useRef=function(Y){return ae.current.useRef(Y)},xn.useState=function(Y){return ae.current.useState(Y)},xn.useSyncExternalStore=function(Y,ce,de){return ae.current.useSyncExternalStore(Y,ce,de)},xn.useTransition=function(){return ae.current.useTransition()},xn.version="18.3.1",xn}var _I;function Tp(){return _I||(_I=1,aw.exports=QM()),aw.exports}var SI;function KM(){if(SI)return Jf;SI=1;var t=Tp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,h={},b=null,x=null;d!==void 0&&(b=""+d),c.key!==void 0&&(b=""+c.key),c.ref!==void 0&&(x=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:l,key:b,ref:x,props:h,_owner:i.current}}return Jf.Fragment=n,Jf.jsx=o,Jf.jsxs=o,Jf}var EI;function GM(){return EI||(EI=1,ow.exports=KM()),ow.exports}var m=GM(),Wd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wu=typeof window>"u"||"Deno"in globalThis;function js(){}function ZM(t,e){return typeof t=="function"?t(e):t}function sS(t){return typeof t=="number"&&t>=0&&t!==1/0}function PR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function od(t,e){return typeof t=="function"?t(e):t}function co(t,e){return typeof t=="function"?t(e):t}function NI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==TE(o,e.options))return!1}else if(!Wh(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function kI(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Uu(e.options.mutationKey)!==Uu(s))return!1}else if(!Wh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function TE(t,e){return(e?.queryKeyHashFn||Uu)(t)}function Uu(t){return JSON.stringify(t,(e,n)=>oS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Wh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Wh(t[n],e[n])):!1}function qE(t,e){if(t===e)return t;const n=II(t)&&II(e);if(n||oS(t)&&oS(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=qE(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function wy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function II(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function oS(t){if(!CI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!CI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function CI(t){return Object.prototype.toString.call(t)==="[object Object]"}function JM(t){return new Promise(e=>{setTimeout(e,t)})}function aS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qE(t,e):e}function YM(t){return t}function XM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function e4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var RE=Symbol();function FR(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===RE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var t4=class extends Wd{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Wu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},AE=new t4,n4=class extends Wd{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Wu&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},_y=new n4;function lS(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function r4(t){return Math.min(1e3*2**t,3e4)}function DR(t){return(t??"online")==="online"?_y.isOnline():!0}var LR=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function lw(t){return t instanceof LR}function MR(t){let e=!1,n=0,r=!1,i;const s=lS(),o=N=>{r||(b(new LR(N)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},d=()=>AE.isFocused()&&(t.networkMode==="always"||_y.isOnline())&&t.canRun(),f=()=>DR(t.networkMode)&&t.canRun(),h=N=>{r||(r=!0,t.onSuccess?.(N),i?.(),s.resolve(N))},b=N=>{r||(r=!0,t.onError?.(N),i?.(),s.reject(N))},x=()=>new Promise(N=>{i=I=>{(r||d())&&N(I)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),_=()=>{if(r)return;let N;const I=n===0?t.initialPromise:void 0;try{N=I??t.fn()}catch(T){N=Promise.reject(T)}Promise.resolve(N).then(h).catch(T=>{if(r)return;const O=t.retry??(Wu?0:3),q=t.retryDelay??r4,j=typeof q=="function"?q(n,T):q,D=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,T);if(e||!D){b(T);return}n++,t.onFail?.(n,T),JM(j).then(()=>d()?void 0:x()).then(()=>{e?b(T):_()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?_():x().then(_),s)}}function i4(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Ar=i4(),$R=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},s4=class extends $R{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=o4(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=aS(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(js).catch(js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>co(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===RE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!PR(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=FR(this.options,e),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#s=!1,this.options.persister?this.options.persister(l,c,this):l(c)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta});const o=l=>{lw(l)&&l.silent||this.#o({type:"error",error:l}),lw(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=MR({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...BR(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return lw(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Ar.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function BR(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function o4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var a4=class extends Wd{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??TE(r,e);let s=this.get(i);return s||(s=new s4({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ar.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>NI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>NI(t,n)):e}notify(t){Ar.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ar.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ar.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},l4=class extends $R{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||zR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=MR({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ar.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function zR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var u4=class extends Wd{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new l4({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=sg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=sg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=sg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=sg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ar.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>kI(e,n))}findAll(t={}){return this.getAll().filter(e=>kI(t,e))}notify(t){Ar.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ar.batch(()=>Promise.all(t.map(e=>e.continue().catch(js))))}};function sg(t){return t.options.scope?.id}function OI(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const h=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},b=FR(e.options,e.fetchOptions),x=async(_,N,I)=>{if(f)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const T={queryKey:e.queryKey,pageParam:N,direction:I?"backward":"forward",meta:e.options.meta};h(T);const O=await b(T),{maxPages:q}=e.options,j=I?e4:XM;return{pages:j(_.pages,O,q),pageParams:j(_.pageParams,N,q)}};if(i&&s.length){const _=i==="backward",N=_?c4:TI,I={pages:s,pageParams:o},T=N(r,I);l=await x(I,T,_)}else{const _=t??s.length;do{const N=c===0?o[0]??r.initialPageParam:TI(r,l);if(c>0&&N==null)break;l=await x(l,N),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function TI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function c4(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var d4=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new a4,this.#t=t.mutationCache||new u4,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=AE.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=_y.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(od(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=ZM(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ar.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Ar.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Ar.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ar.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(js).catch(js)}invalidateQueries(t,e={}){return Ar.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ar.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(js)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(js)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(od(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(js).catch(js)}fetchInfiniteQuery(t){return t.behavior=OI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(js).catch(js)}ensureInfiniteQueryData(t){return t.behavior=OI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _y.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Uu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Wh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Uu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{Wh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=TE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===RE&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},f4=class extends Wd{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=lS(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),qI(this.#t,this.options)?this.#p():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return uS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return uS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof co(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!wy(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&RI(this.#t,r,this.options,n)&&this.#p(),this.updateResult(e),i&&(this.#t!==r||co(this.options.enabled,this.#t)!==co(n.enabled,this.#t)||od(this.options.staleTime,this.#t)!==od(n.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==r||co(this.options.enabled,this.#t)!==co(n.enabled,this.#t)||s!==this.#f)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return p4(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#p(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(js)),e}#g(){this.#x();const t=od(this.options.staleTime,this.#t);if(Wu||this.#r.isStale||!sS(t))return;const n=PR(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Wu||co(this.options.enabled,this.#t)===!1||!sS(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||AE.isFocused())&&this.#p()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,s=this.#i,o=this.#s,c=t!==n?t.state:this.#n,{state:d}=t;let f={...d},h=!1,b;if(e._optimisticResults){const z=this.hasListeners(),P=!z&&qI(t,e),R=z&&RI(t,n,e,r);(P||R)&&(f={...f,...BR(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:_,status:N}=f;if(e.select&&f.data!==void 0)if(i&&f.data===s?.data&&e.select===this.#u)b=this.#l;else try{this.#u=e.select,b=e.select(f.data),b=aS(i?.data,b,e),this.#l=b,this.#a=null}catch(z){this.#a=z}else b=f.data;if(e.placeholderData!==void 0&&b===void 0&&N==="pending"){let z;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)z=i.data;else if(z=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&z!==void 0)try{z=e.select(z),this.#a=null}catch(P){this.#a=P}z!==void 0&&(N="success",b=aS(i?.data,z,e),h=!0)}this.#a&&(x=this.#a,b=this.#l,_=Date.now(),N="error");const I=f.fetchStatus==="fetching",T=N==="pending",O=N==="error",q=T&&I,j=b!==void 0,L={status:N,fetchStatus:f.fetchStatus,isPending:T,isSuccess:N==="success",isError:O,isInitialLoading:q,isLoading:q,data:b,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:_,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:I,isRefetching:I&&!T,isLoadingError:O&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:O&&j,isStale:jE(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const z=B=>{L.status==="error"?B.reject(L.error):L.data!==void 0&&B.resolve(L.data)},P=()=>{const B=this.#o=L.promise=lS();z(B)},R=this.#o;switch(R.status){case"pending":t.queryHash===n.queryHash&&z(R);break;case"fulfilled":(L.status==="error"||L.data!==R.value)&&P();break;case"rejected":(L.status!=="error"||L.error!==R.reason)&&P();break}}return L}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),wy(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(c=>{const d=c;return this.#r[d]!==e[d]&&l.has(d)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Ar.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function h4(t,e){return co(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qI(t,e){return h4(t,e)||t.state.data!==void 0&&uS(t,e,e.refetchOnMount)}function uS(t,e,n){if(co(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&jE(t,e)}return!1}function RI(t,e,n,r){return(t!==e||co(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&jE(t,n)}function jE(t,e){return co(e.enabled,t)!==!1&&t.isStaleByTime(od(e.staleTime,t))}function p4(t,e){return!wy(t.getCurrentResult(),e)}var m4=class extends Wd{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),wy(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Uu(n.mutationKey)!==Uu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??zR();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Ar.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},Q=Tp();const An=zs(Q),g4=VM({__proto__:null,default:An},[Q]);var WR=Q.createContext(void 0),Cv=t=>{const e=Q.useContext(WR);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},y4=({client:t,children:e})=>(Q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(WR.Provider,{value:t,children:e})),UR=Q.createContext(!1),v4=()=>Q.useContext(UR);UR.Provider;function b4(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var x4=Q.createContext(b4()),w4=()=>Q.useContext(x4);function VR(t,e){return typeof t=="function"?t(...e):!!t}function cS(){}var _4=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},S4=t=>{Q.useEffect(()=>{t.clearReset()},[t])},E4=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&VR(n,[t.error,r]),N4=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},k4=(t,e)=>t.isLoading&&t.isFetching&&!e,I4=(t,e)=>t?.suspense&&e.isPending,AI=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function C4(t,e,n){const r=Cv(),i=v4(),s=w4(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",N4(o),_4(o,s),S4(s);const l=!r.getQueryCache().get(o.queryHash),[c]=Q.useState(()=>new e(r,o)),d=c.getOptimisticResult(o),f=!i&&t.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(h=>{const b=f?c.subscribe(Ar.batchCalls(h)):cS;return c.updateResult(),b},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Q.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),I4(o,d))throw AI(o,c,s);if(E4({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Wu&&k4(d,i)&&(l?AI(o,c,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(cS).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function Ll(t,e){return C4(t,f4)}function jI(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function O4(t={},e){const n=Cv().getMutationCache(),r=Q.useRef(t),i=Q.useRef(null);return i.current||(i.current=jI(n,t)),Q.useEffect(()=>{r.current=t}),Q.useSyncExternalStore(Q.useCallback(s=>n.subscribe(()=>{const o=qE(i.current,jI(n,r.current));i.current!==o&&(i.current=o,Ar.schedule(s))}),[n]),()=>i.current,()=>i.current)}function vn(t,e){const n=Cv(),[r]=Q.useState(()=>new m4(n,t));Q.useEffect(()=>{r.setOptions(t)},[r,t]);const i=Q.useSyncExternalStore(Q.useCallback(o=>r.subscribe(Ar.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=Q.useCallback((o,l)=>{r.mutate(o,l).catch(cS)},[r]);if(i.error&&VR(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const Lu="__TSR_index",PI="popstate",FI="beforeunload";function HR(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},s=async({task:o,navigateOpts:l,...c})=>{var d,f;if(l?.ignoreBlocker??!1){o();return}const b=((d=t.getBlockers)==null?void 0:d.call(t))??[],x=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&b.length&&x)for(const _ of b){const N=Uh(c.path,c.state);if(await _.blockerFn({currentLocation:e,nextLocation:N,action:c.type})){(f=t.onBlocked)==null||f.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,c)=>{const d=e.state[Lu];l=dS(d+1,l),s({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:o,state:l})},replace:(o,l,c)=>{const d=e.state[Lu];l=dS(d,l),s({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:o,state:l})},go:(o,l)=>{s({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{s({task:()=>{t.back(o?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{t.forward(o?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Lu]!==0,createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const c=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...c,o]),()=>{var d,f;const h=((d=t.getBlockers)==null?void 0:d.call(t))??[];(f=t.setBlockers)==null||f.call(t,h.filter(b=>b!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function dS(t,e){return e||(e={}),{...e,key:R4(),[Lu]:t}}function T4(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const s=()=>i,o=P=>i=P,l=P=>P,c=()=>Uh(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let d=c(),f,h=!1,b=!1,x=!1,_=!1;const N=()=>d;let I,T;const O=()=>{I&&(z._ignoreSubscribers=!0,(I.isPush?e.history.pushState:e.history.replaceState)(I.state,"",I.href),z._ignoreSubscribers=!1,I=void 0,T=void 0,f=void 0)},q=(P,R,B)=>{const F=l(R);T||(f=d),d=Uh(R,B),I={href:F,state:B,isPush:I?.isPush||P==="push"},T||(T=Promise.resolve().then(()=>O()))},j=P=>{d=c(),z.notify({type:P})},D=async()=>{if(b){b=!1;return}const P=c(),R=P.state[Lu]-d.state[Lu],B=R===1,F=R===-1,W=!B&&!F||h;h=!1;const U=W?"GO":F?"BACK":"FORWARD",$=W?{type:"GO",index:R}:{type:F?"BACK":"FORWARD"};if(x)x=!1;else{const X=s();if(typeof document<"u"&&X.length){for(const Z of X)if(await Z.blockerFn({currentLocation:d,nextLocation:P,action:U})){b=!0,e.history.go(1),z.notify($);return}}}d=c(),z.notify($)},L=P=>{if(_){_=!1;return}let R=!1;const B=s();if(typeof document<"u"&&B.length)for(const F of B){const W=F.enableBeforeUnload??!0;if(W===!0){R=!0;break}if(typeof W=="function"&&W()===!0){R=!0;break}}if(R)return P.preventDefault(),P.returnValue=""},z=HR({getLocation:N,getLength:()=>e.history.length,pushState:(P,R)=>q("push",P,R),replaceState:(P,R)=>q("replace",P,R),back:P=>(P&&(x=!0),_=!0,e.history.back()),forward:P=>{P&&(x=!0),_=!0,e.history.forward()},go:P=>{h=!0,e.history.go(P)},createHref:P=>l(P),flush:O,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(FI,L,{capture:!0}),e.removeEventListener(PI,D)},onBlocked:()=>{f&&d!==f&&(d=f)},getBlockers:s,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(FI,L,{capture:!0}),e.addEventListener(PI,D),e.history.pushState=function(...P){const R=n.apply(e.history,P);return z._ignoreSubscribers||j("PUSH"),R},e.history.replaceState=function(...P){const R=r.apply(e.history,P);return z._ignoreSubscribers||j("REPLACE"),R},z}function q4(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((s,o)=>dS(o,void 0));return HR({getLocation:()=>Uh(e[n],r[n]),getLength:()=>e.length,pushState:(s,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(s),n=Math.max(e.length-1,0)},replaceState:(s,o)=>{r[n]=o,e[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),e.length-1)},createHref:s=>s})}function Uh(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Lu]:0}}}function R4(){return(Math.random()+1).toString(36).substring(7)}var A4="Invariant failed";function os(t,e){if(!t)throw new Error(A4)}const uw=Q.createContext(null);function QR(){return typeof document>"u"?uw:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=uw,uw)}function No(t){const e=Q.useContext(QR());return t?.warn,e}var cw={exports:{}},dw={},fw={exports:{}},hw={};var DI;function j4(){if(DI)return hw;DI=1;var t=Tp();function e(h,b){return h===b&&(h!==0||1/h===1/b)||h!==h&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(h,b){var x=b(),_=r({inst:{value:x,getSnapshot:b}}),N=_[0].inst,I=_[1];return s(function(){N.value=x,N.getSnapshot=b,c(N)&&I({inst:N})},[h,x,b]),i(function(){return c(N)&&I({inst:N}),h(function(){c(N)&&I({inst:N})})},[h]),o(x),x}function c(h){var b=h.getSnapshot;h=h.value;try{var x=b();return!n(h,x)}catch{return!0}}function d(h,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return hw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,hw}var LI;function P4(){return LI||(LI=1,fw.exports=j4()),fw.exports}var MI;function F4(){if(MI)return dw;MI=1;var t=Tp(),e=P4();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return dw.useSyncExternalStoreWithSelector=function(d,f,h,b,x){var _=s(null);if(_.current===null){var N={hasValue:!1,value:null};_.current=N}else N=_.current;_=l(function(){function T(L){if(!O){if(O=!0,q=L,L=b(L),x!==void 0&&N.hasValue){var z=N.value;if(x(z,L))return j=z}return j=L}if(z=j,r(q,L))return z;var P=b(L);return x!==void 0&&x(z,P)?(q=L,z):(q=L,j=P)}var O=!1,q,j,D=h===void 0?null:h;return[function(){return T(f())},D===null?void 0:function(){return T(D())}]},[f,h,b,x]);var I=i(d,_[0],_[1]);return o(function(){N.hasValue=!0,N.value=I},[I]),c(I),I},dw}var $I;function D4(){return $I||($I=1,cw.exports=F4()),cw.exports}var KR=D4();const L4=zs(KR),ad=new WeakMap,Bg=new WeakMap,Sy={current:[]};let pw=!1,Ih=0;const dh=new Set,og=new Map;function GR(t){const e=Array.from(t).sort((n,r)=>n instanceof ld&&n.options.deps.includes(r)?1:r instanceof ld&&r.options.deps.includes(n)?-1:0);for(const n of e){if(Sy.current.includes(n))continue;Sy.current.push(n),n.recompute();const r=Bg.get(n);if(r)for(const i of r){const s=ad.get(i);s&&GR(s)}}}function M4(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function $4(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function ZR(t){if(Ih>0&&!og.has(t)&&og.set(t,t.prevState),dh.add(t),!(Ih>0)&&!pw)try{for(pw=!0;dh.size>0;){const e=Array.from(dh);dh.clear();for(const n of e){const r=og.get(n)??n.prevState;n.prevState=r,M4(n)}for(const n of e){const r=ad.get(n);r&&(Sy.current.push(n),GR(r))}for(const n of e){const r=ad.get(n);if(r)for(const i of r)$4(i)}}}finally{pw=!1,Sy.current=[],og.clear()}}function mw(t){Ih++;try{t()}finally{if(Ih--,Ih===0){const e=Array.from(dh)[0];e&&ZR(e)}}}class fS{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),ZR(this)},this.prevState=e,this.state=e,this.options=n}}class ld{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof ld&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof ld)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof fS){let r=ad.get(n);r||(r=new Set,ad.set(n,r)),r.add(this);let i=Bg.get(this);i||(i=new Set,Bg.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof ld)this.unregisterFromGraph(n.options.deps);else if(n instanceof fS){const r=ad.get(n);r&&r.delete(this);const i=Bg.get(this);i&&i.delete(n)}}}function B4(t,e=n=>n){return KR.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,z4)}function z4(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var gw,BI;function W4(){if(BI)return gw;BI=1;const t={},e=t.hasOwnProperty,n=(P,R)=>{for(const B in P)e.call(P,B)&&R(B,P[B])},r=(P,R)=>(R&&n(R,(B,F)=>{P[B]=F}),P),i=(P,R)=>{const B=P.length;let F=-1;for(;++F<B;)R(P[F])},s=P=>"\\u"+("0000"+P).slice(-4),o=(P,R)=>{let B=P.toString(16);return R?B:B.toUpperCase()},l=t.toString,c=Array.isArray,d=P=>typeof Buffer=="function"&&Buffer.isBuffer(P),f=P=>l.call(P)=="[object Object]",h=P=>typeof P=="string"||l.call(P)=="[object String]",b=P=>typeof P=="number"||l.call(P)=="[object Number]",x=P=>typeof P=="bigint",_=P=>typeof P=="function",N=P=>l.call(P)=="[object Map]",I=P=>l.call(P)=="[object Set]",T={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},O=/[\\\b\f\n\r\t]/,q=/[0-9]/,j=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,L=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,z=(P,R)=>{const B=()=>{ae=Z,++R.indentLevel,Z=R.indent.repeat(R.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},W=R&&R.json;W&&(F.quotes="double",F.wrap=!0),R=r(F,R),R.quotes!="single"&&R.quotes!="double"&&R.quotes!="backtick"&&(R.quotes="single");const U=R.quotes=="double"?'"':R.quotes=="backtick"?"`":"'",$=R.compact,X=R.lowercaseHex;let Z=R.indent.repeat(R.indentLevel),ae="";const ie=R.__inline1__,ee=R.__inline2__,se=$?"":`
`;let Y,ce=!0;const de=R.numbers=="binary",ye=R.numbers=="octal",we=R.numbers=="decimal",Ne=R.numbers=="hexadecimal";if(W&&P&&_(P.toJSON)&&(P=P.toJSON()),!h(P)){if(N(P))return P.size==0?"new Map()":($||(R.__inline1__=!0,R.__inline2__=!1),"new Map("+z(Array.from(P),R)+")");if(I(P))return P.size==0?"new Set()":"new Set("+z(Array.from(P),R)+")";if(d(P))return P.length==0?"Buffer.from([])":"Buffer.from("+z(Array.from(P),R)+")";if(c(P))return Y=[],R.wrap=!0,ie&&(R.__inline1__=!1,R.__inline2__=!0),ee||B(),i(P,qe=>{ce=!1,ee&&(R.__inline2__=!1),Y.push(($||ee?"":Z)+z(qe,R))}),ce?"[]":ee?"["+Y.join(", ")+"]":"["+se+Y.join(","+se)+se+($?"":ae)+"]";if(b(P)||x(P)){if(W)return JSON.stringify(Number(P));let qe;if(we)qe=String(P);else if(Ne){let De=P.toString(16);X||(De=De.toUpperCase()),qe="0x"+De}else de?qe="0b"+P.toString(2):ye&&(qe="0o"+P.toString(8));return x(P)?qe+"n":qe}else return x(P)?W?JSON.stringify(Number(P)):P+"n":f(P)?(Y=[],R.wrap=!0,B(),n(P,(qe,De)=>{ce=!1,Y.push(($?"":Z)+z(qe,R)+":"+($?"":" ")+z(De,R))}),ce?"{}":"{"+se+Y.join(","+se)+se+($?"":ae)+"}"):W?JSON.stringify(P)||"null":String(P)}const ze=R.escapeEverything?D:L;return Y=P.replace(ze,(qe,De,Ze,Xe,Ue,ut)=>{if(De){if(R.minimal)return De;const Ot=De.charCodeAt(0),Wt=De.charCodeAt(1);if(R.es6){const en=(Ot-55296)*1024+Wt-56320+65536;return"\\u{"+o(en,X)+"}"}return s(o(Ot,X))+s(o(Wt,X))}if(Ze)return s(o(Ze.charCodeAt(0),X));if(qe=="\0"&&!W&&!q.test(ut.charAt(Ue+1)))return"\\0";if(Xe)return Xe==U||R.escapeEverything?"\\"+Xe:Xe;if(O.test(qe))return T[qe];if(R.minimal&&!j.test(qe))return qe;const _t=o(qe.charCodeAt(0),X);return W||_t.length>2?s(_t):"\\x"+("00"+_t).slice(-2)}),U=="`"&&(Y=Y.replace(/\$\{/g,"\\${")),R.isScriptContext&&(Y=Y.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,W?"\\u003C!--":"\\x3C!--")),R.wrap&&(Y=U+Y+U),Y};return z.version="3.0.2",gw=z,gw}W4();const is="__root__";function U4(t,e){let n,r,i,s="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+s}function zI(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function V4(t,e){let n,r;const i={},s=t.split("&");for(;n=s.shift();){const o=n.indexOf("=");if(o!==-1){r=n.slice(0,o),r=decodeURIComponent(r);const l=n.slice(o+1);i[r]!==void 0?i[r]=[].concat(i[r],zI(l)):i[r]=zI(l)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const H4=K4(JSON.parse),Q4=G4(JSON.stringify,JSON.parse);function K4(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=V4(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function G4(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=U4(r).toString();return i?`?${i}`:""}}function Ch(t){return t[t.length-1]}function Z4(t){return typeof t=="function"}function qu(t,e){return Z4(t)?t(e):t}function zg(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Rs(t,e){if(t===e)return t;const n=e,r=UI(t)&&UI(n);if(r||Ol(t)&&Ol(n)){const i=r?t:Object.keys(t),s=i.length,o=r?n:Object.keys(n),l=o.length,c=r?[]:{};let d=0;for(let f=0;f<l;f++){const h=r?f:o[f];(!r&&i.includes(h)||r)&&t[h]===void 0&&n[h]===void 0?(c[h]=void 0,d++):(c[h]=Rs(t[h],n[h]),c[h]===t[h]&&t[h]!==void 0&&d++)}return s===l&&d===s?t:c}return n}function Ol(t){if(!WI(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!WI(n)||!n.hasOwnProperty("isPrototypeOf"))}function WI(t){return Object.prototype.toString.call(t)==="[object Object]"}function UI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function VI(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function ud(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Ol(t)&&Ol(e)){const r=n?.ignoreUndefined??!0,i=VI(t,r),s=VI(e,r);return!n?.partial&&i.length!==s.length?!1:s.every(o=>ud(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!ud(r,e[i],n)):!1}const fh=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Qc(t){let e,n;const r=new Promise((i,s)=>{e=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function yw(t){const e=Q.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function J4(t,e,n={},r={}){const i=Q.useRef(typeof IntersectionObserver=="function"),s=Q.useRef(null);return Q.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{e(o)},n),s.current.observe(t.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[e,n,r.disabled,t]),s.current}function Y4(t){const e=Q.useRef(null);return Q.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function qa(t){return Ov(t.filter(e=>e!==void 0).join("/"))}function Ov(t){return t.replace(/\/{2,}/g,"/")}function PE(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Ru(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function X4(t){return Ru(PE(t))}function Ey(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function e$(t,e,n){return Ey(t,n)===Ey(e,n)}function t$({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;e=Ny(t,e,i),n=Ny(t,n,i);let l=kd(e);const c=kd(n);l.length>1&&((s=Ch(l))==null?void 0:s.value)==="/"&&l.pop(),c.forEach((f,h)=>{f.value==="/"?h?h===c.length-1&&l.push(f):l=[f]:f.value===".."?l.pop():f.value==="."||l.push(f)}),l.length>1&&(((o=Ch(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const d=qa([t,...l.map(f=>f.value)]);return Ov(d)}function kd(t){if(!t)return[];t=Ov(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function ag({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=kd(t),o={};for(const[l,c]of Object.entries(e)){const d=typeof c=="string";["*","_splat"].includes(l)?o[l]=d?encodeURI(c):c:o[l]=d?n$(c,i):c}return qa(s.map(l=>{if(l.type==="wildcard"){const c=o._splat;return n?`${l.value}${c??""}`:c}if(l.type==="param"){if(r){const c=o[l.value];return`${l.value}${c??""}`}return o[l.value.substring(1)]??"undefined"}return l.value}))}function n$(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function lg(t,e,n){const r=r$(t,e,n);if(!(n.to&&!r))return r??{}}function Ny(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function r$(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=Ny(t,e,n.caseSensitive);const r=Ny(t,`${n.to??"$"}`,n.caseSensitive),i=kd(e),s=kd(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let c=0;c<Math.max(i.length,s.length);c++){const d=i[c],f=s[c],h=c>=i.length-1,b=c>=s.length-1;if(f){if(f.type==="wildcard"){const x=decodeURI(qa(i.slice(c).map(_=>_.value)));return o["*"]=x,o._splat=x,!0}if(f.type==="pathname"){if(f.value==="/"&&!d?.value)return!0;if(d){if(n.caseSensitive){if(f.value!==d.value)return!1}else if(f.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(f.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[f.value.substring(1)]=decodeURIComponent(d.value))}}if(!h&&b)return o["**"]=qa(i.slice(c+1).map(x=>x.value)),!!n.fuzzy&&f?.value!=="/"}return!0})()?o:void 0}function Tv(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function _u(t){return!!t?.isRedirect}function vw(t){return!!t?.isRedirect&&t.href}function FE(t){const e=t.errorComponent??qv;return m.jsx(i$,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?Q.createElement(e,{error:n,reset:r}):t.children})}class i$ extends Q.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function qv({error:t}){const[e,n]=Q.useState(!1);return m.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[m.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),m.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),m.jsx("div",{style:{height:".25rem"}}),e?m.jsx("div",{children:m.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?m.jsx("code",{children:t.message}):null})}):null]})}function Ii(t){const e=No({warn:t?.router===void 0}),n=t?.router||e,r=Q.useRef();return B4(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const s=Rs(r.current,t.select(i));return r.current=s,s}return t.select(i)}return i})}function lo(t){return!!t?.isNotFound}function s$(t){const e=Ii({select:n=>`not-found-${n.location.pathname}-${n.status}`});return m.jsx(FE,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(lo(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(lo(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function o$(){return m.jsx("p",{children:"Not Found"})}const hh={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],s=cg.find(o=>o.stringifyCondition(i));return s?s.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n];if(Ol(i)){const s=cg.find(o=>o.parseCondition(i));if(s)return s.parse(i)}return r}),encode:t=>{if(Array.isArray(t))return t.map(n=>hh.encode(n));if(Ol(t))return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,hh.encode(r)]));const e=cg.find(n=>n.stringifyCondition(t));return e?e.stringify(t):t},decode:t=>{if(Ol(t)){const e=cg.find(n=>n.parseCondition(t));if(e)return e.parse(t)}return Array.isArray(t)?t.map(e=>hh.decode(e)):Ol(t)?Object.fromEntries(Object.entries(t).map(([e,n])=>[e,hh.decode(n)])):t}},ug=(t,e,n,r)=>({key:t,stringifyCondition:e,stringify:i=>({[`$${t}`]:n(i)}),parseCondition:i=>Object.hasOwn(i,`$${t}`),parse:i=>r(i[`$${t}`])}),cg=[ug("undefined",t=>t===void 0,()=>0,()=>{}),ug("date",t=>t instanceof Date,t=>t.toISOString(),t=>new Date(t)),ug("error",t=>t instanceof Error,t=>({...t,message:t.message,stack:t.stack,cause:t.cause}),t=>Object.assign(new Error(t.message),t)),ug("formData",t=>t instanceof FormData,t=>{const e={};return t.forEach((n,r)=>{const i=e[r];i!==void 0?Array.isArray(i)?i.push(n):e[r]=[i,n]:e[r]=n}),e},t=>{const e=new FormData;return Object.entries(t).forEach(([n,r])=>{Array.isArray(r)?r.forEach(i=>e.append(n,i)):e.append(n,r)}),e})],JR=["component","errorComponent","pendingComponent","notFoundComponent"];function a$(t){var e;for(const n of JR)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function bw(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new hS("Async validation not supported");if(n.issues)throw new hS(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function l$(t){return new u$(t)}class u${constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${X4(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?q4({initialEntries:[this.basepath||"/"]}):T4()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new fS(d$(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((l,c)=>{l.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const d=this.routesById[l.id];if(os(!d,`Duplicate routes found with id: ${String(l.id)}`),this.routesById[l.id]=l,!l.isRoot&&l.path){const h=Ru(l.fullPath);(!this.routesByPath[h]||l.fullPath.endsWith("/"))&&(this.routesByPath[h]=l)}const f=l.children;f?.length&&r(f)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,l)=>{var c;if(o.isRoot||!o.path)return;const d=PE(o.fullPath),f=kd(d);for(;f.length>1&&((c=f[0])==null?void 0:c.value)==="/";)f.shift();const h=f.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);i.push({child:o,trimmed:d,parsed:f,index:l,scores:h})}),this.flatRoutes=i.sort((o,l)=>{const c=Math.min(o.scores.length,l.scores.length);for(let d=0;d<c;d++)if(o.scores[d]!==l.scores[d])return l.scores[d]-o.scores[d];if(o.scores.length!==l.scores.length)return l.scores.length-o.scores.length;for(let d=0;d<c;d++)if(o.parsed[d].value!==l.parsed[d].value)return o.parsed[d].value>l.parsed[d].value?1:-1;return o.index-l.index}).map((o,l)=>(o.child.rank=l,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:c,search:d,hash:f,state:h})=>{const b=this.options.parseSearch(d),x=this.options.stringifySearch(b);return{pathname:c,searchStr:x,search:Rs(n?.search,b),hash:f.split("#").reverse()[0]??"",href:`${c}${x}${f}`,state:Rs(n?.state,h)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:l}=s.state;if(o&&(!l||l===this.tempLocationKey)){const c=i(o);return c.state.key=s.state.key,delete c.state.__tempLocation,{...c,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>t$({basepath:this.basepath,base:n,to:Ov(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const s=Ru(n.pathname),o=f=>lg(this.basepath,s,{to:f.fullPath,caseSensitive:f.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let l=r?.to!==void 0?this.routesByPath[r.to]:void 0;l?i=o(l):l=this.flatRoutes.find(f=>{const h=o(f);return h?(i=h,!0):!1});let c=l||this.routesById[is];const d=[c];for(;c.parentRoute;)c=c.parentRoute,d.unshift(c);return{matchedRoutes:d,routeParams:i,foundRoute:l}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var l,c,d,f,h,b;const x=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,_=s.from!=null?x.find(F=>lg(this.basepath,Ru(F.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,N=_?.pathname||this.latestLocation.pathname;os(s.from==null||_!=null,"Could not find match for from: "+s.from);const I=(l=this.state.pendingMatches)!=null&&l.length?(c=Ch(this.state.pendingMatches))==null?void 0:c.search:((d=Ch(x))==null?void 0:d.search)||this.latestLocation.search,T=o?.matchedRoutes.filter(F=>x.find(W=>W.routeId===F.id));let O;if(s.to)O=this.resolvePathWithBase(N,`${s.to}`);else{const F=this.routesById[(f=T?.find(W=>{const U=ag({path:W.fullPath,params:o?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return qa([this.basepath,U])===N}))==null?void 0:f.id];O=this.resolvePathWithBase(N,F?.to??N)}const q={...(h=Ch(x))==null?void 0:h.params};let j=(s.params??!0)===!0?q:{...q,...qu(s.params,q)};Object.keys(j).length>0&&o?.matchedRoutes.map(F=>{var W;return((W=F.options.params)==null?void 0:W.stringify)??F.options.stringifyParams}).filter(Boolean).forEach(F=>{j={...j,...F(j)}}),O=ag({path:O,params:j??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let D=I;if(n._includeValidateSearch&&((b=this.options.search)!=null&&b.strict)){let F={};o?.matchedRoutes.forEach(W=>{try{W.options.validateSearch&&(F={...F,...bw(W.options.validateSearch,{...F,...D})??{}})}catch{}}),D=F}D=(F=>{const W=o?.matchedRoutes.reduce((X,Z)=>{var ae;const ie=[];if("search"in Z.options)(ae=Z.options.search)!=null&&ae.middlewares&&ie.push(...Z.options.search.middlewares);else if(Z.options.preSearchFilters||Z.options.postSearchFilters){const ee=({search:se,next:Y})=>{let ce=se;"preSearchFilters"in Z.options&&Z.options.preSearchFilters&&(ce=Z.options.preSearchFilters.reduce((ye,we)=>we(ye),se));const de=Y(ce);return"postSearchFilters"in Z.options&&Z.options.postSearchFilters?Z.options.postSearchFilters.reduce((ye,we)=>we(ye),de):de};ie.push(ee)}if(n._includeValidateSearch&&Z.options.validateSearch){const ee=({search:se,next:Y})=>{try{const ce=Y(se);return{...ce,...bw(Z.options.validateSearch,ce)??{}}}catch{}};ie.push(ee)}return X.concat(ie)},[])??[],U=({search:X})=>s.search?s.search===!0?X:qu(s.search,X):{};W.push(U);const $=(X,Z)=>{if(X>=W.length)return Z;const ae=W[X];return ae({search:Z,next:ee=>$(X+1,ee)})};return $(0,F)})(D),D=Rs(I,D);const z=this.options.stringifySearch(D),P=s.hash===!0?this.latestLocation.hash:s.hash?qu(s.hash,this.latestLocation.hash):void 0,R=P?`#${P}`:"";let B=s.state===!0?this.latestLocation.state:s.state?qu(s.state,this.latestLocation.state):{};return B=Rs(this.latestLocation.state,B),{pathname:O,search:D,searchStr:z,state:B,hash:P??"",href:`${O}${z}${R}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var l;const c=r(s);let d=o?r(o):void 0;if(!d){let b={};const x=(l=this.options.routeMasks)==null?void 0:l.find(_=>{const N=lg(this.basepath,c.pathname,{to:_.from,caseSensitive:!1,fuzzy:!1});return N?(b=N,!0):!1});if(x){const{from:_,...N}=x;o={...zg(n,["from"]),...N,params:b},d=r(o)}}const f=this.getMatchedRoutes(c,s),h=r(s,f);if(d){const b=this.getMatchedRoutes(d,o),x=r(o,b);h.maskedLocation=x}return h};return n.mask?i(n,{...zg(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{i.state.key=this.latestLocation.state.key;const c=ud(i.state,this.latestLocation.state);return delete i.state.key,c},o=this.latestLocation.href===i.href,l=this.commitLocationPromise;if(this.commitLocationPromise=Qc(()=>{l?.resolve()}),o&&s())this.load();else{let{maskedLocation:c,hashScrollIntoView:d,...f}=i;c&&(f={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...f,search:f.searchStr,state:{...f.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(f.unmaskOnReload??this.options.unmaskOnReload??!1)&&(f.state.__tempKey=this.tempLocationKey)),f.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](f.href,f.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:l,...c}={})=>{if(l){const f=this.history.location.state.__TSR_index,h=Uh(l,{__TSR_index:n?f:f+1});c.to=h.pathname,c.search=this.options.parseSearch(h.search),c.hash=h.hash.slice(1)}const d=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){i||(i=this.buildLocation({to:n,...s}).href),s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,d=this.state.resolvedLocation,f=d.href!==c.href,h=d.pathname!==c.pathname;this.cancelMatches();let b;mw(()=>{b=this.matchRoutes(c),this.__store.setState(x=>({...x,status:"pending",isLoading:!0,location:c,pendingMatches:b,cachedMatches:x.cachedMatches.filter(_=>!b.find(N=>N.id===_.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:c,pathChanged:h,hrefChanged:f}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:c,pathChanged:h,hrefChanged:f}),await this.loadMatches({sync:n?.sync,matches:b,location:c,onReady:async()=>{this.startViewTransition(async()=>{let x,_,N;mw(()=>{this.__store.setState(I=>{const T=I.matches,O=I.pendingMatches||I.matches;return x=T.filter(q=>!O.find(j=>j.id===q.id)),_=O.filter(q=>!T.find(j=>j.id===q.id)),N=T.filter(q=>O.find(j=>j.id===q.id)),{...I,isLoading:!1,loadedAt:Date.now(),matches:O,pendingMatches:void 0,cachedMatches:[...I.cachedMatches,...x.filter(q=>q.status!=="error")]}}),this.clearExpiredCache()}),[[x,"onLeave"],[_,"onEnter"],[N,"onStay"]].forEach(([I,T])=>{I.forEach(O=>{var q,j;(j=(q=this.looseRoutesById[O.routeId].options)[T])==null||j.call(q,O)})})})}})}catch(c){vw(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):lo(c)&&(i=c),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:i?404:d.matches.some(f=>f.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(f=>f.id===n),l=this.state.matches.find(f=>f.id===n),c=this.state.cachedMatches.find(f=>f.id===n),d=o?"pendingMatches":l?"matches":c?"cachedMatches":"";return d&&this.__store.setState(f=>{var h;return{...f,[d]:(h=f[d])==null?void 0:h.map(b=>b.id===n?s=r(b):b)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:l})=>{let c,d=!1;const f=async()=>{d||(d=!0,await s?.())},h=x=>!!(i&&!this.state.matches.find(_=>_.id===x));!this.isServer&&!this.state.matches.length&&f();const b=(x,_)=>{var N,I,T;if(vw(_)&&!_.reloadDocument)throw _;if(_u(_)||lo(_)){if(o(x.id,O=>({...O,status:_u(_)?"redirected":lo(_)?"notFound":"error",isFetching:!1,error:_,beforeLoadPromise:void 0,loaderPromise:void 0})),_.routeId||(_.routeId=x.routeId),(N=x.beforeLoadPromise)==null||N.resolve(),(I=x.loaderPromise)==null||I.resolve(),(T=x.loadPromise)==null||T.resolve(),_u(_))throw d=!0,_=this.resolveRedirect({..._,_fromLocation:n}),_;if(lo(_))throw this._handleNotFound(r,_,{updateMatch:o}),_}};try{await new Promise((x,_)=>{(async()=>{var N,I,T;try{const O=(D,L,z)=>{var P,R;const{id:B,routeId:F}=r[D],W=this.looseRoutesById[F];if(L instanceof Promise)throw L;L.routerCode=z,c=c??D,b(this.getMatch(B),L);try{(R=(P=W.options).onError)==null||R.call(P,L)}catch(U){L=U,b(this.getMatch(B),L)}o(B,U=>{var $,X;return($=U.beforeLoadPromise)==null||$.resolve(),(X=U.loadPromise)==null||X.resolve(),{...U,error:L,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[D,{id:L,routeId:z}]of r.entries()){const P=this.getMatch(L),R=(N=r[D-1])==null?void 0:N.id,B=this.looseRoutesById[z],F=B.options.pendingMs??this.options.defaultPendingMs,W=!!(s&&!this.isServer&&!h(L)&&(B.options.loader||B.options.beforeLoad)&&typeof F=="number"&&F!==1/0&&(B.options.pendingComponent??this.options.defaultPendingComponent));let U=!0;if((P.beforeLoadPromise||P.loaderPromise)&&(W&&setTimeout(()=>{try{f()}catch{}},F),await P.beforeLoadPromise,U=this.getMatch(L).status!=="success"),U){try{o(L,Ne=>({...Ne,loadPromise:Qc(()=>{var ze;(ze=Ne.loadPromise)==null||ze.resolve()}),beforeLoadPromise:Qc()}));const $=new AbortController;let X;W&&(X=setTimeout(()=>{try{f()}catch{}},F));const{paramsError:Z,searchError:ae}=this.getMatch(L);Z&&O(D,Z,"PARSE_PARAMS"),ae&&O(D,ae,"VALIDATE_SEARCH");const ie=()=>R?this.getMatch(R).context:this.options.context??{};o(L,Ne=>({...Ne,isFetching:"beforeLoad",fetchCount:Ne.fetchCount+1,abortController:$,pendingTimeout:X,context:{...ie(),...Ne.__routeContext}}));const{search:ee,params:se,context:Y,cause:ce}=this.getMatch(L),de=h(L),ye={search:ee,abortController:$,params:se,preload:de,context:Y,location:n,navigate:Ne=>this.navigate({...Ne,_fromLocation:n}),buildLocation:this.buildLocation,cause:de?"preload":ce,matches:r};let we=await ((T=(I=B.options).beforeLoad)==null?void 0:T.call(I,ye))??{};this.serializeLoaderData&&(we=this.serializeLoaderData("__beforeLoadContext",we,{router:this,match:this.getMatch(L)})),(_u(we)||lo(we))&&O(D,we,"BEFORE_LOAD"),o(L,Ne=>({...Ne,__beforeLoadContext:we,context:{...ie(),...Ne.__routeContext,...we},abortController:$}))}catch($){O(D,$,"BEFORE_LOAD")}o(L,$=>{var X;return(X=$.beforeLoadPromise)==null||X.resolve(),{...$,beforeLoadPromise:void 0,isFetching:!1}})}}const q=r.slice(0,c),j=[];q.forEach(({id:D,routeId:L},z)=>{j.push((async()=>{const{loaderPromise:P}=this.getMatch(D);let R=!1,B=!1;if(P){await P;const F=this.getMatch(D);F.error&&b(F,F.error)}else{const F=j[z-1],W=this.looseRoutesById[L],U=()=>{const{params:ce,loaderDeps:de,abortController:ye,context:we,cause:Ne}=this.getMatch(D),ze=h(D);return{params:ce,deps:de,preload:!!ze,parentMatchPromise:F,abortController:ye,context:we,location:n,navigate:qe=>this.navigate({...qe,_fromLocation:n}),cause:ze?"preload":Ne,route:W}},$=Date.now()-this.getMatch(D).updatedAt,X=h(D),Z=X?W.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:W.options.staleTime??this.options.defaultStaleTime??0,ae=W.options.shouldReload,ie=typeof ae=="function"?ae(U()):ae;o(D,ce=>({...ce,loaderPromise:Qc(),preload:!!X&&!this.state.matches.find(de=>de.id===D)}));const ee=async()=>{var ce,de,ye,we,Ne,ze,qe,De;try{const Ze=async()=>{const Xe=this.getMatch(D);Xe.minPendingPromise&&await Xe.minPendingPromise};try{this.loadRouteChunk(W),o(D,en=>({...en,isFetching:"loader"}));let Xe=await ((de=(ce=W.options).loader)==null?void 0:de.call(ce,U()));this.serializeLoaderData&&(Xe=this.serializeLoaderData("loaderData",Xe,{router:this,match:this.getMatch(D)})),b(this.getMatch(D),Xe),await W._lazyPromise,await Ze();const Ue=(we=(ye=W.options).head)==null?void 0:we.call(ye,{matches:r,match:this.getMatch(D),params:this.getMatch(D).params,loaderData:Xe}),ut=Ue?.meta,_t=Ue?.links,Ot=Ue?.scripts,Wt=(ze=(Ne=W.options).headers)==null?void 0:ze.call(Ne,{loaderData:Xe});o(D,en=>({...en,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Xe,meta:ut,links:_t,scripts:Ot,headers:Wt}))}catch(Xe){let Ue=Xe;await Ze(),b(this.getMatch(D),Xe);try{(De=(qe=W.options).onError)==null||De.call(qe,Xe)}catch(ut){Ue=ut,b(this.getMatch(D),ut)}o(D,ut=>({...ut,error:Ue,status:"error",isFetching:!1}))}await W._componentsPromise}catch(Ze){o(D,Xe=>({...Xe,loaderPromise:void 0})),b(this.getMatch(D),Ze)}},{status:se,invalid:Y}=this.getMatch(D);R=se==="success"&&(Y||(ie??$>Z)),X&&W.options.preload===!1||(R&&!l?(B=!0,(async()=>{try{await ee();const{loaderPromise:ce,loadPromise:de}=this.getMatch(D);ce?.resolve(),de?.resolve(),o(D,ye=>({...ye,loaderPromise:void 0}))}catch(ce){vw(ce)&&await this.navigate(ce)}})()):(se!=="success"||R&&l)&&await ee())}if(!B){const{loaderPromise:F,loadPromise:W}=this.getMatch(D);F?.resolve(),W?.resolve()}return o(D,F=>({...F,isFetching:B?F.isFetching:!1,loaderPromise:B?F.loaderPromise:void 0,invalid:!1})),this.getMatch(D)})())}),await Promise.all(j),x()}catch(O){_(O)}})()}),await f()}catch(x){if(_u(x)||lo(x))throw lo(x)&&!i&&await f(),x}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n?.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load({sync:n?.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(JR.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...s,...this.state.cachedMatches.map(l=>l.id)]);mw(()=>{i.forEach(l=>{o.has(l.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,l]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(l,c)=>{s.has(l)?i=i.map(d=>d.id===l?c(d):d):this.updateMatch(l,c)}}),i}catch(l){if(_u(l))return l.reloadDocument?void 0:await this.preloadRoute({...l,_fromLocation:r});console.error(l);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,c=lg(this.basepath,l.pathname,{...r,to:s.pathname});return!c||n.params&&!ud(c,n.params,{partial:!0})?!1:c&&(r?.includeSearch??!0)?ud(l.search,s.search,{partial:!0})?c:!1:c},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??f$;return{state:{dehydratedMatches:this.state.matches.map(i=>({...zg(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let s;typeof document<"u"&&(s=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),os(s),this.dehydratedData=s.payload,(i=(r=this.options).hydrate)==null||i.call(r,s.payload);const o=s.router.state,l=this.matchRoutes(this.state.location).map(c=>{const d=o.dehydratedMatches.find(f=>f.id===c.id);return os(d,`Could not find a client-side match for dehydrated match with id: ${c.id}!`),{...c,...d}});this.__store.setState(c=>({...c,matches:l})),this.manifest=s.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const s=Object.fromEntries(n.map(c=>[c.routeId,c]));let o=(r.global?this.looseRoutesById[is]:this.looseRoutesById[r.routeId])||this.looseRoutesById[is];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==is;)o=o.parentRoute,os(o);const l=s[o.id];os(l,"Could not find match for route: "+o.id),i(l.id,c=>({...c,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??Q4,parseSearch:e.parseSearch??H4,transformer:e.transformer??hh}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(e,n?.dest);let o=!1;(r?r.path!=="/"&&s["**"]:Ru(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const l=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let h=i.length-1;h>=0;h--){const b=i[h];if(b.children)return b.id}return is}})(),c=i.map(h=>{var b;let x;const _=((b=h.options.params)==null?void 0:b.parse)??h.options.parseParams;if(_)try{const N=_(s);Object.assign(s,N)}catch(N){if(x=new c$(N.message,{cause:N}),n?.throwOnError)throw x;return x}}),d=[],f=h=>h?.id?h.context??this.options.context??{}:this.options.context??{};return i.forEach((h,b)=>{var x,_,N,I;const T=d[b-1],[O,q]=(()=>{const U=T?.search??e.search;try{const $=bw(h.options.validateSearch,U)??{};return[{...U,...$},void 0]}catch($){const X=new hS($.message,{cause:$});if(n?.throwOnError)throw X;return[U,X]}})(),j=((_=(x=h.options).loaderDeps)==null?void 0:_.call(x,{search:O}))??"",D=j?JSON.stringify(j):"",L=ag({path:h.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),z=ag({path:h.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+D,P=this.getMatch(z),R=this.state.matches.find(U=>U.routeId===h.id),B=R?"stay":"enter";let F;if(P)F={...P,cause:B,params:R?Rs(R.params,s):s,search:Rs(R?R.search:P.search,O)};else{const U=h.options.loader||h.options.beforeLoad||h.lazyFn||a$(h)?"pending":"success";F={id:z,index:b,routeId:h.id,params:R?Rs(R.params,s):s,pathname:qa([this.basepath,L]),updatedAt:Date.now(),search:R?Rs(R.search,O):O,searchError:void 0,status:U,isFetching:!1,error:void 0,paramsError:c[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:B,loaderDeps:R?Rs(R.loaderDeps,j):j,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:Qc(),fullPath:h.fullPath}}F.status==="success"&&(F.headers=(I=(N=h.options).headers)==null?void 0:I.call(N,{loaderData:F.loaderData})),n?.preload||(F.globalNotFound=l===h.id),F.searchError=q;const W=f(T);F.context={...W,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((h,b)=>{var x,_,N,I;const T=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&n?._buildLocation!==!0){const j=d[b-1],D=f(j),L={deps:h.loaderDeps,params:h.params,context:D,location:e,navigate:z=>this.navigate({...z,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:d};h.__routeContext=((_=(x=T.options).context)==null?void 0:_.call(x,L))??{},h.context={...D,...h.__routeContext,...h.__beforeLoadContext}}const q=(I=(N=T.options).head)==null?void 0:I.call(N,{matches:d,match:h,params:h.params,loaderData:h.loaderData??void 0});h.links=q?.links,h.scripts=q?.scripts,h.meta=q?.meta}),d}}class hS extends Error{}class c$ extends Error{}function d$(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function f$(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function HI(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function QI(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Rv=Q.createContext(void 0),h$=Q.createContext(void 0);function Ml(t){const e=Q.useContext(t.from?h$:Rv);return Ii({select:r=>{const i=r.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(os(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function Ud(t){return Ml({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function p$(t){const{select:e,...n}=t;return Ml({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function Gn(t){return Ml({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function m$(t){return Ml({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Vd(t){const{navigate:e}=No();return Q.useCallback(n=>e({...n}),[e])}let YR=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!s?.path&&!s?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=is:os(this.parentRoute);let l=o?is:s.path;l&&l!=="/"&&(l=PE(l));const c=s?.id||l;let d=o?is:qa([this.parentRoute.id===is?"":this.parentRoute.id,c]);l===is&&(l="/"),d!==is&&(d=qa(["/",d]));const f=d===is?"/":qa([this.parentRoute.fullPath,l]);this._path=l,this._id=d,this._fullPath=f,this._to=f,this._ssr=s?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>Ml({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ml({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>m$({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Gn({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>p$({...n,from:this.id}),this.useLoaderData=n=>Ud({...n,from:this.id}),this.useNavigate=()=>Vd({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,os(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function g$(t){return new YR(t)}function y$(){return t=>b$(t)}class v$ extends YR{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function b$(t){return new v$(t)}function _n(t){return new x$(t,{silent:!0}).createRoute}class x${constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=g$(r);return i.isRoot=!1,i},this.silent=n?.silent}}function Wg(t){return m.jsx(m.Fragment,{children:t.children})}function XR(t,e,n){return e.options.notFoundComponent?m.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?m.jsx(t.options.defaultNotFoundComponent,{data:n}):m.jsx(o$,{})}const eA=Q.memo(function({matchId:e}){var n,r;const i=No(),s=Ii({select:I=>{var T;return(T=I.matches.find(O=>O.id===e))==null?void 0:T.routeId}});os(s);const o=i.routesById[s],l=o.options.pendingComponent??i.options.defaultPendingComponent,c=l?m.jsx(l,{}):null,d=o.options.errorComponent??i.options.defaultErrorComponent,f=o.options.onCatch??i.options.defaultOnCatch,h=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,b=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??l??((r=o.options.errorComponent)==null?void 0:r.preload))?Q.Suspense:Wg,x=d?FE:Wg,_=h?s$:Wg,N=Ii({select:I=>I.loadedAt});return m.jsx(Rv.Provider,{value:e,children:m.jsx(b,{fallback:c,children:m.jsx(x,{getResetKey:()=>N,errorComponent:d||qv,onCatch:(I,T)=>{if(lo(I))throw I;f?.(I,T)},children:m.jsx(_,{fallback:I=>{if(!h||I.routeId&&I.routeId!==s||!I.routeId&&!o.isRoot)throw I;return Q.createElement(h,I)},children:m.jsx(w$,{matchId:e})})})})})}),w$=Q.memo(function({matchId:e}){var n,r,i,s,o;const l=No(),{match:c,matchIndex:d,routeId:f}=Ii({select:_=>{const N=_.matches.findIndex(O=>O.id===e),I=_.matches[N];return{routeId:I.routeId,matchIndex:N,match:zg(I,["id","status","error"])}},structuralSharing:!0}),h=l.routesById[f],b=Q.useMemo(()=>{const _=h.options.component??l.options.defaultComponent;return _?m.jsx(_,{}):m.jsx(Ba,{})},[h.options.component,l.options.defaultComponent]),x=(h.options.errorComponent??l.options.defaultErrorComponent)||qv;if(c.status==="notFound"){let _;return HI(c.error)?_=(((n=l.options.errorSerializer)==null?void 0:n.deserialize)??QI)(c.error.data):_=c.error,os(lo(_)),XR(l,h,_)}if(c.status==="redirected")throw os(_u(c.error)),(r=l.getMatch(c.id))==null?void 0:r.loadPromise;if(c.status==="error"){if(l.isServer)return m.jsx(x,{error:c.error,info:{componentStack:""}});throw HI(c.error)?(((i=l.options.errorSerializer)==null?void 0:i.deserialize)??QI)(c.error.data):c.error}if(c.status==="pending"){const _=h.options.pendingMinMs??l.options.defaultPendingMinMs;if(_&&!((s=l.getMatch(c.id))!=null&&s.minPendingPromise)&&!l.isServer){const N=Qc();Promise.resolve().then(()=>{l.updateMatch(c.id,I=>({...I,minPendingPromise:N}))}),setTimeout(()=>{N.resolve(),l.updateMatch(c.id,I=>({...I,minPendingPromise:void 0}))},_)}throw(o=l.getMatch(c.id))==null?void 0:o.loadPromise}return m.jsxs(m.Fragment,{children:[b,l.AfterEachMatch?m.jsx(l.AfterEachMatch,{match:c,matchIndex:d}):null]})}),Ba=Q.memo(function(){const e=No(),n=Q.useContext(Rv),r=Ii({select:d=>{var f;return(f=d.matches.find(h=>h.id===n))==null?void 0:f.routeId}}),i=e.routesById[r],s=Ii({select:d=>{const h=d.matches.find(b=>b.id===n);return os(h),h.globalNotFound}}),o=Ii({select:d=>{var f;const h=d.matches,b=h.findIndex(x=>x.id===n);return(f=h[b+1])==null?void 0:f.id}});if(s)return XR(e,i,void 0);if(!o)return null;const l=m.jsx(eA,{matchId:o}),c=e.options.defaultPendingComponent?m.jsx(e.options.defaultPendingComponent,{}):null;return n===is?m.jsx(Q.Suspense,{fallback:c,children:l}):l});var xw={exports:{}},Mi={},ww={exports:{}},_w={};var KI;function _$(){return KI||(KI=1,function(t){function e(ie,ee){var se=ie.length;ie.push(ee);e:for(;0<se;){var Y=se-1>>>1,ce=ie[Y];if(0<i(ce,ee))ie[Y]=ee,ie[se]=ce,se=Y;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ee=ie[0],se=ie.pop();if(se!==ee){ie[0]=se;e:for(var Y=0,ce=ie.length,de=ce>>>1;Y<de;){var ye=2*(Y+1)-1,we=ie[ye],Ne=ye+1,ze=ie[Ne];if(0>i(we,se))Ne<ce&&0>i(ze,we)?(ie[Y]=ze,ie[Ne]=se,Y=Ne):(ie[Y]=we,ie[ye]=se,Y=ye);else if(Ne<ce&&0>i(ze,se))ie[Y]=ze,ie[Ne]=se,Y=Ne;else break e}}return ee}function i(ie,ee){var se=ie.sortIndex-ee.sortIndex;return se!==0?se:ie.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,b=3,x=!1,_=!1,N=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ie){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=ie)r(d),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=n(d)}}function j(ie){if(N=!1,q(ie),!_)if(n(c)!==null)_=!0,Z(D);else{var ee=n(d);ee!==null&&ae(j,ee.startTime-ie)}}function D(ie,ee){_=!1,N&&(N=!1,T(P),P=-1),x=!0;var se=b;try{for(q(ee),h=n(c);h!==null&&(!(h.expirationTime>ee)||ie&&!F());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,b=h.priorityLevel;var ce=Y(h.expirationTime<=ee);ee=t.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(c)&&r(c),q(ee)}else r(c);h=n(c)}if(h!==null)var de=!0;else{var ye=n(d);ye!==null&&ae(j,ye.startTime-ee),de=!1}return de}finally{h=null,b=se,x=!1}}var L=!1,z=null,P=-1,R=5,B=-1;function F(){return!(t.unstable_now()-B<R)}function W(){if(z!==null){var ie=t.unstable_now();B=ie;var ee=!0;try{ee=z(!0,ie)}finally{ee?U():(L=!1,z=null)}}else L=!1}var U;if(typeof O=="function")U=function(){O(W)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=W,U=function(){X.postMessage(null)}}else U=function(){I(W,0)};function Z(ie){z=ie,L||(L=!0,U())}function ae(ie,ee){P=I(function(){ie(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,Z(D))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(ie){switch(b){case 1:case 2:case 3:var ee=3;break;default:ee=b}var se=b;b=ee;try{return ie()}finally{b=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,ee){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var se=b;b=ie;try{return ee()}finally{b=se}},t.unstable_scheduleCallback=function(ie,ee,se){var Y=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Y+se:Y):se=Y,ie){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=0x3fffffff;break;case 4:ce=1e4;break;default:ce=5e3}return ce=se+ce,ie={id:f++,callback:ee,priorityLevel:ie,startTime:se,expirationTime:ce,sortIndex:-1},se>Y?(ie.sortIndex=se,e(d,ie),n(c)===null&&ie===n(d)&&(N?(T(P),P=-1):N=!0,ae(j,se-Y))):(ie.sortIndex=ce,e(c,ie),_||x||(_=!0,Z(D))),ie},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ie){var ee=b;return function(){var se=b;b=ee;try{return ie.apply(this,arguments)}finally{b=se}}}}(_w)),_w}var GI;function S$(){return GI||(GI=1,ww.exports=_$()),ww.exports}var ZI;function E$(){if(ZI)return Mi;ZI=1;var t=Tp(),e=S$();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function b(a){return c.call(h,a)?!0:c.call(f,a)?!1:d.test(a)?h[a]=!0:(f[a]=!0,!1)}function x(a,u,p,w){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:p!==null?!p.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,u,p,w){if(u===null||typeof u>"u"||x(a,u,p,w))return!0;if(w)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function N(a,u,p,w,k,A,G){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=k,this.mustUseProperty=p,this.propertyName=a,this.type=u,this.sanitizeURL=A,this.removeEmptyString=G}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new N(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];I[u]=new N(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new N(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new N(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new N(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new N(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new N(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new N(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new N(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function O(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(T,O);I[u]=new N(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(T,O);I[u]=new N(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(T,O);I[u]=new N(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new N(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new N(a,1,!1,a.toLowerCase(),null,!0,!0)});function q(a,u,p,w){var k=I.hasOwnProperty(u)?I[u]:null;(k!==null?k.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,p,k,w)&&(p=null),w||k===null?b(u)&&(p===null?a.removeAttribute(u):a.setAttribute(u,""+p)):k.mustUseProperty?a[k.propertyName]=p===null?k.type===3?!1:"":p:(u=k.attributeName,w=k.attributeNamespace,p===null?a.removeAttribute(u):(k=k.type,p=k===3||k===4&&p===!0?"":""+p,w?a.setAttributeNS(w,u,p):a.setAttribute(u,p))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=ie&&a[ie]||a["@@iterator"],typeof a=="function"?a:null)}var se=Object.assign,Y;function ce(a){if(Y===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);Y=u&&u[1]||""}return`
`+Y+a}var de=!1;function ye(a,u){if(!a||de)return"";de=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(He){var w=He}Reflect.construct(a,[],u)}else{try{u.call()}catch(He){w=He}a.call(u.prototype)}else{try{throw Error()}catch(He){w=He}a()}}catch(He){if(He&&w&&typeof He.stack=="string"){for(var k=He.stack.split(`
`),A=w.stack.split(`
`),G=k.length-1,ge=A.length-1;1<=G&&0<=ge&&k[G]!==A[ge];)ge--;for(;1<=G&&0<=ge;G--,ge--)if(k[G]!==A[ge]){if(G!==1||ge!==1)do if(G--,ge--,0>ge||k[G]!==A[ge]){var Se=`
`+k[G].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=G&&0<=ge);break}}}finally{de=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?ce(a):""}function we(a){switch(a.tag){case 5:return ce(a.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return a=ye(a.type,!1),a;case 11:return a=ye(a.type.render,!1),a;case 1:return a=ye(a.type,!0),a;default:return""}}function Ne(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case L:return"Portal";case R:return"Profiler";case P:return"StrictMode";case U:return"Suspense";case $:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case B:return(a._context.displayName||"Context")+".Provider";case W:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case X:return u=a.displayName||null,u!==null?u:Ne(a.type)||"Memo";case Z:u=a._payload,a=a._init;try{return Ne(a(u))}catch{}}return null}function ze(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function qe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function De(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ze(a){var u=De(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),w=""+a[u];if(!a.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var k=p.get,A=p.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return k.call(this)},set:function(G){w=""+G,A.call(this,G)}}),Object.defineProperty(a,u,{enumerable:p.enumerable}),{getValue:function(){return w},setValue:function(G){w=""+G},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Xe(a){a._valueTracker||(a._valueTracker=Ze(a))}function Ue(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var p=u.getValue(),w="";return a&&(w=De(a)?a.checked?"true":"false":a.value),a=w,a!==p?(u.setValue(a),!0):!1}function ut(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _t(a,u){var p=u.checked;return se({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??a._wrapperState.initialChecked})}function Ot(a,u){var p=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;p=qe(u.value!=null?u.value:p),a._wrapperState={initialChecked:w,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Wt(a,u){u=u.checked,u!=null&&q(a,"checked",u,!1)}function en(a,u){Wt(a,u);var p=qe(u.value),w=u.type;if(p!=null)w==="number"?(p===0&&a.value===""||a.value!=p)&&(a.value=""+p):a.value!==""+p&&(a.value=""+p);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?ve(a,u.type,p):u.hasOwnProperty("defaultValue")&&ve(a,u.type,qe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function xe(a,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,p||u===a.value||(a.value=u),a.defaultValue=u}p=a.name,p!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,p!==""&&(a.name=p)}function ve(a,u,p){(u!=="number"||ut(a.ownerDocument)!==a)&&(p==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+p&&(a.defaultValue=""+p))}var ke=Array.isArray;function je(a,u,p,w){if(a=a.options,u){u={};for(var k=0;k<p.length;k++)u["$"+p[k]]=!0;for(p=0;p<a.length;p++)k=u.hasOwnProperty("$"+a[p].value),a[p].selected!==k&&(a[p].selected=k),k&&w&&(a[p].defaultSelected=!0)}else{for(p=""+qe(p),u=null,k=0;k<a.length;k++){if(a[k].value===p){a[k].selected=!0,w&&(a[k].defaultSelected=!0);return}u!==null||a[k].disabled||(u=a[k])}u!==null&&(u.selected=!0)}}function Ve(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(n(92));if(ke(p)){if(1<p.length)throw Error(n(93));p=p[0]}u=p}u==null&&(u=""),p=u}a._wrapperState={initialValue:qe(p)}}function Me(a,u){var p=qe(u.value),w=qe(u.defaultValue);p!=null&&(p=""+p,p!==a.value&&(a.value=p),u.defaultValue==null&&a.defaultValue!==p&&(a.defaultValue=p)),w!=null&&(a.defaultValue=""+w)}function ct(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Ht(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Ht(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var cn,er=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,w,k){MSApp.execUnsafeLocalFunction(function(){return a(u,p,w,k)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(cn=cn||document.createElement("div"),cn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=cn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Tn(a,u){if(u){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=u;return}}a.textContent=u}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(a){yi.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Tr[u]=Tr[a]})});function fr(a,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||Tr.hasOwnProperty(a)&&Tr[a]?(""+u).trim():u+"px"}function Kt(a,u){a=a.style;for(var p in u)if(u.hasOwnProperty(p)){var w=p.indexOf("--")===0,k=fr(p,u[p],w);p==="float"&&(p="cssFloat"),w?a.setProperty(p,k):a[p]=k}}var Oi=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ti(a,u){if(u){if(Oi[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function qi(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function sa(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var eu=null,xs=null,V=null;function ac(a){if(a=Ff(a)){if(typeof eu!="function")throw Error(n(280));var u=a.stateNode;u&&(u=xm(u),eu(a.stateNode,a.type,u))}}function on(a){xs?V?V.push(a):V=[a]:xs=a}function lc(){if(xs){var a=xs,u=V;if(V=xs=null,ac(a),u)for(a=0;a<u.length;a++)ac(u[a])}}function uc(a,u){return a(u)}function cc(){}var tu=!1;function oa(a,u,p){if(tu)return a(u,p);tu=!0;try{return uc(a,u,p)}finally{tu=!1,(xs!==null||V!==null)&&(cc(),lc())}}function Ri(a,u){var p=a.stateNode;if(p===null)return null;var w=xm(p);if(w===null)return null;p=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var nu=!1;if(l)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){nu=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{nu=!1}function uf(a,u,p,w,k,A,G,ge,Se){var He=Array.prototype.slice.call(arguments,3);try{u.apply(p,He)}catch(pt){this.onError(pt)}}var la=!1,ws=null,Ua=!1,_s=null,cf={onError:function(a){la=!0,ws=a}};function df(a,u,p,w,k,A,G,ge,Se){la=!1,ws=null,uf.apply(cf,arguments)}function dc(a,u,p,w,k,A,G,ge,Se){if(df.apply(this,arguments),la){if(la){var He=ws;la=!1,ws=null}else throw Error(n(198));Ua||(Ua=!0,_s=He)}}function Ss(a){var u=a,p=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(p=u.return),a=u.return;while(a)}return u.tag===3?p:null}function fc(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function hc(a){if(Ss(a)!==a)throw Error(n(188))}function ff(a){var u=a.alternate;if(!u){if(u=Ss(a),u===null)throw Error(n(188));return u!==a?null:a}for(var p=a,w=u;;){var k=p.return;if(k===null)break;var A=k.alternate;if(A===null){if(w=k.return,w!==null){p=w;continue}break}if(k.child===A.child){for(A=k.child;A;){if(A===p)return hc(k),a;if(A===w)return hc(k),u;A=A.sibling}throw Error(n(188))}if(p.return!==w.return)p=k,w=A;else{for(var G=!1,ge=k.child;ge;){if(ge===p){G=!0,p=k,w=A;break}if(ge===w){G=!0,w=k,p=A;break}ge=ge.sibling}if(!G){for(ge=A.child;ge;){if(ge===p){G=!0,p=A,w=k;break}if(ge===w){G=!0,w=A,p=k;break}ge=ge.sibling}if(!G)throw Error(n(189))}}if(p.alternate!==w)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?a:u}function pc(a){return a=ff(a),a!==null?mc(a):null}function mc(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=mc(a);if(u!==null)return u;a=a.sibling}return null}var gc=e.unstable_scheduleCallback,ru=e.unstable_cancelCallback,yc=e.unstable_shouldYield,hf=e.unstable_requestPaint,tr=e.unstable_now,pf=e.unstable_getCurrentPriorityLevel,iu=e.unstable_ImmediatePriority,vc=e.unstable_UserBlockingPriority,Va=e.unstable_NormalPriority,mf=e.unstable_LowPriority,su=e.unstable_IdlePriority,Ha=null,Ai=null;function gf(a){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Ha,a,void 0,(a.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:bf,yf=Math.log,vf=Math.LN2;function bf(a){return a>>>=0,a===0?32:31-(yf(a)/vf|0)|0}var Ao=64,Qa=4194304;function vi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return a&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return a}}function Ka(a,u){var p=a.pendingLanes;if(p===0)return 0;var w=0,k=a.suspendedLanes,A=a.pingedLanes,G=p&0xfffffff;if(G!==0){var ge=G&~k;ge!==0?w=vi(ge):(A&=G,A!==0&&(w=vi(A)))}else G=p&~k,G!==0?w=vi(G):A!==0&&(w=vi(A));if(w===0)return 0;if(u!==0&&u!==w&&!(u&k)&&(k=w&-w,A=u&-u,k>=A||k===16&&(A&4194240)!==0))return u;if(w&4&&(w|=p&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=w;0<u;)p=31-ri(u),k=1<<p,w|=a[p],u&=~k;return w}function jb(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function Pb(a,u){for(var p=a.suspendedLanes,w=a.pingedLanes,k=a.expirationTimes,A=a.pendingLanes;0<A;){var G=31-ri(A),ge=1<<G,Se=k[G];Se===-1?(!(ge&p)||ge&w)&&(k[G]=jb(ge,u)):Se<=u&&(a.expiredLanes|=ge),A&=~ge}}function xf(a){return a=a.pendingLanes&-0x40000001,a!==0?a:a&0x40000000?0x40000000:0}function cm(){var a=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),a}function wf(a){for(var u=[],p=0;31>p;p++)u.push(a);return u}function ou(a,u,p){a.pendingLanes|=u,u!==0x20000000&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-ri(u),a[u]=p}function Fb(a,u){var p=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<p;){var k=31-ri(p),A=1<<k;u[k]=0,w[k]=-1,a[k]=-1,p&=~A}}function _f(a,u){var p=a.entangledLanes|=u;for(a=a.entanglements;p;){var w=31-ri(p),k=1<<w;k&u|a[w]&u&&(a[w]|=u),p&=~k}}var qn=0;function dm(a){return a&=-a,1<a?4<a?a&0xfffffff?16:0x20000000:4:1}var Sf,pe,Ef,au,Nf,g=!1,y=[],S=null,E=null,C=null,M=new Map,fe=new Map,me=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tt(a,u){switch(a){case"focusin":case"focusout":S=null;break;case"dragenter":case"dragleave":E=null;break;case"mouseover":case"mouseout":C=null;break;case"pointerover":case"pointerout":M.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(u.pointerId)}}function at(a,u,p,w,k,A){return a===null||a.nativeEvent!==A?(a={blockedOn:u,domEventName:p,eventSystemFlags:w,nativeEvent:A,targetContainers:[k]},u!==null&&(u=Ff(u),u!==null&&pe(u)),a):(a.eventSystemFlags|=w,u=a.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),a)}function mt(a,u,p,w,k){switch(u){case"focusin":return S=at(S,a,u,p,w,k),!0;case"dragenter":return E=at(E,a,u,p,w,k),!0;case"mouseover":return C=at(C,a,u,p,w,k),!0;case"pointerover":var A=k.pointerId;return M.set(A,at(M.get(A)||null,a,u,p,w,k)),!0;case"gotpointercapture":return A=k.pointerId,fe.set(A,at(fe.get(A)||null,a,u,p,w,k)),!0}return!1}function Be(a){var u=lu(a.target);if(u!==null){var p=Ss(u);if(p!==null){if(u=p.tag,u===13){if(u=fc(p),u!==null){a.blockedOn=u,Nf(a.priority,function(){Ef(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Re(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var p=le(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(p===null){p=a.nativeEvent;var w=new p.constructor(p.type,p);Ys=w,p.target.dispatchEvent(w),Ys=null}else return u=Ff(p),u!==null&&pe(u),a.blockedOn=p,!1;u.shift()}return!0}function et(a,u,p){Re(a)&&p.delete(u)}function be(){g=!1,S!==null&&Re(S)&&(S=null),E!==null&&Re(E)&&(E=null),C!==null&&Re(C)&&(C=null),M.forEach(et),fe.forEach(et)}function Ie(a,u){a.blockedOn===u&&(a.blockedOn=null,g||(g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,be)))}function Oe(a){function u(k){return Ie(k,a)}if(0<y.length){Ie(y[0],a);for(var p=1;p<y.length;p++){var w=y[p];w.blockedOn===a&&(w.blockedOn=null)}}for(S!==null&&Ie(S,a),E!==null&&Ie(E,a),C!==null&&Ie(C,a),M.forEach(u),fe.forEach(u),p=0;p<me.length;p++)w=me[p],w.blockedOn===a&&(w.blockedOn=null);for(;0<me.length&&(p=me[0],p.blockedOn===null);)Be(p),p.blockedOn===null&&me.shift()}var Je=j.ReactCurrentBatchConfig,Ge=!0;function Te(a,u,p,w){var k=qn,A=Je.transition;Je.transition=null;try{qn=1,St(a,u,p,w)}finally{qn=k,Je.transition=A}}function Ke(a,u,p,w){var k=qn,A=Je.transition;Je.transition=null;try{qn=4,St(a,u,p,w)}finally{qn=k,Je.transition=A}}function St(a,u,p,w){if(Ge){var k=le(a,u,p,w);if(k===null)Zb(a,u,w,J,p),tt(a,w);else if(mt(k,a,u,p,w))w.stopPropagation();else if(tt(a,w),u&4&&-1<Qe.indexOf(a)){for(;k!==null;){var A=Ff(k);if(A!==null&&Sf(A),A=le(a,u,p,w),A===null&&Zb(a,u,w,J,p),A===k)break;k=A}k!==null&&w.stopPropagation()}else Zb(a,u,w,null,p)}}var J=null;function le(a,u,p,w){if(J=null,a=sa(w),a=lu(a),a!==null)if(u=Ss(a),u===null)a=null;else if(p=u.tag,p===13){if(a=fc(u),a!==null)return a;a=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return J=a,null}function Ee(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pf()){case iu:return 1;case vc:return 4;case Va:case mf:return 16;case su:return 0x20000000;default:return 16}default:return 16}}var st=null,oe=null,he=null;function H(){if(he)return he;var a,u=oe,p=u.length,w,k="value"in st?st.value:st.textContent,A=k.length;for(a=0;a<p&&u[a]===k[a];a++);var G=p-a;for(w=1;w<=G&&u[p-w]===k[A-w];w++);return he=k.slice(a,1<w?1-w:void 0)}function te(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function re(){return!0}function Le(){return!1}function it(a){function u(p,w,k,A,G){this._reactName=p,this._targetInst=k,this.type=w,this.nativeEvent=A,this.target=G,this.currentTarget=null;for(var ge in a)a.hasOwnProperty(ge)&&(p=a[ge],this[ge]=p?p(A):A[ge]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?re:Le,this.isPropagationStopped=Le,this}return se(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=re)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=re)},persist:function(){},isPersistent:re}),u}var Tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$t=it(Tt),Gt=se({},Tt,{view:0,detail:0}),lt=it(Gt),_e,Pe,ot,ht=se({},Gt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ot&&(ot&&a.type==="mousemove"?(_e=a.screenX-ot.screenX,Pe=a.screenY-ot.screenY):Pe=_e=0,ot=a),_e)},movementY:function(a){return"movementY"in a?a.movementY:Pe}}),Pt=it(ht),Zt=se({},ht,{dataTransfer:0}),Ae=it(Zt),nt=se({},Gt,{relatedTarget:0}),dt=it(nt),Nt=se({},Tt,{animationName:0,elapsedTime:0,pseudoElement:0}),xt=it(Nt),Mt=se({},Tt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),dn=it(Mt),qt=se({},Tt,{data:0}),hr=it(qt),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kt(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=wt[a])?!!u[a]:!1}function fn(){return kt}var $n=se({},Gt,{key:function(a){if(a.key){var u=We[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=te(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(a){return a.type==="keypress"?te(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?te(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Pn=it($n),Mn=se({},ht,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ua=it(Mn),Zr=se({},Gt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn}),Db=it(Zr),Lb=se({},Tt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Es=it(Lb),Mb=se({},ht,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fm=it(Mb),kf=[9,13,27,32],$b=l&&"CompositionEvent"in window,If=null;l&&"documentMode"in document&&(If=document.documentMode);var zL=l&&"TextEvent"in window&&!If,hN=l&&(!$b||If&&8<If&&11>=If),pN=" ",mN=!1;function gN(a,u){switch(a){case"keyup":return kf.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yN(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var bc=!1;function WL(a,u){switch(a){case"compositionend":return yN(u);case"keypress":return u.which!==32?null:(mN=!0,pN);case"textInput":return a=u.data,a===pN&&mN?null:a;default:return null}}function UL(a,u){if(bc)return a==="compositionend"||!$b&&gN(a,u)?(a=H(),he=oe=st=null,bc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return hN&&u.locale!=="ko"?null:u.data;default:return null}}var VL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vN(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!VL[a.type]:u==="textarea"}function bN(a,u,p,w){on(w),u=ym(u,"onChange"),0<u.length&&(p=new $t("onChange","change",null,p,w),a.push({event:p,listeners:u}))}var Cf=null,Of=null;function HL(a){DN(a,0)}function hm(a){var u=Ec(a);if(Ue(u))return a}function QL(a,u){if(a==="change")return u}var xN=!1;if(l){var Bb;if(l){var zb="oninput"in document;if(!zb){var wN=document.createElement("div");wN.setAttribute("oninput","return;"),zb=typeof wN.oninput=="function"}Bb=zb}else Bb=!1;xN=Bb&&(!document.documentMode||9<document.documentMode)}function _N(){Cf&&(Cf.detachEvent("onpropertychange",SN),Of=Cf=null)}function SN(a){if(a.propertyName==="value"&&hm(Of)){var u=[];bN(u,Of,a,sa(a)),oa(HL,u)}}function KL(a,u,p){a==="focusin"?(_N(),Cf=u,Of=p,Cf.attachEvent("onpropertychange",SN)):a==="focusout"&&_N()}function GL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return hm(Of)}function ZL(a,u){if(a==="click")return hm(u)}function JL(a,u){if(a==="input"||a==="change")return hm(u)}function YL(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Xs=typeof Object.is=="function"?Object.is:YL;function Tf(a,u){if(Xs(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var p=Object.keys(a),w=Object.keys(u);if(p.length!==w.length)return!1;for(w=0;w<p.length;w++){var k=p[w];if(!c.call(u,k)||!Xs(a[k],u[k]))return!1}return!0}function EN(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function NN(a,u){var p=EN(a);a=0;for(var w;p;){if(p.nodeType===3){if(w=a+p.textContent.length,a<=u&&w>=u)return{node:p,offset:u-a};a=w}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=EN(p)}}function kN(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?kN(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function IN(){for(var a=window,u=ut();u instanceof a.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)a=u.contentWindow;else break;u=ut(a.document)}return u}function Wb(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function XL(a){var u=IN(),p=a.focusedElem,w=a.selectionRange;if(u!==p&&p&&p.ownerDocument&&kN(p.ownerDocument.documentElement,p)){if(w!==null&&Wb(p)){if(u=w.start,a=w.end,a===void 0&&(a=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(a,p.value.length);else if(a=(u=p.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var k=p.textContent.length,A=Math.min(w.start,k);w=w.end===void 0?A:Math.min(w.end,k),!a.extend&&A>w&&(k=w,w=A,A=k),k=NN(p,A);var G=NN(p,w);k&&G&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==G.node||a.focusOffset!==G.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),a.removeAllRanges(),A>w?(a.addRange(u),a.extend(G.node,G.offset)):(u.setEnd(G.node,G.offset),a.addRange(u)))}}for(u=[],a=p;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)a=u[p],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var eM=l&&"documentMode"in document&&11>=document.documentMode,xc=null,Ub=null,qf=null,Vb=!1;function CN(a,u,p){var w=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Vb||xc==null||xc!==ut(w)||(w=xc,"selectionStart"in w&&Wb(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),qf&&Tf(qf,w)||(qf=w,w=ym(Ub,"onSelect"),0<w.length&&(u=new $t("onSelect","select",null,u,p),a.push({event:u,listeners:w}),u.target=xc)))}function pm(a,u){var p={};return p[a.toLowerCase()]=u.toLowerCase(),p["Webkit"+a]="webkit"+u,p["Moz"+a]="moz"+u,p}var wc={animationend:pm("Animation","AnimationEnd"),animationiteration:pm("Animation","AnimationIteration"),animationstart:pm("Animation","AnimationStart"),transitionend:pm("Transition","TransitionEnd")},Hb={},ON={};l&&(ON=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function mm(a){if(Hb[a])return Hb[a];if(!wc[a])return a;var u=wc[a],p;for(p in u)if(u.hasOwnProperty(p)&&p in ON)return Hb[a]=u[p];return a}var TN=mm("animationend"),qN=mm("animationiteration"),RN=mm("animationstart"),AN=mm("transitionend"),jN=new Map,PN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(a,u){jN.set(a,u),s(u,[a])}for(var Qb=0;Qb<PN.length;Qb++){var Kb=PN[Qb],tM=Kb.toLowerCase(),nM=Kb[0].toUpperCase()+Kb.slice(1);Ga(tM,"on"+nM)}Ga(TN,"onAnimationEnd"),Ga(qN,"onAnimationIteration"),Ga(RN,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(AN,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rf));function FN(a,u,p){var w=a.type||"unknown-event";a.currentTarget=p,dc(w,u,void 0,a),a.currentTarget=null}function DN(a,u){u=(u&4)!==0;for(var p=0;p<a.length;p++){var w=a[p],k=w.event;w=w.listeners;e:{var A=void 0;if(u)for(var G=w.length-1;0<=G;G--){var ge=w[G],Se=ge.instance,He=ge.currentTarget;if(ge=ge.listener,Se!==A&&k.isPropagationStopped())break e;FN(k,ge,He),A=Se}else for(G=0;G<w.length;G++){if(ge=w[G],Se=ge.instance,He=ge.currentTarget,ge=ge.listener,Se!==A&&k.isPropagationStopped())break e;FN(k,ge,He),A=Se}}}if(Ua)throw a=_s,Ua=!1,_s=null,a}function nr(a,u){var p=u[nx];p===void 0&&(p=u[nx]=new Set);var w=a+"__bubble";p.has(w)||(LN(u,a,2,!1),p.add(w))}function Gb(a,u,p){var w=0;u&&(w|=4),LN(p,a,w,u)}var gm="_reactListening"+Math.random().toString(36).slice(2);function Af(a){if(!a[gm]){a[gm]=!0,r.forEach(function(p){p!=="selectionchange"&&(rM.has(p)||Gb(p,!1,a),Gb(p,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[gm]||(u[gm]=!0,Gb("selectionchange",!1,u))}}function LN(a,u,p,w){switch(Ee(u)){case 1:var k=Te;break;case 4:k=Ke;break;default:k=St}p=k.bind(null,u,p,a),k=void 0,!nu||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),w?k!==void 0?a.addEventListener(u,p,{capture:!0,passive:k}):a.addEventListener(u,p,!0):k!==void 0?a.addEventListener(u,p,{passive:k}):a.addEventListener(u,p,!1)}function Zb(a,u,p,w,k){var A=w;if(!(u&1)&&!(u&2)&&w!==null)e:for(;;){if(w===null)return;var G=w.tag;if(G===3||G===4){var ge=w.stateNode.containerInfo;if(ge===k||ge.nodeType===8&&ge.parentNode===k)break;if(G===4)for(G=w.return;G!==null;){var Se=G.tag;if((Se===3||Se===4)&&(Se=G.stateNode.containerInfo,Se===k||Se.nodeType===8&&Se.parentNode===k))return;G=G.return}for(;ge!==null;){if(G=lu(ge),G===null)return;if(Se=G.tag,Se===5||Se===6){w=A=G;continue e}ge=ge.parentNode}}w=w.return}oa(function(){var He=A,pt=sa(p),gt=[];e:{var ft=jN.get(a);if(ft!==void 0){var Rt=$t,Lt=a;switch(a){case"keypress":if(te(p)===0)break e;case"keydown":case"keyup":Rt=Pn;break;case"focusin":Lt="focus",Rt=dt;break;case"focusout":Lt="blur",Rt=dt;break;case"beforeblur":case"afterblur":Rt=dt;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=Pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Ae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Db;break;case TN:case qN:case RN:Rt=xt;break;case AN:Rt=Es;break;case"scroll":Rt=lt;break;case"wheel":Rt=fm;break;case"copy":case"cut":case"paste":Rt=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=ua}var Bt=(u&4)!==0,_r=!Bt&&a==="scroll",Fe=Bt?ft!==null?ft+"Capture":null:ft;Bt=[];for(var Ce=He,$e;Ce!==null;){$e=Ce;var bt=$e.stateNode;if($e.tag===5&&bt!==null&&($e=bt,Fe!==null&&(bt=Ri(Ce,Fe),bt!=null&&Bt.push(jf(Ce,bt,$e)))),_r)break;Ce=Ce.return}0<Bt.length&&(ft=new Rt(ft,Lt,null,p,pt),gt.push({event:ft,listeners:Bt}))}}if(!(u&7)){e:{if(ft=a==="mouseover"||a==="pointerover",Rt=a==="mouseout"||a==="pointerout",ft&&p!==Ys&&(Lt=p.relatedTarget||p.fromElement)&&(lu(Lt)||Lt[ca]))break e;if((Rt||ft)&&(ft=pt.window===pt?pt:(ft=pt.ownerDocument)?ft.defaultView||ft.parentWindow:window,Rt?(Lt=p.relatedTarget||p.toElement,Rt=He,Lt=Lt?lu(Lt):null,Lt!==null&&(_r=Ss(Lt),Lt!==_r||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(Rt=null,Lt=He),Rt!==Lt)){if(Bt=Pt,bt="onMouseLeave",Fe="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(Bt=ua,bt="onPointerLeave",Fe="onPointerEnter",Ce="pointer"),_r=Rt==null?ft:Ec(Rt),$e=Lt==null?ft:Ec(Lt),ft=new Bt(bt,Ce+"leave",Rt,p,pt),ft.target=_r,ft.relatedTarget=$e,bt=null,lu(pt)===He&&(Bt=new Bt(Fe,Ce+"enter",Lt,p,pt),Bt.target=$e,Bt.relatedTarget=_r,bt=Bt),_r=bt,Rt&&Lt)t:{for(Bt=Rt,Fe=Lt,Ce=0,$e=Bt;$e;$e=_c($e))Ce++;for($e=0,bt=Fe;bt;bt=_c(bt))$e++;for(;0<Ce-$e;)Bt=_c(Bt),Ce--;for(;0<$e-Ce;)Fe=_c(Fe),$e--;for(;Ce--;){if(Bt===Fe||Fe!==null&&Bt===Fe.alternate)break t;Bt=_c(Bt),Fe=_c(Fe)}Bt=null}else Bt=null;Rt!==null&&MN(gt,ft,Rt,Bt,!1),Lt!==null&&_r!==null&&MN(gt,_r,Lt,Bt,!0)}}e:{if(ft=He?Ec(He):window,Rt=ft.nodeName&&ft.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&ft.type==="file")var Ut=QL;else if(vN(ft))if(xN)Ut=JL;else{Ut=GL;var Jt=KL}else(Rt=ft.nodeName)&&Rt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Ut=ZL);if(Ut&&(Ut=Ut(a,He))){bN(gt,Ut,p,pt);break e}Jt&&Jt(a,ft,He),a==="focusout"&&(Jt=ft._wrapperState)&&Jt.controlled&&ft.type==="number"&&ve(ft,"number",ft.value)}switch(Jt=He?Ec(He):window,a){case"focusin":(vN(Jt)||Jt.contentEditable==="true")&&(xc=Jt,Ub=He,qf=null);break;case"focusout":qf=Ub=xc=null;break;case"mousedown":Vb=!0;break;case"contextmenu":case"mouseup":case"dragend":Vb=!1,CN(gt,p,pt);break;case"selectionchange":if(eM)break;case"keydown":case"keyup":CN(gt,p,pt)}var Yt;if($b)e:{switch(a){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else bc?gN(a,p)&&(sn="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(sn="onCompositionStart");sn&&(hN&&p.locale!=="ko"&&(bc||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&bc&&(Yt=H()):(st=pt,oe="value"in st?st.value:st.textContent,bc=!0)),Jt=ym(He,sn),0<Jt.length&&(sn=new hr(sn,a,null,p,pt),gt.push({event:sn,listeners:Jt}),Yt?sn.data=Yt:(Yt=yN(p),Yt!==null&&(sn.data=Yt)))),(Yt=zL?WL(a,p):UL(a,p))&&(He=ym(He,"onBeforeInput"),0<He.length&&(pt=new hr("onBeforeInput","beforeinput",null,p,pt),gt.push({event:pt,listeners:He}),pt.data=Yt))}DN(gt,u)})}function jf(a,u,p){return{instance:a,listener:u,currentTarget:p}}function ym(a,u){for(var p=u+"Capture",w=[];a!==null;){var k=a,A=k.stateNode;k.tag===5&&A!==null&&(k=A,A=Ri(a,p),A!=null&&w.unshift(jf(a,A,k)),A=Ri(a,u),A!=null&&w.push(jf(a,A,k))),a=a.return}return w}function _c(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function MN(a,u,p,w,k){for(var A=u._reactName,G=[];p!==null&&p!==w;){var ge=p,Se=ge.alternate,He=ge.stateNode;if(Se!==null&&Se===w)break;ge.tag===5&&He!==null&&(ge=He,k?(Se=Ri(p,A),Se!=null&&G.unshift(jf(p,Se,ge))):k||(Se=Ri(p,A),Se!=null&&G.push(jf(p,Se,ge)))),p=p.return}G.length!==0&&a.push({event:u,listeners:G})}var iM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function $N(a){return(typeof a=="string"?a:""+a).replace(iM,`
`).replace(sM,"")}function vm(a,u,p){if(u=$N(u),$N(a)!==u&&p)throw Error(n(425))}function bm(){}var Jb=null,Yb=null;function Xb(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ex=typeof setTimeout=="function"?setTimeout:void 0,oM=typeof clearTimeout=="function"?clearTimeout:void 0,BN=typeof Promise=="function"?Promise:void 0,aM=typeof queueMicrotask=="function"?queueMicrotask:typeof BN<"u"?function(a){return BN.resolve(null).then(a).catch(lM)}:ex;function lM(a){setTimeout(function(){throw a})}function tx(a,u){var p=u,w=0;do{var k=p.nextSibling;if(a.removeChild(p),k&&k.nodeType===8)if(p=k.data,p==="/$"){if(w===0){a.removeChild(k),Oe(u);return}w--}else p!=="$"&&p!=="$?"&&p!=="$!"||w++;p=k}while(p);Oe(u)}function Za(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function zN(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return a;u--}else p==="/$"&&u++}a=a.previousSibling}return null}var Sc=Math.random().toString(36).slice(2),jo="__reactFiber$"+Sc,Pf="__reactProps$"+Sc,ca="__reactContainer$"+Sc,nx="__reactEvents$"+Sc,uM="__reactListeners$"+Sc,cM="__reactHandles$"+Sc;function lu(a){var u=a[jo];if(u)return u;for(var p=a.parentNode;p;){if(u=p[ca]||p[jo]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(a=zN(a);a!==null;){if(p=a[jo])return p;a=zN(a)}return u}a=p,p=a.parentNode}return null}function Ff(a){return a=a[jo]||a[ca],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ec(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function xm(a){return a[Pf]||null}var rx=[],Nc=-1;function Ja(a){return{current:a}}function rr(a){0>Nc||(a.current=rx[Nc],rx[Nc]=null,Nc--)}function Zn(a,u){Nc++,rx[Nc]=a.current,a.current=u}var Ya={},ii=Ja(Ya),ji=Ja(!1),uu=Ya;function kc(a,u){var p=a.type.contextTypes;if(!p)return Ya;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var k={},A;for(A in p)k[A]=u[A];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=k),k}function Pi(a){return a=a.childContextTypes,a!=null}function wm(){rr(ji),rr(ii)}function WN(a,u,p){if(ii.current!==Ya)throw Error(n(168));Zn(ii,u),Zn(ji,p)}function UN(a,u,p){var w=a.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return p;w=w.getChildContext();for(var k in w)if(!(k in u))throw Error(n(108,ze(a)||"Unknown",k));return se({},p,w)}function _m(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ya,uu=ii.current,Zn(ii,a),Zn(ji,ji.current),!0}function VN(a,u,p){var w=a.stateNode;if(!w)throw Error(n(169));p?(a=UN(a,u,uu),w.__reactInternalMemoizedMergedChildContext=a,rr(ji),rr(ii),Zn(ii,a)):rr(ji),Zn(ji,p)}var da=null,Sm=!1,ix=!1;function HN(a){da===null?da=[a]:da.push(a)}function dM(a){Sm=!0,HN(a)}function Xa(){if(!ix&&da!==null){ix=!0;var a=0,u=qn;try{var p=da;for(qn=1;a<p.length;a++){var w=p[a];do w=w(!0);while(w!==null)}da=null,Sm=!1}catch(k){throw da!==null&&(da=da.slice(a+1)),gc(iu,Xa),k}finally{qn=u,ix=!1}}return null}var Ic=[],Cc=0,Em=null,Nm=0,Ns=[],ks=0,cu=null,fa=1,ha="";function du(a,u){Ic[Cc++]=Nm,Ic[Cc++]=Em,Em=a,Nm=u}function QN(a,u,p){Ns[ks++]=fa,Ns[ks++]=ha,Ns[ks++]=cu,cu=a;var w=fa;a=ha;var k=32-ri(w)-1;w&=~(1<<k),p+=1;var A=32-ri(u)+k;if(30<A){var G=k-k%5;A=(w&(1<<G)-1).toString(32),w>>=G,k-=G,fa=1<<32-ri(u)+k|p<<k|w,ha=A+a}else fa=1<<A|p<<k|w,ha=a}function sx(a){a.return!==null&&(du(a,1),QN(a,1,0))}function ox(a){for(;a===Em;)Em=Ic[--Cc],Ic[Cc]=null,Nm=Ic[--Cc],Ic[Cc]=null;for(;a===cu;)cu=Ns[--ks],Ns[ks]=null,ha=Ns[--ks],Ns[ks]=null,fa=Ns[--ks],Ns[ks]=null}var Xi=null,es=null,sr=!1,eo=null;function KN(a,u){var p=Ts(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=a,u=a.deletions,u===null?(a.deletions=[p],a.flags|=16):u.push(p)}function GN(a,u){switch(a.tag){case 5:var p=a.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Xi=a,es=Za(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Xi=a,es=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=cu!==null?{id:fa,overflow:ha}:null,a.memoizedState={dehydrated:u,treeContext:p,retryLane:0x40000000},p=Ts(18,null,null,0),p.stateNode=u,p.return=a,a.child=p,Xi=a,es=null,!0):!1;default:return!1}}function ax(a){return(a.mode&1)!==0&&(a.flags&128)===0}function lx(a){if(sr){var u=es;if(u){var p=u;if(!GN(a,u)){if(ax(a))throw Error(n(418));u=Za(p.nextSibling);var w=Xi;u&&GN(a,u)?KN(w,p):(a.flags=a.flags&-4097|2,sr=!1,Xi=a)}}else{if(ax(a))throw Error(n(418));a.flags=a.flags&-4097|2,sr=!1,Xi=a}}}function ZN(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Xi=a}function km(a){if(a!==Xi)return!1;if(!sr)return ZN(a),sr=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!Xb(a.type,a.memoizedProps)),u&&(u=es)){if(ax(a))throw JN(),Error(n(418));for(;u;)KN(a,u),u=Za(u.nextSibling)}if(ZN(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"){if(u===0){es=Za(a.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}a=a.nextSibling}es=null}}else es=Xi?Za(a.stateNode.nextSibling):null;return!0}function JN(){for(var a=es;a;)a=Za(a.nextSibling)}function Oc(){es=Xi=null,sr=!1}function ux(a){eo===null?eo=[a]:eo.push(a)}var fM=j.ReactCurrentBatchConfig;function Df(a,u,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var w=p.stateNode}if(!w)throw Error(n(147,a));var k=w,A=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(G){var ge=k.refs;G===null?delete ge[A]:ge[A]=G},u._stringRef=A,u)}if(typeof a!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,a))}return a}function Im(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function YN(a){var u=a._init;return u(a._payload)}function XN(a){function u(Fe,Ce){if(a){var $e=Fe.deletions;$e===null?(Fe.deletions=[Ce],Fe.flags|=16):$e.push(Ce)}}function p(Fe,Ce){if(!a)return null;for(;Ce!==null;)u(Fe,Ce),Ce=Ce.sibling;return null}function w(Fe,Ce){for(Fe=new Map;Ce!==null;)Ce.key!==null?Fe.set(Ce.key,Ce):Fe.set(Ce.index,Ce),Ce=Ce.sibling;return Fe}function k(Fe,Ce){return Fe=al(Fe,Ce),Fe.index=0,Fe.sibling=null,Fe}function A(Fe,Ce,$e){return Fe.index=$e,a?($e=Fe.alternate,$e!==null?($e=$e.index,$e<Ce?(Fe.flags|=2,Ce):$e):(Fe.flags|=2,Ce)):(Fe.flags|=1048576,Ce)}function G(Fe){return a&&Fe.alternate===null&&(Fe.flags|=2),Fe}function ge(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==6?(Ce=ew($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function Se(Fe,Ce,$e,bt){var Ut=$e.type;return Ut===z?pt(Fe,Ce,$e.props.children,bt,$e.key):Ce!==null&&(Ce.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Z&&YN(Ut)===Ce.type)?(bt=k(Ce,$e.props),bt.ref=Df(Fe,Ce,$e),bt.return=Fe,bt):(bt=Jm($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Df(Fe,Ce,$e),bt.return=Fe,bt)}function He(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==$e.containerInfo||Ce.stateNode.implementation!==$e.implementation?(Ce=tw($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e.children||[]),Ce.return=Fe,Ce)}function pt(Fe,Ce,$e,bt,Ut){return Ce===null||Ce.tag!==7?(Ce=bu($e,Fe.mode,bt,Ut),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function gt(Fe,Ce,$e){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=ew(""+Ce,Fe.mode,$e),Ce.return=Fe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return $e=Jm(Ce.type,Ce.key,Ce.props,null,Fe.mode,$e),$e.ref=Df(Fe,null,Ce),$e.return=Fe,$e;case L:return Ce=tw(Ce,Fe.mode,$e),Ce.return=Fe,Ce;case Z:var bt=Ce._init;return gt(Fe,bt(Ce._payload),$e)}if(ke(Ce)||ee(Ce))return Ce=bu(Ce,Fe.mode,$e,null),Ce.return=Fe,Ce;Im(Fe,Ce)}return null}function ft(Fe,Ce,$e,bt){var Ut=Ce!==null?Ce.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Ut!==null?null:ge(Fe,Ce,""+$e,bt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return $e.key===Ut?Se(Fe,Ce,$e,bt):null;case L:return $e.key===Ut?He(Fe,Ce,$e,bt):null;case Z:return Ut=$e._init,ft(Fe,Ce,Ut($e._payload),bt)}if(ke($e)||ee($e))return Ut!==null?null:pt(Fe,Ce,$e,bt,null);Im(Fe,$e)}return null}function Rt(Fe,Ce,$e,bt,Ut){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Fe=Fe.get($e)||null,ge(Ce,Fe,""+bt,Ut);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case D:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,Se(Ce,Fe,bt,Ut);case L:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,He(Ce,Fe,bt,Ut);case Z:var Jt=bt._init;return Rt(Fe,Ce,$e,Jt(bt._payload),Ut)}if(ke(bt)||ee(bt))return Fe=Fe.get($e)||null,pt(Ce,Fe,bt,Ut,null);Im(Ce,bt)}return null}function Lt(Fe,Ce,$e,bt){for(var Ut=null,Jt=null,Yt=Ce,sn=Ce=0,Kr=null;Yt!==null&&sn<$e.length;sn++){Yt.index>sn?(Kr=Yt,Yt=null):Kr=Yt.sibling;var Cn=ft(Fe,Yt,$e[sn],bt);if(Cn===null){Yt===null&&(Yt=Kr);break}a&&Yt&&Cn.alternate===null&&u(Fe,Yt),Ce=A(Cn,Ce,sn),Jt===null?Ut=Cn:Jt.sibling=Cn,Jt=Cn,Yt=Kr}if(sn===$e.length)return p(Fe,Yt),sr&&du(Fe,sn),Ut;if(Yt===null){for(;sn<$e.length;sn++)Yt=gt(Fe,$e[sn],bt),Yt!==null&&(Ce=A(Yt,Ce,sn),Jt===null?Ut=Yt:Jt.sibling=Yt,Jt=Yt);return sr&&du(Fe,sn),Ut}for(Yt=w(Fe,Yt);sn<$e.length;sn++)Kr=Rt(Yt,Fe,sn,$e[sn],bt),Kr!==null&&(a&&Kr.alternate!==null&&Yt.delete(Kr.key===null?sn:Kr.key),Ce=A(Kr,Ce,sn),Jt===null?Ut=Kr:Jt.sibling=Kr,Jt=Kr);return a&&Yt.forEach(function(ll){return u(Fe,ll)}),sr&&du(Fe,sn),Ut}function Bt(Fe,Ce,$e,bt){var Ut=ee($e);if(typeof Ut!="function")throw Error(n(150));if($e=Ut.call($e),$e==null)throw Error(n(151));for(var Jt=Ut=null,Yt=Ce,sn=Ce=0,Kr=null,Cn=$e.next();Yt!==null&&!Cn.done;sn++,Cn=$e.next()){Yt.index>sn?(Kr=Yt,Yt=null):Kr=Yt.sibling;var ll=ft(Fe,Yt,Cn.value,bt);if(ll===null){Yt===null&&(Yt=Kr);break}a&&Yt&&ll.alternate===null&&u(Fe,Yt),Ce=A(ll,Ce,sn),Jt===null?Ut=ll:Jt.sibling=ll,Jt=ll,Yt=Kr}if(Cn.done)return p(Fe,Yt),sr&&du(Fe,sn),Ut;if(Yt===null){for(;!Cn.done;sn++,Cn=$e.next())Cn=gt(Fe,Cn.value,bt),Cn!==null&&(Ce=A(Cn,Ce,sn),Jt===null?Ut=Cn:Jt.sibling=Cn,Jt=Cn);return sr&&du(Fe,sn),Ut}for(Yt=w(Fe,Yt);!Cn.done;sn++,Cn=$e.next())Cn=Rt(Yt,Fe,sn,Cn.value,bt),Cn!==null&&(a&&Cn.alternate!==null&&Yt.delete(Cn.key===null?sn:Cn.key),Ce=A(Cn,Ce,sn),Jt===null?Ut=Cn:Jt.sibling=Cn,Jt=Cn);return a&&Yt.forEach(function(UM){return u(Fe,UM)}),sr&&du(Fe,sn),Ut}function _r(Fe,Ce,$e,bt){if(typeof $e=="object"&&$e!==null&&$e.type===z&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:e:{for(var Ut=$e.key,Jt=Ce;Jt!==null;){if(Jt.key===Ut){if(Ut=$e.type,Ut===z){if(Jt.tag===7){p(Fe,Jt.sibling),Ce=k(Jt,$e.props.children),Ce.return=Fe,Fe=Ce;break e}}else if(Jt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===Z&&YN(Ut)===Jt.type){p(Fe,Jt.sibling),Ce=k(Jt,$e.props),Ce.ref=Df(Fe,Jt,$e),Ce.return=Fe,Fe=Ce;break e}p(Fe,Jt);break}else u(Fe,Jt);Jt=Jt.sibling}$e.type===z?(Ce=bu($e.props.children,Fe.mode,bt,$e.key),Ce.return=Fe,Fe=Ce):(bt=Jm($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Df(Fe,Ce,$e),bt.return=Fe,Fe=bt)}return G(Fe);case L:e:{for(Jt=$e.key;Ce!==null;){if(Ce.key===Jt)if(Ce.tag===4&&Ce.stateNode.containerInfo===$e.containerInfo&&Ce.stateNode.implementation===$e.implementation){p(Fe,Ce.sibling),Ce=k(Ce,$e.children||[]),Ce.return=Fe,Fe=Ce;break e}else{p(Fe,Ce);break}else u(Fe,Ce);Ce=Ce.sibling}Ce=tw($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce}return G(Fe);case Z:return Jt=$e._init,_r(Fe,Ce,Jt($e._payload),bt)}if(ke($e))return Lt(Fe,Ce,$e,bt);if(ee($e))return Bt(Fe,Ce,$e,bt);Im(Fe,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ce!==null&&Ce.tag===6?(p(Fe,Ce.sibling),Ce=k(Ce,$e),Ce.return=Fe,Fe=Ce):(p(Fe,Ce),Ce=ew($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce),G(Fe)):p(Fe,Ce)}return _r}var Tc=XN(!0),ek=XN(!1),Cm=Ja(null),Om=null,qc=null,cx=null;function dx(){cx=qc=Om=null}function fx(a){var u=Cm.current;rr(Cm),a._currentValue=u}function hx(a,u,p){for(;a!==null;){var w=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),a===p)break;a=a.return}}function Rc(a,u){Om=a,cx=qc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(Fi=!0),a.firstContext=null)}function Is(a){var u=a._currentValue;if(cx!==a)if(a={context:a,memoizedValue:u,next:null},qc===null){if(Om===null)throw Error(n(308));qc=a,Om.dependencies={lanes:0,firstContext:a}}else qc=qc.next=a;return u}var fu=null;function px(a){fu===null?fu=[a]:fu.push(a)}function tk(a,u,p,w){var k=u.interleaved;return k===null?(p.next=p,px(u)):(p.next=k.next,k.next=p),u.interleaved=p,pa(a,w)}function pa(a,u){a.lanes|=u;var p=a.alternate;for(p!==null&&(p.lanes|=u),p=a,a=a.return;a!==null;)a.childLanes|=u,p=a.alternate,p!==null&&(p.childLanes|=u),p=a,a=a.return;return p.tag===3?p.stateNode:null}var el=!1;function mx(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nk(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ma(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function tl(a,u,p){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,kn&2){var k=w.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),w.pending=u,pa(a,p)}return k=w.interleaved,k===null?(u.next=u,px(w)):(u.next=k.next,k.next=u),w.interleaved=u,pa(a,p)}function Tm(a,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var w=u.lanes;w&=a.pendingLanes,p|=w,u.lanes=p,_f(a,p)}}function rk(a,u){var p=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,p===w)){var k=null,A=null;if(p=p.firstBaseUpdate,p!==null){do{var G={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};A===null?k=A=G:A=A.next=G,p=p.next}while(p!==null);A===null?k=A=u:A=A.next=u}else k=A=u;p={baseState:w.baseState,firstBaseUpdate:k,lastBaseUpdate:A,shared:w.shared,effects:w.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=u}function qm(a,u,p,w){var k=a.updateQueue;el=!1;var A=k.firstBaseUpdate,G=k.lastBaseUpdate,ge=k.shared.pending;if(ge!==null){k.shared.pending=null;var Se=ge,He=Se.next;Se.next=null,G===null?A=He:G.next=He,G=Se;var pt=a.alternate;pt!==null&&(pt=pt.updateQueue,ge=pt.lastBaseUpdate,ge!==G&&(ge===null?pt.firstBaseUpdate=He:ge.next=He,pt.lastBaseUpdate=Se))}if(A!==null){var gt=k.baseState;G=0,pt=He=Se=null,ge=A;do{var ft=ge.lane,Rt=ge.eventTime;if((w&ft)===ft){pt!==null&&(pt=pt.next={eventTime:Rt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Lt=a,Bt=ge;switch(ft=u,Rt=p,Bt.tag){case 1:if(Lt=Bt.payload,typeof Lt=="function"){gt=Lt.call(Rt,gt,ft);break e}gt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Bt.payload,ft=typeof Lt=="function"?Lt.call(Rt,gt,ft):Lt,ft==null)break e;gt=se({},gt,ft);break e;case 2:el=!0}}ge.callback!==null&&ge.lane!==0&&(a.flags|=64,ft=k.effects,ft===null?k.effects=[ge]:ft.push(ge))}else Rt={eventTime:Rt,lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},pt===null?(He=pt=Rt,Se=gt):pt=pt.next=Rt,G|=ft;if(ge=ge.next,ge===null){if(ge=k.shared.pending,ge===null)break;ft=ge,ge=ft.next,ft.next=null,k.lastBaseUpdate=ft,k.shared.pending=null}}while(!0);if(pt===null&&(Se=gt),k.baseState=Se,k.firstBaseUpdate=He,k.lastBaseUpdate=pt,u=k.shared.interleaved,u!==null){k=u;do G|=k.lane,k=k.next;while(k!==u)}else A===null&&(k.shared.lanes=0);mu|=G,a.lanes=G,a.memoizedState=gt}}function ik(a,u,p){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var w=a[u],k=w.callback;if(k!==null){if(w.callback=null,w=p,typeof k!="function")throw Error(n(191,k));k.call(w)}}}var Lf={},Po=Ja(Lf),Mf=Ja(Lf),$f=Ja(Lf);function hu(a){if(a===Lf)throw Error(n(174));return a}function gx(a,u){switch(Zn($f,u),Zn(Mf,a),Zn(Po,Lf),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Qt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Qt(u,a)}rr(Po),Zn(Po,u)}function Ac(){rr(Po),rr(Mf),rr($f)}function sk(a){hu($f.current);var u=hu(Po.current),p=Qt(u,a.type);u!==p&&(Zn(Mf,a),Zn(Po,p))}function yx(a){Mf.current===a&&(rr(Po),rr(Mf))}var pr=Ja(0);function Rm(a){for(var u=a;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var vx=[];function bx(){for(var a=0;a<vx.length;a++)vx[a]._workInProgressVersionPrimary=null;vx.length=0}var Am=j.ReactCurrentDispatcher,xx=j.ReactCurrentBatchConfig,pu=0,mr=null,Br=null,Hr=null,jm=!1,Bf=!1,zf=0,hM=0;function si(){throw Error(n(321))}function wx(a,u){if(u===null)return!1;for(var p=0;p<u.length&&p<a.length;p++)if(!Xs(a[p],u[p]))return!1;return!0}function _x(a,u,p,w,k,A){if(pu=A,mr=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Am.current=a===null||a.memoizedState===null?yM:vM,a=p(w,k),Bf){A=0;do{if(Bf=!1,zf=0,25<=A)throw Error(n(301));A+=1,Hr=Br=null,u.updateQueue=null,Am.current=bM,a=p(w,k)}while(Bf)}if(Am.current=Dm,u=Br!==null&&Br.next!==null,pu=0,Hr=Br=mr=null,jm=!1,u)throw Error(n(300));return a}function Sx(){var a=zf!==0;return zf=0,a}function Fo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?mr.memoizedState=Hr=a:Hr=Hr.next=a,Hr}function Cs(){if(Br===null){var a=mr.alternate;a=a!==null?a.memoizedState:null}else a=Br.next;var u=Hr===null?mr.memoizedState:Hr.next;if(u!==null)Hr=u,Br=a;else{if(a===null)throw Error(n(310));Br=a,a={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Hr===null?mr.memoizedState=Hr=a:Hr=Hr.next=a}return Hr}function Wf(a,u){return typeof u=="function"?u(a):u}function Ex(a){var u=Cs(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var w=Br,k=w.baseQueue,A=p.pending;if(A!==null){if(k!==null){var G=k.next;k.next=A.next,A.next=G}w.baseQueue=k=A,p.pending=null}if(k!==null){A=k.next,w=w.baseState;var ge=G=null,Se=null,He=A;do{var pt=He.lane;if((pu&pt)===pt)Se!==null&&(Se=Se.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),w=He.hasEagerState?He.eagerState:a(w,He.action);else{var gt={lane:pt,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Se===null?(ge=Se=gt,G=w):Se=Se.next=gt,mr.lanes|=pt,mu|=pt}He=He.next}while(He!==null&&He!==A);Se===null?G=w:Se.next=ge,Xs(w,u.memoizedState)||(Fi=!0),u.memoizedState=w,u.baseState=G,u.baseQueue=Se,p.lastRenderedState=w}if(a=p.interleaved,a!==null){k=a;do A=k.lane,mr.lanes|=A,mu|=A,k=k.next;while(k!==a)}else k===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Nx(a){var u=Cs(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=a;var w=p.dispatch,k=p.pending,A=u.memoizedState;if(k!==null){p.pending=null;var G=k=k.next;do A=a(A,G.action),G=G.next;while(G!==k);Xs(A,u.memoizedState)||(Fi=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),p.lastRenderedState=A}return[A,w]}function ok(){}function ak(a,u){var p=mr,w=Cs(),k=u(),A=!Xs(w.memoizedState,k);if(A&&(w.memoizedState=k,Fi=!0),w=w.queue,kx(ck.bind(null,p,w,a),[a]),w.getSnapshot!==u||A||Hr!==null&&Hr.memoizedState.tag&1){if(p.flags|=2048,Uf(9,uk.bind(null,p,w,k,u),void 0,null),Qr===null)throw Error(n(349));pu&30||lk(p,u,k)}return k}function lk(a,u,p){a.flags|=16384,a={getSnapshot:u,value:p},u=mr.updateQueue,u===null?(u={lastEffect:null,stores:null},mr.updateQueue=u,u.stores=[a]):(p=u.stores,p===null?u.stores=[a]:p.push(a))}function uk(a,u,p,w){u.value=p,u.getSnapshot=w,dk(u)&&fk(a)}function ck(a,u,p){return p(function(){dk(u)&&fk(a)})}function dk(a){var u=a.getSnapshot;a=a.value;try{var p=u();return!Xs(a,p)}catch{return!0}}function fk(a){var u=pa(a,1);u!==null&&io(u,a,1,-1)}function hk(a){var u=Fo();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:a},u.queue=a,a=a.dispatch=gM.bind(null,mr,a),[u.memoizedState,a]}function Uf(a,u,p,w){return a={tag:a,create:u,destroy:p,deps:w,next:null},u=mr.updateQueue,u===null?(u={lastEffect:null,stores:null},mr.updateQueue=u,u.lastEffect=a.next=a):(p=u.lastEffect,p===null?u.lastEffect=a.next=a:(w=p.next,p.next=a,a.next=w,u.lastEffect=a)),a}function pk(){return Cs().memoizedState}function Pm(a,u,p,w){var k=Fo();mr.flags|=a,k.memoizedState=Uf(1|u,p,void 0,w===void 0?null:w)}function Fm(a,u,p,w){var k=Cs();w=w===void 0?null:w;var A=void 0;if(Br!==null){var G=Br.memoizedState;if(A=G.destroy,w!==null&&wx(w,G.deps)){k.memoizedState=Uf(u,p,A,w);return}}mr.flags|=a,k.memoizedState=Uf(1|u,p,A,w)}function mk(a,u){return Pm(8390656,8,a,u)}function kx(a,u){return Fm(2048,8,a,u)}function gk(a,u){return Fm(4,2,a,u)}function yk(a,u){return Fm(4,4,a,u)}function vk(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function bk(a,u,p){return p=p!=null?p.concat([a]):null,Fm(4,4,vk.bind(null,u,a),p)}function Ix(){}function xk(a,u){var p=Cs();u=u===void 0?null:u;var w=p.memoizedState;return w!==null&&u!==null&&wx(u,w[1])?w[0]:(p.memoizedState=[a,u],a)}function wk(a,u){var p=Cs();u=u===void 0?null:u;var w=p.memoizedState;return w!==null&&u!==null&&wx(u,w[1])?w[0]:(a=a(),p.memoizedState=[a,u],a)}function _k(a,u,p){return pu&21?(Xs(p,u)||(p=cm(),mr.lanes|=p,mu|=p,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Fi=!0),a.memoizedState=p)}function pM(a,u){var p=qn;qn=p!==0&&4>p?p:4,a(!0);var w=xx.transition;xx.transition={};try{a(!1),u()}finally{qn=p,xx.transition=w}}function Sk(){return Cs().memoizedState}function mM(a,u,p){var w=sl(a);if(p={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null},Ek(a))Nk(u,p);else if(p=tk(a,u,p,w),p!==null){var k=xi();io(p,a,w,k),kk(p,u,w)}}function gM(a,u,p){var w=sl(a),k={lane:w,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ek(a))Nk(u,k);else{var A=a.alternate;if(a.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var G=u.lastRenderedState,ge=A(G,p);if(k.hasEagerState=!0,k.eagerState=ge,Xs(ge,G)){var Se=u.interleaved;Se===null?(k.next=k,px(u)):(k.next=Se.next,Se.next=k),u.interleaved=k;return}}catch{}finally{}p=tk(a,u,k,w),p!==null&&(k=xi(),io(p,a,w,k),kk(p,u,w))}}function Ek(a){var u=a.alternate;return a===mr||u!==null&&u===mr}function Nk(a,u){Bf=jm=!0;var p=a.pending;p===null?u.next=u:(u.next=p.next,p.next=u),a.pending=u}function kk(a,u,p){if(p&4194240){var w=u.lanes;w&=a.pendingLanes,p|=w,u.lanes=p,_f(a,p)}}var Dm={readContext:Is,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},yM={readContext:Is,useCallback:function(a,u){return Fo().memoizedState=[a,u===void 0?null:u],a},useContext:Is,useEffect:mk,useImperativeHandle:function(a,u,p){return p=p!=null?p.concat([a]):null,Pm(4194308,4,vk.bind(null,u,a),p)},useLayoutEffect:function(a,u){return Pm(4194308,4,a,u)},useInsertionEffect:function(a,u){return Pm(4,2,a,u)},useMemo:function(a,u){var p=Fo();return u=u===void 0?null:u,a=a(),p.memoizedState=[a,u],a},useReducer:function(a,u,p){var w=Fo();return u=p!==void 0?p(u):u,w.memoizedState=w.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},w.queue=a,a=a.dispatch=mM.bind(null,mr,a),[w.memoizedState,a]},useRef:function(a){var u=Fo();return a={current:a},u.memoizedState=a},useState:hk,useDebugValue:Ix,useDeferredValue:function(a){return Fo().memoizedState=a},useTransition:function(){var a=hk(!1),u=a[0];return a=pM.bind(null,a[1]),Fo().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,p){var w=mr,k=Fo();if(sr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),Qr===null)throw Error(n(349));pu&30||lk(w,u,p)}k.memoizedState=p;var A={value:p,getSnapshot:u};return k.queue=A,mk(ck.bind(null,w,A,a),[a]),w.flags|=2048,Uf(9,uk.bind(null,w,A,p,u),void 0,null),p},useId:function(){var a=Fo(),u=Qr.identifierPrefix;if(sr){var p=ha,w=fa;p=(w&~(1<<32-ri(w)-1)).toString(32)+p,u=":"+u+"R"+p,p=zf++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=hM++,u=":"+u+"r"+p.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},vM={readContext:Is,useCallback:xk,useContext:Is,useEffect:kx,useImperativeHandle:bk,useInsertionEffect:gk,useLayoutEffect:yk,useMemo:wk,useReducer:Ex,useRef:pk,useState:function(){return Ex(Wf)},useDebugValue:Ix,useDeferredValue:function(a){var u=Cs();return _k(u,Br.memoizedState,a)},useTransition:function(){var a=Ex(Wf)[0],u=Cs().memoizedState;return[a,u]},useMutableSource:ok,useSyncExternalStore:ak,useId:Sk,unstable_isNewReconciler:!1},bM={readContext:Is,useCallback:xk,useContext:Is,useEffect:kx,useImperativeHandle:bk,useInsertionEffect:gk,useLayoutEffect:yk,useMemo:wk,useReducer:Nx,useRef:pk,useState:function(){return Nx(Wf)},useDebugValue:Ix,useDeferredValue:function(a){var u=Cs();return Br===null?u.memoizedState=a:_k(u,Br.memoizedState,a)},useTransition:function(){var a=Nx(Wf)[0],u=Cs().memoizedState;return[a,u]},useMutableSource:ok,useSyncExternalStore:ak,useId:Sk,unstable_isNewReconciler:!1};function to(a,u){if(a&&a.defaultProps){u=se({},u),a=a.defaultProps;for(var p in a)u[p]===void 0&&(u[p]=a[p]);return u}return u}function Cx(a,u,p,w){u=a.memoizedState,p=p(w,u),p=p==null?u:se({},u,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Lm={isMounted:function(a){return(a=a._reactInternals)?Ss(a)===a:!1},enqueueSetState:function(a,u,p){a=a._reactInternals;var w=xi(),k=sl(a),A=ma(w,k);A.payload=u,p!=null&&(A.callback=p),u=tl(a,A,k),u!==null&&(io(u,a,k,w),Tm(u,a,k))},enqueueReplaceState:function(a,u,p){a=a._reactInternals;var w=xi(),k=sl(a),A=ma(w,k);A.tag=1,A.payload=u,p!=null&&(A.callback=p),u=tl(a,A,k),u!==null&&(io(u,a,k,w),Tm(u,a,k))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var p=xi(),w=sl(a),k=ma(p,w);k.tag=2,u!=null&&(k.callback=u),u=tl(a,k,w),u!==null&&(io(u,a,w,p),Tm(u,a,w))}};function Ik(a,u,p,w,k,A,G){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,A,G):u.prototype&&u.prototype.isPureReactComponent?!Tf(p,w)||!Tf(k,A):!0}function Ck(a,u,p){var w=!1,k=Ya,A=u.contextType;return typeof A=="object"&&A!==null?A=Is(A):(k=Pi(u)?uu:ii.current,w=u.contextTypes,A=(w=w!=null)?kc(a,k):Ya),u=new u(p,A),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lm,a.stateNode=u,u._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=A),u}function Ok(a,u,p,w){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,w),u.state!==a&&Lm.enqueueReplaceState(u,u.state,null)}function Ox(a,u,p,w){var k=a.stateNode;k.props=p,k.state=a.memoizedState,k.refs={},mx(a);var A=u.contextType;typeof A=="object"&&A!==null?k.context=Is(A):(A=Pi(u)?uu:ii.current,k.context=kc(a,A)),k.state=a.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Cx(a,u,A,p),k.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Lm.enqueueReplaceState(k,k.state,null),qm(a,p,k,w),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function jc(a,u){try{var p="",w=u;do p+=we(w),w=w.return;while(w);var k=p}catch(A){k=`
Error generating stack: `+A.message+`
`+A.stack}return{value:a,source:u,stack:k,digest:null}}function Tx(a,u,p){return{value:a,source:null,stack:p??null,digest:u??null}}function qx(a,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var xM=typeof WeakMap=="function"?WeakMap:Map;function Tk(a,u,p){p=ma(-1,p),p.tag=3,p.payload={element:null};var w=u.value;return p.callback=function(){Vm||(Vm=!0,Hx=w),qx(a,u)},p}function qk(a,u,p){p=ma(-1,p),p.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var k=u.value;p.payload=function(){return w(k)},p.callback=function(){qx(a,u)}}var A=a.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(p.callback=function(){qx(a,u),typeof w!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var G=u.stack;this.componentDidCatch(u.value,{componentStack:G!==null?G:""})}),p}function Rk(a,u,p){var w=a.pingCache;if(w===null){w=a.pingCache=new xM;var k=new Set;w.set(u,k)}else k=w.get(u),k===void 0&&(k=new Set,w.set(u,k));k.has(p)||(k.add(p),a=jM.bind(null,a,u,p),u.then(a,a))}function Ak(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function jk(a,u,p,w,k){return a.mode&1?(a.flags|=65536,a.lanes=k,a):(a===u?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=ma(-1,1),u.tag=2,tl(p,u,1))),p.lanes|=1),a)}var wM=j.ReactCurrentOwner,Fi=!1;function bi(a,u,p,w){u.child=a===null?ek(u,null,p,w):Tc(u,a.child,p,w)}function Pk(a,u,p,w,k){p=p.render;var A=u.ref;return Rc(u,k),w=_x(a,u,p,w,A,k),p=Sx(),a!==null&&!Fi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~k,ga(a,u,k)):(sr&&p&&sx(u),u.flags|=1,bi(a,u,w,k),u.child)}function Fk(a,u,p,w,k){if(a===null){var A=p.type;return typeof A=="function"&&!Xx(A)&&A.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=A,Dk(a,u,A,w,k)):(a=Jm(p.type,null,w,u,u.mode,k),a.ref=u.ref,a.return=u,u.child=a)}if(A=a.child,!(a.lanes&k)){var G=A.memoizedProps;if(p=p.compare,p=p!==null?p:Tf,p(G,w)&&a.ref===u.ref)return ga(a,u,k)}return u.flags|=1,a=al(A,w),a.ref=u.ref,a.return=u,u.child=a}function Dk(a,u,p,w,k){if(a!==null){var A=a.memoizedProps;if(Tf(A,w)&&a.ref===u.ref)if(Fi=!1,u.pendingProps=w=A,(a.lanes&k)!==0)a.flags&131072&&(Fi=!0);else return u.lanes=a.lanes,ga(a,u,k)}return Rx(a,u,p,w,k)}function Lk(a,u,p){var w=u.pendingProps,k=w.children,A=a!==null?a.memoizedState:null;if(w.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(Fc,ts),ts|=p;else{if(!(p&0x40000000))return a=A!==null?A.baseLanes|p:p,u.lanes=u.childLanes=0x40000000,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,Zn(Fc,ts),ts|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=A!==null?A.baseLanes:p,Zn(Fc,ts),ts|=w}else A!==null?(w=A.baseLanes|p,u.memoizedState=null):w=p,Zn(Fc,ts),ts|=w;return bi(a,u,k,p),u.child}function Mk(a,u){var p=u.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Rx(a,u,p,w,k){var A=Pi(p)?uu:ii.current;return A=kc(u,A),Rc(u,k),p=_x(a,u,p,w,A,k),w=Sx(),a!==null&&!Fi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~k,ga(a,u,k)):(sr&&w&&sx(u),u.flags|=1,bi(a,u,p,k),u.child)}function $k(a,u,p,w,k){if(Pi(p)){var A=!0;_m(u)}else A=!1;if(Rc(u,k),u.stateNode===null)$m(a,u),Ck(u,p,w),Ox(u,p,w,k),w=!0;else if(a===null){var G=u.stateNode,ge=u.memoizedProps;G.props=ge;var Se=G.context,He=p.contextType;typeof He=="object"&&He!==null?He=Is(He):(He=Pi(p)?uu:ii.current,He=kc(u,He));var pt=p.getDerivedStateFromProps,gt=typeof pt=="function"||typeof G.getSnapshotBeforeUpdate=="function";gt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge!==w||Se!==He)&&Ok(u,G,w,He),el=!1;var ft=u.memoizedState;G.state=ft,qm(u,w,G,k),Se=u.memoizedState,ge!==w||ft!==Se||ji.current||el?(typeof pt=="function"&&(Cx(u,p,pt,w),Se=u.memoizedState),(ge=el||Ik(u,p,ge,w,ft,Se,He))?(gt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(u.flags|=4194308)):(typeof G.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Se),G.props=w,G.state=Se,G.context=He,w=ge):(typeof G.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{G=u.stateNode,nk(a,u),ge=u.memoizedProps,He=u.type===u.elementType?ge:to(u.type,ge),G.props=He,gt=u.pendingProps,ft=G.context,Se=p.contextType,typeof Se=="object"&&Se!==null?Se=Is(Se):(Se=Pi(p)?uu:ii.current,Se=kc(u,Se));var Rt=p.getDerivedStateFromProps;(pt=typeof Rt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ge!==gt||ft!==Se)&&Ok(u,G,w,Se),el=!1,ft=u.memoizedState,G.state=ft,qm(u,w,G,k);var Lt=u.memoizedState;ge!==gt||ft!==Lt||ji.current||el?(typeof Rt=="function"&&(Cx(u,p,Rt,w),Lt=u.memoizedState),(He=el||Ik(u,p,He,w,ft,Lt,Se)||!1)?(pt||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,Lt,Se),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,Lt,Se)),typeof G.componentDidUpdate=="function"&&(u.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof G.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Lt),G.props=w,G.state=Lt,G.context=Se,w=He):(typeof G.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=1024),w=!1)}return Ax(a,u,p,w,A,k)}function Ax(a,u,p,w,k,A){Mk(a,u);var G=(u.flags&128)!==0;if(!w&&!G)return k&&VN(u,p,!1),ga(a,u,A);w=u.stateNode,wM.current=u;var ge=G&&typeof p.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,a!==null&&G?(u.child=Tc(u,a.child,null,A),u.child=Tc(u,null,ge,A)):bi(a,u,ge,A),u.memoizedState=w.state,k&&VN(u,p,!0),u.child}function Bk(a){var u=a.stateNode;u.pendingContext?WN(a,u.pendingContext,u.pendingContext!==u.context):u.context&&WN(a,u.context,!1),gx(a,u.containerInfo)}function zk(a,u,p,w,k){return Oc(),ux(k),u.flags|=256,bi(a,u,p,w),u.child}var jx={dehydrated:null,treeContext:null,retryLane:0};function Px(a){return{baseLanes:a,cachePool:null,transitions:null}}function Wk(a,u,p){var w=u.pendingProps,k=pr.current,A=!1,G=(u.flags&128)!==0,ge;if((ge=G)||(ge=a!==null&&a.memoizedState===null?!1:(k&2)!==0),ge?(A=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),Zn(pr,k&1),a===null)return lx(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=0x40000000:u.lanes=1,null):(G=w.children,a=w.fallback,A?(w=u.mode,A=u.child,G={mode:"hidden",children:G},!(w&1)&&A!==null?(A.childLanes=0,A.pendingProps=G):A=Ym(G,w,0,null),a=bu(a,w,p,null),A.return=u,a.return=u,A.sibling=a,u.child=A,u.child.memoizedState=Px(p),u.memoizedState=jx,a):Fx(u,G));if(k=a.memoizedState,k!==null&&(ge=k.dehydrated,ge!==null))return _M(a,u,G,w,ge,k,p);if(A){A=w.fallback,G=u.mode,k=a.child,ge=k.sibling;var Se={mode:"hidden",children:w.children};return!(G&1)&&u.child!==k?(w=u.child,w.childLanes=0,w.pendingProps=Se,u.deletions=null):(w=al(k,Se),w.subtreeFlags=k.subtreeFlags&0xe00000),ge!==null?A=al(ge,A):(A=bu(A,G,p,null),A.flags|=2),A.return=u,w.return=u,w.sibling=A,u.child=w,w=A,A=u.child,G=a.child.memoizedState,G=G===null?Px(p):{baseLanes:G.baseLanes|p,cachePool:null,transitions:G.transitions},A.memoizedState=G,A.childLanes=a.childLanes&~p,u.memoizedState=jx,w}return A=a.child,a=A.sibling,w=al(A,{mode:"visible",children:w.children}),!(u.mode&1)&&(w.lanes=p),w.return=u,w.sibling=null,a!==null&&(p=u.deletions,p===null?(u.deletions=[a],u.flags|=16):p.push(a)),u.child=w,u.memoizedState=null,w}function Fx(a,u){return u=Ym({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Mm(a,u,p,w){return w!==null&&ux(w),Tc(u,a.child,null,p),a=Fx(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function _M(a,u,p,w,k,A,G){if(p)return u.flags&256?(u.flags&=-257,w=Tx(Error(n(422))),Mm(a,u,G,w)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(A=w.fallback,k=u.mode,w=Ym({mode:"visible",children:w.children},k,0,null),A=bu(A,k,G,null),A.flags|=2,w.return=u,A.return=u,w.sibling=A,u.child=w,u.mode&1&&Tc(u,a.child,null,G),u.child.memoizedState=Px(G),u.memoizedState=jx,A);if(!(u.mode&1))return Mm(a,u,G,null);if(k.data==="$!"){if(w=k.nextSibling&&k.nextSibling.dataset,w)var ge=w.dgst;return w=ge,A=Error(n(419)),w=Tx(A,w,void 0),Mm(a,u,G,w)}if(ge=(G&a.childLanes)!==0,Fi||ge){if(w=Qr,w!==null){switch(G&-G){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:k=32;break;case 0x20000000:k=0x10000000;break;default:k=0}k=k&(w.suspendedLanes|G)?0:k,k!==0&&k!==A.retryLane&&(A.retryLane=k,pa(a,k),io(w,a,k,-1))}return Yx(),w=Tx(Error(n(421))),Mm(a,u,G,w)}return k.data==="$?"?(u.flags|=128,u.child=a.child,u=PM.bind(null,a),k._reactRetry=u,null):(a=A.treeContext,es=Za(k.nextSibling),Xi=u,sr=!0,eo=null,a!==null&&(Ns[ks++]=fa,Ns[ks++]=ha,Ns[ks++]=cu,fa=a.id,ha=a.overflow,cu=u),u=Fx(u,w.children),u.flags|=4096,u)}function Uk(a,u,p){a.lanes|=u;var w=a.alternate;w!==null&&(w.lanes|=u),hx(a.return,u,p)}function Dx(a,u,p,w,k){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:p,tailMode:k}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=w,A.tail=p,A.tailMode=k)}function Vk(a,u,p){var w=u.pendingProps,k=w.revealOrder,A=w.tail;if(bi(a,u,w.children,p),w=pr.current,w&2)w=w&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Uk(a,p,u);else if(a.tag===19)Uk(a,p,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(Zn(pr,w),!(u.mode&1))u.memoizedState=null;else switch(k){case"forwards":for(p=u.child,k=null;p!==null;)a=p.alternate,a!==null&&Rm(a)===null&&(k=p),p=p.sibling;p=k,p===null?(k=u.child,u.child=null):(k=p.sibling,p.sibling=null),Dx(u,!1,k,p,A);break;case"backwards":for(p=null,k=u.child,u.child=null;k!==null;){if(a=k.alternate,a!==null&&Rm(a)===null){u.child=k;break}a=k.sibling,k.sibling=p,p=k,k=a}Dx(u,!0,p,null,A);break;case"together":Dx(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function $m(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ga(a,u,p){if(a!==null&&(u.dependencies=a.dependencies),mu|=u.lanes,!(p&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,p=al(a,a.pendingProps),u.child=p,p.return=u;a.sibling!==null;)a=a.sibling,p=p.sibling=al(a,a.pendingProps),p.return=u;p.sibling=null}return u.child}function SM(a,u,p){switch(u.tag){case 3:Bk(u),Oc();break;case 5:sk(u);break;case 1:Pi(u.type)&&_m(u);break;case 4:gx(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,k=u.memoizedProps.value;Zn(Cm,w._currentValue),w._currentValue=k;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(Zn(pr,pr.current&1),u.flags|=128,null):p&u.child.childLanes?Wk(a,u,p):(Zn(pr,pr.current&1),a=ga(a,u,p),a!==null?a.sibling:null);Zn(pr,pr.current&1);break;case 19:if(w=(p&u.childLanes)!==0,a.flags&128){if(w)return Vk(a,u,p);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Zn(pr,pr.current),w)break;return null;case 22:case 23:return u.lanes=0,Lk(a,u,p)}return ga(a,u,p)}var Hk,Lx,Qk,Kk;Hk=function(a,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Lx=function(){},Qk=function(a,u,p,w){var k=a.memoizedProps;if(k!==w){a=u.stateNode,hu(Po.current);var A=null;switch(p){case"input":k=_t(a,k),w=_t(a,w),A=[];break;case"select":k=se({},k,{value:void 0}),w=se({},w,{value:void 0}),A=[];break;case"textarea":k=Ve(a,k),w=Ve(a,w),A=[];break;default:typeof k.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=bm)}Ti(p,w);var G;p=null;for(He in k)if(!w.hasOwnProperty(He)&&k.hasOwnProperty(He)&&k[He]!=null)if(He==="style"){var ge=k[He];for(G in ge)ge.hasOwnProperty(G)&&(p||(p={}),p[G]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(i.hasOwnProperty(He)?A||(A=[]):(A=A||[]).push(He,null));for(He in w){var Se=w[He];if(ge=k?.[He],w.hasOwnProperty(He)&&Se!==ge&&(Se!=null||ge!=null))if(He==="style")if(ge){for(G in ge)!ge.hasOwnProperty(G)||Se&&Se.hasOwnProperty(G)||(p||(p={}),p[G]="");for(G in Se)Se.hasOwnProperty(G)&&ge[G]!==Se[G]&&(p||(p={}),p[G]=Se[G])}else p||(A||(A=[]),A.push(He,p)),p=Se;else He==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ge=ge?ge.__html:void 0,Se!=null&&ge!==Se&&(A=A||[]).push(He,Se)):He==="children"?typeof Se!="string"&&typeof Se!="number"||(A=A||[]).push(He,""+Se):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(i.hasOwnProperty(He)?(Se!=null&&He==="onScroll"&&nr("scroll",a),A||ge===Se||(A=[])):(A=A||[]).push(He,Se))}p&&(A=A||[]).push("style",p);var He=A;(u.updateQueue=He)&&(u.flags|=4)}},Kk=function(a,u,p,w){p!==w&&(u.flags|=4)};function Vf(a,u){if(!sr)switch(a.tailMode){case"hidden":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function oi(a){var u=a.alternate!==null&&a.alternate.child===a.child,p=0,w=0;if(u)for(var k=a.child;k!==null;)p|=k.lanes|k.childLanes,w|=k.subtreeFlags&0xe00000,w|=k.flags&0xe00000,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)p|=k.lanes|k.childLanes,w|=k.subtreeFlags,w|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=w,a.childLanes=p,u}function EM(a,u,p){var w=u.pendingProps;switch(ox(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(u),null;case 1:return Pi(u.type)&&wm(),oi(u),null;case 3:return w=u.stateNode,Ac(),rr(ji),rr(ii),bx(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(km(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,eo!==null&&(Gx(eo),eo=null))),Lx(a,u),oi(u),null;case 5:yx(u);var k=hu($f.current);if(p=u.type,a!==null&&u.stateNode!=null)Qk(a,u,p,w,k),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(n(166));return oi(u),null}if(a=hu(Po.current),km(u)){w=u.stateNode,p=u.type;var A=u.memoizedProps;switch(w[jo]=u,w[Pf]=A,a=(u.mode&1)!==0,p){case"dialog":nr("cancel",w),nr("close",w);break;case"iframe":case"object":case"embed":nr("load",w);break;case"video":case"audio":for(k=0;k<Rf.length;k++)nr(Rf[k],w);break;case"source":nr("error",w);break;case"img":case"image":case"link":nr("error",w),nr("load",w);break;case"details":nr("toggle",w);break;case"input":Ot(w,A),nr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!A.multiple},nr("invalid",w);break;case"textarea":rt(w,A),nr("invalid",w)}Ti(p,A),k=null;for(var G in A)if(A.hasOwnProperty(G)){var ge=A[G];G==="children"?typeof ge=="string"?w.textContent!==ge&&(A.suppressHydrationWarning!==!0&&vm(w.textContent,ge,a),k=["children",ge]):typeof ge=="number"&&w.textContent!==""+ge&&(A.suppressHydrationWarning!==!0&&vm(w.textContent,ge,a),k=["children",""+ge]):i.hasOwnProperty(G)&&ge!=null&&G==="onScroll"&&nr("scroll",w)}switch(p){case"input":Xe(w),xe(w,A,!0);break;case"textarea":Xe(w),ct(w);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(w.onclick=bm)}w=k,u.updateQueue=w,w!==null&&(u.flags|=4)}else{G=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ht(p)),a==="http://www.w3.org/1999/xhtml"?p==="script"?(a=G.createElement("div"),a.innerHTML="<script></script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=G.createElement(p,{is:w.is}):(a=G.createElement(p),p==="select"&&(G=a,w.multiple?G.multiple=!0:w.size&&(G.size=w.size))):a=G.createElementNS(a,p),a[jo]=u,a[Pf]=w,Hk(a,u,!1,!1),u.stateNode=a;e:{switch(G=qi(p,w),p){case"dialog":nr("cancel",a),nr("close",a),k=w;break;case"iframe":case"object":case"embed":nr("load",a),k=w;break;case"video":case"audio":for(k=0;k<Rf.length;k++)nr(Rf[k],a);k=w;break;case"source":nr("error",a),k=w;break;case"img":case"image":case"link":nr("error",a),nr("load",a),k=w;break;case"details":nr("toggle",a),k=w;break;case"input":Ot(a,w),k=_t(a,w),nr("invalid",a);break;case"option":k=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},k=se({},w,{value:void 0}),nr("invalid",a);break;case"textarea":rt(a,w),k=Ve(a,w),nr("invalid",a);break;default:k=w}Ti(p,k),ge=k;for(A in ge)if(ge.hasOwnProperty(A)){var Se=ge[A];A==="style"?Kt(a,Se):A==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&er(a,Se)):A==="children"?typeof Se=="string"?(p!=="textarea"||Se!=="")&&Tn(a,Se):typeof Se=="number"&&Tn(a,""+Se):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?Se!=null&&A==="onScroll"&&nr("scroll",a):Se!=null&&q(a,A,Se,G))}switch(p){case"input":Xe(a),xe(a,w,!1);break;case"textarea":Xe(a),ct(a);break;case"option":w.value!=null&&a.setAttribute("value",""+qe(w.value));break;case"select":a.multiple=!!w.multiple,A=w.value,A!=null?je(a,!!w.multiple,A,!1):w.defaultValue!=null&&je(a,!!w.multiple,w.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=bm)}switch(p){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return oi(u),null;case 6:if(a&&u.stateNode!=null)Kk(a,u,a.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(n(166));if(p=hu($f.current),hu(Po.current),km(u)){if(w=u.stateNode,p=u.memoizedProps,w[jo]=u,(A=w.nodeValue!==p)&&(a=Xi,a!==null))switch(a.tag){case 3:vm(w.nodeValue,p,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&vm(w.nodeValue,p,(a.mode&1)!==0)}A&&(u.flags|=4)}else w=(p.nodeType===9?p:p.ownerDocument).createTextNode(w),w[jo]=u,u.stateNode=w}return oi(u),null;case 13:if(rr(pr),w=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(sr&&es!==null&&u.mode&1&&!(u.flags&128))JN(),Oc(),u.flags|=98560,A=!1;else if(A=km(u),w!==null&&w.dehydrated!==null){if(a===null){if(!A)throw Error(n(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[jo]=u}else Oc(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;oi(u),A=!1}else eo!==null&&(Gx(eo),eo=null),A=!0;if(!A)return u.flags&65536?u:null}return u.flags&128?(u.lanes=p,u):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(u.child.flags|=8192,u.mode&1&&(a===null||pr.current&1?zr===0&&(zr=3):Yx())),u.updateQueue!==null&&(u.flags|=4),oi(u),null);case 4:return Ac(),Lx(a,u),a===null&&Af(u.stateNode.containerInfo),oi(u),null;case 10:return fx(u.type._context),oi(u),null;case 17:return Pi(u.type)&&wm(),oi(u),null;case 19:if(rr(pr),A=u.memoizedState,A===null)return oi(u),null;if(w=(u.flags&128)!==0,G=A.rendering,G===null)if(w)Vf(A,!1);else{if(zr!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(G=Rm(a),G!==null){for(u.flags|=128,Vf(A,!1),w=G.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=p,p=u.child;p!==null;)A=p,a=w,A.flags&=0xe00002,G=A.alternate,G===null?(A.childLanes=0,A.lanes=a,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=G.childLanes,A.lanes=G.lanes,A.child=G.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=G.memoizedProps,A.memoizedState=G.memoizedState,A.updateQueue=G.updateQueue,A.type=G.type,a=G.dependencies,A.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),p=p.sibling;return Zn(pr,pr.current&1|2),u.child}a=a.sibling}A.tail!==null&&tr()>Dc&&(u.flags|=128,w=!0,Vf(A,!1),u.lanes=4194304)}else{if(!w)if(a=Rm(G),a!==null){if(u.flags|=128,w=!0,p=a.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Vf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!G.alternate&&!sr)return oi(u),null}else 2*tr()-A.renderingStartTime>Dc&&p!==0x40000000&&(u.flags|=128,w=!0,Vf(A,!1),u.lanes=4194304);A.isBackwards?(G.sibling=u.child,u.child=G):(p=A.last,p!==null?p.sibling=G:u.child=G,A.last=G)}return A.tail!==null?(u=A.tail,A.rendering=u,A.tail=u.sibling,A.renderingStartTime=tr(),u.sibling=null,p=pr.current,Zn(pr,w?p&1|2:p&1),u):(oi(u),null);case 22:case 23:return Jx(),w=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(u.flags|=8192),w&&u.mode&1?ts&0x40000000&&(oi(u),u.subtreeFlags&6&&(u.flags|=8192)):oi(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function NM(a,u){switch(ox(u),u.tag){case 1:return Pi(u.type)&&wm(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Ac(),rr(ji),rr(ii),bx(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return yx(u),null;case 13:if(rr(pr),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Oc()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return rr(pr),null;case 4:return Ac(),null;case 10:return fx(u.type._context),null;case 22:case 23:return Jx(),null;case 24:return null;default:return null}}var Bm=!1,ai=!1,kM=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Pc(a,u){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(w){vr(a,u,w)}else p.current=null}function Mx(a,u,p){try{p()}catch(w){vr(a,u,w)}}var Gk=!1;function IM(a,u){if(Jb=Ge,a=IN(),Wb(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var w=p.getSelection&&p.getSelection();if(w&&w.rangeCount!==0){p=w.anchorNode;var k=w.anchorOffset,A=w.focusNode;w=w.focusOffset;try{p.nodeType,A.nodeType}catch{p=null;break e}var G=0,ge=-1,Se=-1,He=0,pt=0,gt=a,ft=null;t:for(;;){for(var Rt;gt!==p||k!==0&&gt.nodeType!==3||(ge=G+k),gt!==A||w!==0&&gt.nodeType!==3||(Se=G+w),gt.nodeType===3&&(G+=gt.nodeValue.length),(Rt=gt.firstChild)!==null;)ft=gt,gt=Rt;for(;;){if(gt===a)break t;if(ft===p&&++He===k&&(ge=G),ft===A&&++pt===w&&(Se=G),(Rt=gt.nextSibling)!==null)break;gt=ft,ft=gt.parentNode}gt=Rt}p=ge===-1||Se===-1?null:{start:ge,end:Se}}else p=null}p=p||{start:0,end:0}}else p=null;for(Yb={focusedElem:a,selectionRange:p},Ge=!1,Ft=u;Ft!==null;)if(u=Ft,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Ft=a;else for(;Ft!==null;){u=Ft;try{var Lt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var Bt=Lt.memoizedProps,_r=Lt.memoizedState,Fe=u.stateNode,Ce=Fe.getSnapshotBeforeUpdate(u.elementType===u.type?Bt:to(u.type,Bt),_r);Fe.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var $e=u.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(bt){vr(u,u.return,bt)}if(a=u.sibling,a!==null){a.return=u.return,Ft=a;break}Ft=u.return}return Lt=Gk,Gk=!1,Lt}function Hf(a,u,p){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var k=w=w.next;do{if((k.tag&a)===a){var A=k.destroy;k.destroy=void 0,A!==void 0&&Mx(u,p,A)}k=k.next}while(k!==w)}}function zm(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&a)===a){var w=p.create;p.destroy=w()}p=p.next}while(p!==u)}}function $x(a){var u=a.ref;if(u!==null){var p=a.stateNode;switch(a.tag){case 5:a=p;break;default:a=p}typeof u=="function"?u(a):u.current=a}}function Zk(a){var u=a.alternate;u!==null&&(a.alternate=null,Zk(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[jo],delete u[Pf],delete u[nx],delete u[uM],delete u[cM])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Jk(a){return a.tag===5||a.tag===3||a.tag===4}function Yk(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Jk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Bx(a,u,p){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(a,u):p.insertBefore(a,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(a,p)):(u=p,u.appendChild(a)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=bm));else if(w!==4&&(a=a.child,a!==null))for(Bx(a,u,p),a=a.sibling;a!==null;)Bx(a,u,p),a=a.sibling}function zx(a,u,p){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?p.insertBefore(a,u):p.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(zx(a,u,p),a=a.sibling;a!==null;)zx(a,u,p),a=a.sibling}var Jr=null,no=!1;function nl(a,u,p){for(p=p.child;p!==null;)Xk(a,u,p),p=p.sibling}function Xk(a,u,p){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Ha,p)}catch{}switch(p.tag){case 5:ai||Pc(p,u);case 6:var w=Jr,k=no;Jr=null,nl(a,u,p),Jr=w,no=k,Jr!==null&&(no?(a=Jr,p=p.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):Jr.removeChild(p.stateNode));break;case 18:Jr!==null&&(no?(a=Jr,p=p.stateNode,a.nodeType===8?tx(a.parentNode,p):a.nodeType===1&&tx(a,p),Oe(a)):tx(Jr,p.stateNode));break;case 4:w=Jr,k=no,Jr=p.stateNode.containerInfo,no=!0,nl(a,u,p),Jr=w,no=k;break;case 0:case 11:case 14:case 15:if(!ai&&(w=p.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){k=w=w.next;do{var A=k,G=A.destroy;A=A.tag,G!==void 0&&(A&2||A&4)&&Mx(p,u,G),k=k.next}while(k!==w)}nl(a,u,p);break;case 1:if(!ai&&(Pc(p,u),w=p.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=p.memoizedProps,w.state=p.memoizedState,w.componentWillUnmount()}catch(ge){vr(p,u,ge)}nl(a,u,p);break;case 21:nl(a,u,p);break;case 22:p.mode&1?(ai=(w=ai)||p.memoizedState!==null,nl(a,u,p),ai=w):nl(a,u,p);break;default:nl(a,u,p)}}function eI(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new kM),u.forEach(function(w){var k=FM.bind(null,a,w);p.has(w)||(p.add(w),w.then(k,k))})}}function ro(a,u){var p=u.deletions;if(p!==null)for(var w=0;w<p.length;w++){var k=p[w];try{var A=a,G=u,ge=G;e:for(;ge!==null;){switch(ge.tag){case 5:Jr=ge.stateNode,no=!1;break e;case 3:Jr=ge.stateNode.containerInfo,no=!0;break e;case 4:Jr=ge.stateNode.containerInfo,no=!0;break e}ge=ge.return}if(Jr===null)throw Error(n(160));Xk(A,G,k),Jr=null,no=!1;var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(He){vr(k,u,He)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)tI(u,a),u=u.sibling}function tI(a,u){var p=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ro(u,a),Do(a),w&4){try{Hf(3,a,a.return),zm(3,a)}catch(Bt){vr(a,a.return,Bt)}try{Hf(5,a,a.return)}catch(Bt){vr(a,a.return,Bt)}}break;case 1:ro(u,a),Do(a),w&512&&p!==null&&Pc(p,p.return);break;case 5:if(ro(u,a),Do(a),w&512&&p!==null&&Pc(p,p.return),a.flags&32){var k=a.stateNode;try{Tn(k,"")}catch(Bt){vr(a,a.return,Bt)}}if(w&4&&(k=a.stateNode,k!=null)){var A=a.memoizedProps,G=p!==null?p.memoizedProps:A,ge=a.type,Se=a.updateQueue;if(a.updateQueue=null,Se!==null)try{ge==="input"&&A.type==="radio"&&A.name!=null&&Wt(k,A),qi(ge,G);var He=qi(ge,A);for(G=0;G<Se.length;G+=2){var pt=Se[G],gt=Se[G+1];pt==="style"?Kt(k,gt):pt==="dangerouslySetInnerHTML"?er(k,gt):pt==="children"?Tn(k,gt):q(k,pt,gt,He)}switch(ge){case"input":en(k,A);break;case"textarea":Me(k,A);break;case"select":var ft=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!A.multiple;var Rt=A.value;Rt!=null?je(k,!!A.multiple,Rt,!1):ft!==!!A.multiple&&(A.defaultValue!=null?je(k,!!A.multiple,A.defaultValue,!0):je(k,!!A.multiple,A.multiple?[]:"",!1))}k[Pf]=A}catch(Bt){vr(a,a.return,Bt)}}break;case 6:if(ro(u,a),Do(a),w&4){if(a.stateNode===null)throw Error(n(162));k=a.stateNode,A=a.memoizedProps;try{k.nodeValue=A}catch(Bt){vr(a,a.return,Bt)}}break;case 3:if(ro(u,a),Do(a),w&4&&p!==null&&p.memoizedState.isDehydrated)try{Oe(u.containerInfo)}catch(Bt){vr(a,a.return,Bt)}break;case 4:ro(u,a),Do(a);break;case 13:ro(u,a),Do(a),k=a.child,k.flags&8192&&(A=k.memoizedState!==null,k.stateNode.isHidden=A,!A||k.alternate!==null&&k.alternate.memoizedState!==null||(Vx=tr())),w&4&&eI(a);break;case 22:if(pt=p!==null&&p.memoizedState!==null,a.mode&1?(ai=(He=ai)||pt,ro(u,a),ai=He):ro(u,a),Do(a),w&8192){if(He=a.memoizedState!==null,(a.stateNode.isHidden=He)&&!pt&&a.mode&1)for(Ft=a,pt=a.child;pt!==null;){for(gt=Ft=pt;Ft!==null;){switch(ft=Ft,Rt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Hf(4,ft,ft.return);break;case 1:Pc(ft,ft.return);var Lt=ft.stateNode;if(typeof Lt.componentWillUnmount=="function"){w=ft,p=ft.return;try{u=w,Lt.props=u.memoizedProps,Lt.state=u.memoizedState,Lt.componentWillUnmount()}catch(Bt){vr(w,p,Bt)}}break;case 5:Pc(ft,ft.return);break;case 22:if(ft.memoizedState!==null){iI(gt);continue}}Rt!==null?(Rt.return=ft,Ft=Rt):iI(gt)}pt=pt.sibling}e:for(pt=null,gt=a;;){if(gt.tag===5){if(pt===null){pt=gt;try{k=gt.stateNode,He?(A=k.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ge=gt.stateNode,Se=gt.memoizedProps.style,G=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ge.style.display=fr("display",G))}catch(Bt){vr(a,a.return,Bt)}}}else if(gt.tag===6){if(pt===null)try{gt.stateNode.nodeValue=He?"":gt.memoizedProps}catch(Bt){vr(a,a.return,Bt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===a)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===a)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===a)break e;pt===gt&&(pt=null),gt=gt.return}pt===gt&&(pt=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:ro(u,a),Do(a),w&4&&eI(a);break;case 21:break;default:ro(u,a),Do(a)}}function Do(a){var u=a.flags;if(u&2){try{e:{for(var p=a.return;p!==null;){if(Jk(p)){var w=p;break e}p=p.return}throw Error(n(160))}switch(w.tag){case 5:var k=w.stateNode;w.flags&32&&(Tn(k,""),w.flags&=-33);var A=Yk(a);zx(a,A,k);break;case 3:case 4:var G=w.stateNode.containerInfo,ge=Yk(a);Bx(a,ge,G);break;default:throw Error(n(161))}}catch(Se){vr(a,a.return,Se)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function CM(a,u,p){Ft=a,nI(a)}function nI(a,u,p){for(var w=(a.mode&1)!==0;Ft!==null;){var k=Ft,A=k.child;if(k.tag===22&&w){var G=k.memoizedState!==null||Bm;if(!G){var ge=k.alternate,Se=ge!==null&&ge.memoizedState!==null||ai;ge=Bm;var He=ai;if(Bm=G,(ai=Se)&&!He)for(Ft=k;Ft!==null;)G=Ft,Se=G.child,G.tag===22&&G.memoizedState!==null?sI(k):Se!==null?(Se.return=G,Ft=Se):sI(k);for(;A!==null;)Ft=A,nI(A),A=A.sibling;Ft=k,Bm=ge,ai=He}rI(a)}else k.subtreeFlags&8772&&A!==null?(A.return=k,Ft=A):rI(a)}}function rI(a){for(;Ft!==null;){var u=Ft;if(u.flags&8772){var p=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:ai||zm(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!ai)if(p===null)w.componentDidMount();else{var k=u.elementType===u.type?p.memoizedProps:to(u.type,p.memoizedProps);w.componentDidUpdate(k,p.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&ik(u,A,w);break;case 3:var G=u.updateQueue;if(G!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}ik(u,G,p)}break;case 5:var ge=u.stateNode;if(p===null&&u.flags&4){p=ge;var Se=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&p.focus();break;case"img":Se.src&&(p.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var He=u.alternate;if(He!==null){var pt=He.memoizedState;if(pt!==null){var gt=pt.dehydrated;gt!==null&&Oe(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ai||u.flags&512&&$x(u)}catch(ft){vr(u,u.return,ft)}}if(u===a){Ft=null;break}if(p=u.sibling,p!==null){p.return=u.return,Ft=p;break}Ft=u.return}}function iI(a){for(;Ft!==null;){var u=Ft;if(u===a){Ft=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Ft=p;break}Ft=u.return}}function sI(a){for(;Ft!==null;){var u=Ft;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{zm(4,u)}catch(Se){vr(u,p,Se)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var k=u.return;try{w.componentDidMount()}catch(Se){vr(u,k,Se)}}var A=u.return;try{$x(u)}catch(Se){vr(u,A,Se)}break;case 5:var G=u.return;try{$x(u)}catch(Se){vr(u,G,Se)}}}catch(Se){vr(u,u.return,Se)}if(u===a){Ft=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,Ft=ge;break}Ft=u.return}}var OM=Math.ceil,Wm=j.ReactCurrentDispatcher,Wx=j.ReactCurrentOwner,Os=j.ReactCurrentBatchConfig,kn=0,Qr=null,qr=null,Yr=0,ts=0,Fc=Ja(0),zr=0,Qf=null,mu=0,Um=0,Ux=0,Kf=null,Di=null,Vx=0,Dc=1/0,ya=null,Vm=!1,Hx=null,rl=null,Hm=!1,il=null,Qm=0,Gf=0,Qx=null,Km=-1,Gm=0;function xi(){return kn&6?tr():Km!==-1?Km:Km=tr()}function sl(a){return a.mode&1?kn&2&&Yr!==0?Yr&-Yr:fM.transition!==null?(Gm===0&&(Gm=cm()),Gm):(a=qn,a!==0||(a=window.event,a=a===void 0?16:Ee(a.type)),a):1}function io(a,u,p,w){if(50<Gf)throw Gf=0,Qx=null,Error(n(185));ou(a,p,w),(!(kn&2)||a!==Qr)&&(a===Qr&&(!(kn&2)&&(Um|=p),zr===4&&ol(a,Yr)),Li(a,w),p===1&&kn===0&&!(u.mode&1)&&(Dc=tr()+500,Sm&&Xa()))}function Li(a,u){var p=a.callbackNode;Pb(a,u);var w=Ka(a,a===Qr?Yr:0);if(w===0)p!==null&&ru(p),a.callbackNode=null,a.callbackPriority=0;else if(u=w&-w,a.callbackPriority!==u){if(p!=null&&ru(p),u===1)a.tag===0?dM(aI.bind(null,a)):HN(aI.bind(null,a)),aM(function(){!(kn&6)&&Xa()}),p=null;else{switch(dm(w)){case 1:p=iu;break;case 4:p=vc;break;case 16:p=Va;break;case 0x20000000:p=su;break;default:p=Va}p=mI(p,oI.bind(null,a))}a.callbackPriority=u,a.callbackNode=p}}function oI(a,u){if(Km=-1,Gm=0,kn&6)throw Error(n(327));var p=a.callbackNode;if(Lc()&&a.callbackNode!==p)return null;var w=Ka(a,a===Qr?Yr:0);if(w===0)return null;if(w&30||w&a.expiredLanes||u)u=Zm(a,w);else{u=w;var k=kn;kn|=2;var A=uI();(Qr!==a||Yr!==u)&&(ya=null,Dc=tr()+500,yu(a,u));do try{RM();break}catch(ge){lI(a,ge)}while(!0);dx(),Wm.current=A,kn=k,qr!==null?u=0:(Qr=null,Yr=0,u=zr)}if(u!==0){if(u===2&&(k=xf(a),k!==0&&(w=k,u=Kx(a,k))),u===1)throw p=Qf,yu(a,0),ol(a,w),Li(a,tr()),p;if(u===6)ol(a,w);else{if(k=a.current.alternate,!(w&30)&&!TM(k)&&(u=Zm(a,w),u===2&&(A=xf(a),A!==0&&(w=A,u=Kx(a,A))),u===1))throw p=Qf,yu(a,0),ol(a,w),Li(a,tr()),p;switch(a.finishedWork=k,a.finishedLanes=w,u){case 0:case 1:throw Error(n(345));case 2:vu(a,Di,ya);break;case 3:if(ol(a,w),(w&0x7c00000)===w&&(u=Vx+500-tr(),10<u)){if(Ka(a,0)!==0)break;if(k=a.suspendedLanes,(k&w)!==w){xi(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=ex(vu.bind(null,a,Di,ya),u);break}vu(a,Di,ya);break;case 4:if(ol(a,w),(w&4194240)===w)break;for(u=a.eventTimes,k=-1;0<w;){var G=31-ri(w);A=1<<G,G=u[G],G>k&&(k=G),w&=~A}if(w=k,w=tr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*OM(w/1960))-w,10<w){a.timeoutHandle=ex(vu.bind(null,a,Di,ya),w);break}vu(a,Di,ya);break;case 5:vu(a,Di,ya);break;default:throw Error(n(329))}}}return Li(a,tr()),a.callbackNode===p?oI.bind(null,a):null}function Kx(a,u){var p=Kf;return a.current.memoizedState.isDehydrated&&(yu(a,u).flags|=256),a=Zm(a,u),a!==2&&(u=Di,Di=p,u!==null&&Gx(u)),a}function Gx(a){Di===null?Di=a:Di.push.apply(Di,a)}function TM(a){for(var u=a;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var w=0;w<p.length;w++){var k=p[w],A=k.getSnapshot;k=k.value;try{if(!Xs(A(),k))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ol(a,u){for(u&=~Ux,u&=~Um,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var p=31-ri(u),w=1<<p;a[p]=-1,u&=~w}}function aI(a){if(kn&6)throw Error(n(327));Lc();var u=Ka(a,0);if(!(u&1))return Li(a,tr()),null;var p=Zm(a,u);if(a.tag!==0&&p===2){var w=xf(a);w!==0&&(u=w,p=Kx(a,w))}if(p===1)throw p=Qf,yu(a,0),ol(a,u),Li(a,tr()),p;if(p===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,vu(a,Di,ya),Li(a,tr()),null}function Zx(a,u){var p=kn;kn|=1;try{return a(u)}finally{kn=p,kn===0&&(Dc=tr()+500,Sm&&Xa())}}function gu(a){il!==null&&il.tag===0&&!(kn&6)&&Lc();var u=kn;kn|=1;var p=Os.transition,w=qn;try{if(Os.transition=null,qn=1,a)return a()}finally{qn=w,Os.transition=p,kn=u,!(kn&6)&&Xa()}}function Jx(){ts=Fc.current,rr(Fc)}function yu(a,u){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==-1&&(a.timeoutHandle=-1,oM(p)),qr!==null)for(p=qr.return;p!==null;){var w=p;switch(ox(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&wm();break;case 3:Ac(),rr(ji),rr(ii),bx();break;case 5:yx(w);break;case 4:Ac();break;case 13:rr(pr);break;case 19:rr(pr);break;case 10:fx(w.type._context);break;case 22:case 23:Jx()}p=p.return}if(Qr=a,qr=a=al(a.current,null),Yr=ts=u,zr=0,Qf=null,Ux=Um=mu=0,Di=Kf=null,fu!==null){for(u=0;u<fu.length;u++)if(p=fu[u],w=p.interleaved,w!==null){p.interleaved=null;var k=w.next,A=p.pending;if(A!==null){var G=A.next;A.next=k,w.next=G}p.pending=w}fu=null}return a}function lI(a,u){do{var p=qr;try{if(dx(),Am.current=Dm,jm){for(var w=mr.memoizedState;w!==null;){var k=w.queue;k!==null&&(k.pending=null),w=w.next}jm=!1}if(pu=0,Hr=Br=mr=null,Bf=!1,zf=0,Wx.current=null,p===null||p.return===null){zr=1,Qf=u,qr=null;break}e:{var A=a,G=p.return,ge=p,Se=u;if(u=Yr,ge.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var He=Se,pt=ge,gt=pt.tag;if(!(pt.mode&1)&&(gt===0||gt===11||gt===15)){var ft=pt.alternate;ft?(pt.updateQueue=ft.updateQueue,pt.memoizedState=ft.memoizedState,pt.lanes=ft.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var Rt=Ak(G);if(Rt!==null){Rt.flags&=-257,jk(Rt,G,ge,A,u),Rt.mode&1&&Rk(A,He,u),u=Rt,Se=He;var Lt=u.updateQueue;if(Lt===null){var Bt=new Set;Bt.add(Se),u.updateQueue=Bt}else Lt.add(Se);break e}else{if(!(u&1)){Rk(A,He,u),Yx();break e}Se=Error(n(426))}}else if(sr&&ge.mode&1){var _r=Ak(G);if(_r!==null){!(_r.flags&65536)&&(_r.flags|=256),jk(_r,G,ge,A,u),ux(jc(Se,ge));break e}}A=Se=jc(Se,ge),zr!==4&&(zr=2),Kf===null?Kf=[A]:Kf.push(A),A=G;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u;var Fe=Tk(A,Se,u);rk(A,Fe);break e;case 1:ge=Se;var Ce=A.type,$e=A.stateNode;if(!(A.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(rl===null||!rl.has($e)))){A.flags|=65536,u&=-u,A.lanes|=u;var bt=qk(A,ge,u);rk(A,bt);break e}}A=A.return}while(A!==null)}dI(p)}catch(Ut){u=Ut,qr===p&&p!==null&&(qr=p=p.return);continue}break}while(!0)}function uI(){var a=Wm.current;return Wm.current=Dm,a===null?Dm:a}function Yx(){(zr===0||zr===3||zr===2)&&(zr=4),Qr===null||!(mu&0xfffffff)&&!(Um&0xfffffff)||ol(Qr,Yr)}function Zm(a,u){var p=kn;kn|=2;var w=uI();(Qr!==a||Yr!==u)&&(ya=null,yu(a,u));do try{qM();break}catch(k){lI(a,k)}while(!0);if(dx(),kn=p,Wm.current=w,qr!==null)throw Error(n(261));return Qr=null,Yr=0,zr}function qM(){for(;qr!==null;)cI(qr)}function RM(){for(;qr!==null&&!yc();)cI(qr)}function cI(a){var u=pI(a.alternate,a,ts);a.memoizedProps=a.pendingProps,u===null?dI(a):qr=u,Wx.current=null}function dI(a){var u=a;do{var p=u.alternate;if(a=u.return,u.flags&32768){if(p=NM(p,u),p!==null){p.flags&=32767,qr=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{zr=6,qr=null;return}}else if(p=EM(p,u,ts),p!==null){qr=p;return}if(u=u.sibling,u!==null){qr=u;return}qr=u=a}while(u!==null);zr===0&&(zr=5)}function vu(a,u,p){var w=qn,k=Os.transition;try{Os.transition=null,qn=1,AM(a,u,p,w)}finally{Os.transition=k,qn=w}return null}function AM(a,u,p,w){do Lc();while(il!==null);if(kn&6)throw Error(n(327));p=a.finishedWork;var k=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var A=p.lanes|p.childLanes;if(Fb(a,A),a===Qr&&(qr=Qr=null,Yr=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||Hm||(Hm=!0,mI(Va,function(){return Lc(),null})),A=(p.flags&15990)!==0,p.subtreeFlags&15990||A){A=Os.transition,Os.transition=null;var G=qn;qn=1;var ge=kn;kn|=4,Wx.current=null,IM(a,p),tI(p,a),XL(Yb),Ge=!!Jb,Yb=Jb=null,a.current=p,CM(p),hf(),kn=ge,qn=G,Os.transition=A}else a.current=p;if(Hm&&(Hm=!1,il=a,Qm=k),A=a.pendingLanes,A===0&&(rl=null),gf(p.stateNode),Li(a,tr()),u!==null)for(w=a.onRecoverableError,p=0;p<u.length;p++)k=u[p],w(k.value,{componentStack:k.stack,digest:k.digest});if(Vm)throw Vm=!1,a=Hx,Hx=null,a;return Qm&1&&a.tag!==0&&Lc(),A=a.pendingLanes,A&1?a===Qx?Gf++:(Gf=0,Qx=a):Gf=0,Xa(),null}function Lc(){if(il!==null){var a=dm(Qm),u=Os.transition,p=qn;try{if(Os.transition=null,qn=16>a?16:a,il===null)var w=!1;else{if(a=il,il=null,Qm=0,kn&6)throw Error(n(331));var k=kn;for(kn|=4,Ft=a.current;Ft!==null;){var A=Ft,G=A.child;if(Ft.flags&16){var ge=A.deletions;if(ge!==null){for(var Se=0;Se<ge.length;Se++){var He=ge[Se];for(Ft=He;Ft!==null;){var pt=Ft;switch(pt.tag){case 0:case 11:case 15:Hf(8,pt,A)}var gt=pt.child;if(gt!==null)gt.return=pt,Ft=gt;else for(;Ft!==null;){pt=Ft;var ft=pt.sibling,Rt=pt.return;if(Zk(pt),pt===He){Ft=null;break}if(ft!==null){ft.return=Rt,Ft=ft;break}Ft=Rt}}}var Lt=A.alternate;if(Lt!==null){var Bt=Lt.child;if(Bt!==null){Lt.child=null;do{var _r=Bt.sibling;Bt.sibling=null,Bt=_r}while(Bt!==null)}}Ft=A}}if(A.subtreeFlags&2064&&G!==null)G.return=A,Ft=G;else e:for(;Ft!==null;){if(A=Ft,A.flags&2048)switch(A.tag){case 0:case 11:case 15:Hf(9,A,A.return)}var Fe=A.sibling;if(Fe!==null){Fe.return=A.return,Ft=Fe;break e}Ft=A.return}}var Ce=a.current;for(Ft=Ce;Ft!==null;){G=Ft;var $e=G.child;if(G.subtreeFlags&2064&&$e!==null)$e.return=G,Ft=$e;else e:for(G=Ce;Ft!==null;){if(ge=Ft,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:zm(9,ge)}}catch(Ut){vr(ge,ge.return,Ut)}if(ge===G){Ft=null;break e}var bt=ge.sibling;if(bt!==null){bt.return=ge.return,Ft=bt;break e}Ft=ge.return}}if(kn=k,Xa(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Ha,a)}catch{}w=!0}return w}finally{qn=p,Os.transition=u}}return!1}function fI(a,u,p){u=jc(p,u),u=Tk(a,u,1),a=tl(a,u,1),u=xi(),a!==null&&(ou(a,1,u),Li(a,u))}function vr(a,u,p){if(a.tag===3)fI(a,a,p);else for(;u!==null;){if(u.tag===3){fI(u,a,p);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(rl===null||!rl.has(w))){a=jc(p,a),a=qk(u,a,1),u=tl(u,a,1),a=xi(),u!==null&&(ou(u,1,a),Li(u,a));break}}u=u.return}}function jM(a,u,p){var w=a.pingCache;w!==null&&w.delete(u),u=xi(),a.pingedLanes|=a.suspendedLanes&p,Qr===a&&(Yr&p)===p&&(zr===4||zr===3&&(Yr&0x7c00000)===Yr&&500>tr()-Vx?yu(a,0):Ux|=p),Li(a,u)}function hI(a,u){u===0&&(a.mode&1?(u=Qa,Qa<<=1,!(Qa&0x7c00000)&&(Qa=4194304)):u=1);var p=xi();a=pa(a,u),a!==null&&(ou(a,u,p),Li(a,p))}function PM(a){var u=a.memoizedState,p=0;u!==null&&(p=u.retryLane),hI(a,p)}function FM(a,u){var p=0;switch(a.tag){case 13:var w=a.stateNode,k=a.memoizedState;k!==null&&(p=k.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(u),hI(a,p)}var pI;pI=function(a,u,p){if(a!==null)if(a.memoizedProps!==u.pendingProps||ji.current)Fi=!0;else{if(!(a.lanes&p)&&!(u.flags&128))return Fi=!1,SM(a,u,p);Fi=!!(a.flags&131072)}else Fi=!1,sr&&u.flags&1048576&&QN(u,Nm,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;$m(a,u),a=u.pendingProps;var k=kc(u,ii.current);Rc(u,p),k=_x(null,u,w,a,k,p);var A=Sx();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Pi(w)?(A=!0,_m(u)):A=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,mx(u),k.updater=Lm,u.stateNode=k,k._reactInternals=u,Ox(u,w,a,p),u=Ax(null,u,w,!0,A,p)):(u.tag=0,sr&&A&&sx(u),bi(null,u,k,p),u=u.child),u;case 16:w=u.elementType;e:{switch($m(a,u),a=u.pendingProps,k=w._init,w=k(w._payload),u.type=w,k=u.tag=LM(w),a=to(w,a),k){case 0:u=Rx(null,u,w,a,p);break e;case 1:u=$k(null,u,w,a,p);break e;case 11:u=Pk(null,u,w,a,p);break e;case 14:u=Fk(null,u,w,to(w.type,a),p);break e}throw Error(n(306,w,""))}return u;case 0:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:to(w,k),Rx(a,u,w,k,p);case 1:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:to(w,k),$k(a,u,w,k,p);case 3:e:{if(Bk(u),a===null)throw Error(n(387));w=u.pendingProps,A=u.memoizedState,k=A.element,nk(a,u),qm(u,w,null,p);var G=u.memoizedState;if(w=G.element,A.isDehydrated)if(A={element:w,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){k=jc(Error(n(423)),u),u=zk(a,u,w,p,k);break e}else if(w!==k){k=jc(Error(n(424)),u),u=zk(a,u,w,p,k);break e}else for(es=Za(u.stateNode.containerInfo.firstChild),Xi=u,sr=!0,eo=null,p=ek(u,null,w,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Oc(),w===k){u=ga(a,u,p);break e}bi(a,u,w,p)}u=u.child}return u;case 5:return sk(u),a===null&&lx(u),w=u.type,k=u.pendingProps,A=a!==null?a.memoizedProps:null,G=k.children,Xb(w,k)?G=null:A!==null&&Xb(w,A)&&(u.flags|=32),Mk(a,u),bi(a,u,G,p),u.child;case 6:return a===null&&lx(u),null;case 13:return Wk(a,u,p);case 4:return gx(u,u.stateNode.containerInfo),w=u.pendingProps,a===null?u.child=Tc(u,null,w,p):bi(a,u,w,p),u.child;case 11:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:to(w,k),Pk(a,u,w,k,p);case 7:return bi(a,u,u.pendingProps,p),u.child;case 8:return bi(a,u,u.pendingProps.children,p),u.child;case 12:return bi(a,u,u.pendingProps.children,p),u.child;case 10:e:{if(w=u.type._context,k=u.pendingProps,A=u.memoizedProps,G=k.value,Zn(Cm,w._currentValue),w._currentValue=G,A!==null)if(Xs(A.value,G)){if(A.children===k.children&&!ji.current){u=ga(a,u,p);break e}}else for(A=u.child,A!==null&&(A.return=u);A!==null;){var ge=A.dependencies;if(ge!==null){G=A.child;for(var Se=ge.firstContext;Se!==null;){if(Se.context===w){if(A.tag===1){Se=ma(-1,p&-p),Se.tag=2;var He=A.updateQueue;if(He!==null){He=He.shared;var pt=He.pending;pt===null?Se.next=Se:(Se.next=pt.next,pt.next=Se),He.pending=Se}}A.lanes|=p,Se=A.alternate,Se!==null&&(Se.lanes|=p),hx(A.return,p,u),ge.lanes|=p;break}Se=Se.next}}else if(A.tag===10)G=A.type===u.type?null:A.child;else if(A.tag===18){if(G=A.return,G===null)throw Error(n(341));G.lanes|=p,ge=G.alternate,ge!==null&&(ge.lanes|=p),hx(G,p,u),G=A.sibling}else G=A.child;if(G!==null)G.return=A;else for(G=A;G!==null;){if(G===u){G=null;break}if(A=G.sibling,A!==null){A.return=G.return,G=A;break}G=G.return}A=G}bi(a,u,k.children,p),u=u.child}return u;case 9:return k=u.type,w=u.pendingProps.children,Rc(u,p),k=Is(k),w=w(k),u.flags|=1,bi(a,u,w,p),u.child;case 14:return w=u.type,k=to(w,u.pendingProps),k=to(w.type,k),Fk(a,u,w,k,p);case 15:return Dk(a,u,u.type,u.pendingProps,p);case 17:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:to(w,k),$m(a,u),u.tag=1,Pi(w)?(a=!0,_m(u)):a=!1,Rc(u,p),Ck(u,w,k),Ox(u,w,k,p),Ax(null,u,w,!0,a,p);case 19:return Vk(a,u,p);case 22:return Lk(a,u,p)}throw Error(n(156,u.tag))};function mI(a,u){return gc(a,u)}function DM(a,u,p,w){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(a,u,p,w){return new DM(a,u,p,w)}function Xx(a){return a=a.prototype,!(!a||!a.isReactComponent)}function LM(a){if(typeof a=="function")return Xx(a)?1:0;if(a!=null){if(a=a.$$typeof,a===W)return 11;if(a===X)return 14}return 2}function al(a,u){var p=a.alternate;return p===null?(p=Ts(a.tag,u,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=u,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&0xe00000,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,u=a.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Jm(a,u,p,w,k,A){var G=2;if(w=a,typeof a=="function")Xx(a)&&(G=1);else if(typeof a=="string")G=5;else e:switch(a){case z:return bu(p.children,k,A,u);case P:G=8,k|=8;break;case R:return a=Ts(12,p,u,k|2),a.elementType=R,a.lanes=A,a;case U:return a=Ts(13,p,u,k),a.elementType=U,a.lanes=A,a;case $:return a=Ts(19,p,u,k),a.elementType=$,a.lanes=A,a;case ae:return Ym(p,k,A,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:G=10;break e;case F:G=9;break e;case W:G=11;break e;case X:G=14;break e;case Z:G=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Ts(G,p,u,k),u.elementType=a,u.type=w,u.lanes=A,u}function bu(a,u,p,w){return a=Ts(7,a,w,u),a.lanes=p,a}function Ym(a,u,p,w){return a=Ts(22,a,w,u),a.elementType=ae,a.lanes=p,a.stateNode={isHidden:!1},a}function ew(a,u,p){return a=Ts(6,a,null,u),a.lanes=p,a}function tw(a,u,p){return u=Ts(4,a.children!==null?a.children:[],a.key,u),u.lanes=p,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function MM(a,u,p,w,k){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wf(0),this.expirationTimes=wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wf(0),this.identifierPrefix=w,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function nw(a,u,p,w,k,A,G,ge,Se){return a=new MM(a,u,p,ge,Se),u===1?(u=1,A===!0&&(u|=8)):u=0,A=Ts(3,null,null,u),a.current=A,A.stateNode=a,A.memoizedState={element:w,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},mx(A),a}function $M(a,u,p){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:w==null?null:""+w,children:a,containerInfo:u,implementation:p}}function gI(a){if(!a)return Ya;a=a._reactInternals;e:{if(Ss(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Pi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var p=a.type;if(Pi(p))return UN(a,p,u)}return u}function yI(a,u,p,w,k,A,G,ge,Se){return a=nw(p,w,!0,a,k,A,G,ge,Se),a.context=gI(null),p=a.current,w=xi(),k=sl(p),A=ma(w,k),A.callback=u??null,tl(p,A,k),a.current.lanes=k,ou(a,k,w),Li(a,w),a}function Xm(a,u,p,w){var k=u.current,A=xi(),G=sl(k);return p=gI(p),u.context===null?u.context=p:u.pendingContext=p,u=ma(A,G),u.payload={element:a},w=w===void 0?null:w,w!==null&&(u.callback=w),a=tl(k,u,G),a!==null&&(io(a,k,G,A),Tm(a,k,G)),G}function eg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function vI(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<u?p:u}}function rw(a,u){vI(a,u),(a=a.alternate)&&vI(a,u)}var bI=typeof reportError=="function"?reportError:function(a){console.error(a)};function iw(a){this._internalRoot=a}tg.prototype.render=iw.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));Xm(a,u,null,null)},tg.prototype.unmount=iw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;gu(function(){Xm(null,a,null,null)}),u[ca]=null}};function tg(a){this._internalRoot=a}tg.prototype.unstable_scheduleHydration=function(a){if(a){var u=au();a={blockedOn:null,target:a,priority:u};for(var p=0;p<me.length&&u!==0&&u<me[p].priority;p++);me.splice(p,0,a),p===0&&Be(a)}};function sw(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function ng(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function xI(){}function BM(a,u,p,w,k){if(k){if(typeof w=="function"){var A=w;w=function(){var He=eg(G);A.call(He)}}var G=yI(u,w,a,0,null,!1,!1,"",xI);return a._reactRootContainer=G,a[ca]=G.current,Af(a.nodeType===8?a.parentNode:a),gu(),G}for(;k=a.lastChild;)a.removeChild(k);if(typeof w=="function"){var ge=w;w=function(){var He=eg(Se);ge.call(He)}}var Se=nw(a,0,!1,null,null,!1,!1,"",xI);return a._reactRootContainer=Se,a[ca]=Se.current,Af(a.nodeType===8?a.parentNode:a),gu(function(){Xm(u,Se,p,w)}),Se}function rg(a,u,p,w,k){var A=p._reactRootContainer;if(A){var G=A;if(typeof k=="function"){var ge=k;k=function(){var Se=eg(G);ge.call(Se)}}Xm(u,G,a,k)}else G=BM(p,u,a,k,w);return eg(G)}Sf=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var p=vi(u.pendingLanes);p!==0&&(_f(u,p|1),Li(u,tr()),!(kn&6)&&(Dc=tr()+500,Xa()))}break;case 13:gu(function(){var w=pa(a,1);if(w!==null){var k=xi();io(w,a,1,k)}}),rw(a,1)}},pe=function(a){if(a.tag===13){var u=pa(a,0x8000000);if(u!==null){var p=xi();io(u,a,0x8000000,p)}rw(a,0x8000000)}},Ef=function(a){if(a.tag===13){var u=sl(a),p=pa(a,u);if(p!==null){var w=xi();io(p,a,u,w)}rw(a,u)}},au=function(){return qn},Nf=function(a,u){var p=qn;try{return qn=a,u()}finally{qn=p}},eu=function(a,u,p){switch(u){case"input":if(en(a,p),u=p.name,p.type==="radio"&&u!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var w=p[u];if(w!==a&&w.form===a.form){var k=xm(w);if(!k)throw Error(n(90));Ue(w),en(w,k)}}}break;case"textarea":Me(a,p);break;case"select":u=p.value,u!=null&&je(a,!!p.multiple,u,!1)}},uc=Zx,cc=gu;var zM={usingClientEntryPoint:!1,Events:[Ff,Ec,xm,on,lc,Zx]},Zf={findFiberByHostInstance:lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WM={bundleType:Zf.bundleType,version:Zf.version,rendererPackageName:Zf.rendererPackageName,rendererConfig:Zf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=pc(a),a===null?null:a.stateNode},findFiberByHostInstance:Zf.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ig=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ig.isDisabled&&ig.supportsFiber)try{Ha=ig.inject(WM),Ai=ig}catch{}}return Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zM,Mi.createPortal=function(a,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sw(u))throw Error(n(200));return $M(a,u,null,p)},Mi.createRoot=function(a,u){if(!sw(a))throw Error(n(299));var p=!1,w="",k=bI;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=nw(a,1,!1,null,null,p,!1,w,k),a[ca]=u.current,Af(a.nodeType===8?a.parentNode:a),new iw(u)},Mi.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=pc(u),a=a===null?null:a.stateNode,a},Mi.flushSync=function(a){return gu(a)},Mi.hydrate=function(a,u,p){if(!ng(u))throw Error(n(200));return rg(null,a,u,!0,p)},Mi.hydrateRoot=function(a,u,p){if(!sw(a))throw Error(n(405));var w=p!=null&&p.hydratedSources||null,k=!1,A="",G=bI;if(p!=null&&(p.unstable_strictMode===!0&&(k=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onRecoverableError!==void 0&&(G=p.onRecoverableError)),u=yI(u,null,a,1,p??null,k,!1,A,G),a[ca]=u.current,Af(a),w)for(a=0;a<w.length;a++)p=w[a],k=p._getVersion,k=k(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,k]:u.mutableSourceEagerHydrationData.push(p,k);return new tg(u)},Mi.render=function(a,u,p){if(!ng(u))throw Error(n(200));return rg(null,a,u,!1,p)},Mi.unmountComponentAtNode=function(a){if(!ng(a))throw Error(n(40));return a._reactRootContainer?(gu(function(){rg(null,null,a,!1,function(){a._reactRootContainer=null,a[ca]=null})}),!0):!1},Mi.unstable_batchedUpdates=Zx,Mi.unstable_renderSubtreeIntoContainer=function(a,u,p,w){if(!ng(p))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return rg(a,u,p,!1,w)},Mi.version="18.3.1-next-f1338f8080-20240426",Mi}var JI;function tA(){if(JI)return xw.exports;JI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xw.exports=E$(),xw.exports}var Av=tA();const N$="Error preloading route! ☝️";function k$(t,e){const n=No(),[r,i]=Q.useState(!1),s=Q.useRef(!1),o=Y4(e),{activeProps:l=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:d,to:f,preload:h,preloadDelay:b,hashScrollIntoView:x,replace:_,startTransition:N,resetScroll:I,viewTransition:T,children:O,target:q,disabled:j,style:D,className:L,onClick:z,onFocus:P,onMouseEnter:R,onMouseLeave:B,onTouchStart:F,ignoreBlocker:W,...U}=t,{params:$,search:X,hash:Z,state:ae,mask:ie,reloadDocument:ee,...se}=U,Y=Q.useMemo(()=>{try{return new URL(`${f}`),"external"}catch{}return"internal"},[f]),ce=Ii({select:ke=>ke.location.search,structuralSharing:!0});t={from:Ml({strict:!1,select:ke=>ke.pathname}),...t};const ye=Q.useMemo(()=>n.buildLocation(t),[n,t,ce]),we=Q.useMemo(()=>t.reloadDocument?!1:h??n.options.defaultPreload,[n.options.defaultPreload,h,t.reloadDocument]),Ne=b??n.options.defaultPreloadDelay??0,ze=Ii({select:ke=>{if(d?.exact){if(!e$(ke.location.pathname,ye.pathname,n.basepath))return!1}else{const je=Ey(ke.location.pathname,n.basepath).split("/");if(!Ey(ye.pathname,n.basepath).split("/").every((Me,ct)=>Me===je[ct]))return!1}return(d?.includeSearch??!0)&&!ud(ke.location.search,ye.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?ke.location.hash===ye.hash:!0}}),qe=Q.useCallback(()=>{n.preloadRoute(t).catch(ke=>{console.warn(ke),console.warn(N$)})},[t,n]),De=Q.useCallback(ke=>{ke?.isIntersecting&&qe()},[qe]);if(J4(o,De,{rootMargin:"100px"},{disabled:!!j||we!=="viewport"}),fh(()=>{s.current||!j&&we==="render"&&(qe(),s.current=!0)},[j,qe,we]),Y==="external")return{...se,ref:o,type:Y,href:f,...O&&{children:O},...q&&{target:q},...j&&{disabled:j},...D&&{style:D},...L&&{className:L},...z&&{onClick:z},...P&&{onFocus:P},...R&&{onMouseEnter:R},...B&&{onMouseLeave:B},...F&&{onTouchStart:F}};const Ze=ke=>{if(!j&&!C$(ke)&&!ke.defaultPrevented&&(!q||q==="_self")&&ke.button===0){ke.preventDefault(),Av.flushSync(()=>{i(!0)});const je=n.subscribe("onResolved",()=>{je(),i(!1)});return n.navigate({...t,replace:_,resetScroll:I,hashScrollIntoView:x,startTransition:N,viewTransition:T,ignoreBlocker:W})}},Xe=ke=>{j||we&&qe()},Ue=Xe,ut=ke=>{if(j)return;const je=ke.target||{};if(we){if(je.preloadTimeout)return;je.preloadTimeout=setTimeout(()=>{je.preloadTimeout=null,qe()},Ne)}},_t=ke=>{if(j)return;const je=ke.target||{};je.preloadTimeout&&(clearTimeout(je.preloadTimeout),je.preloadTimeout=null)},Ot=ke=>je=>{var Ve;(Ve=je.persist)==null||Ve.call(je),ke.filter(Boolean).forEach(rt=>{je.defaultPrevented||rt(je)})},Wt=ze?qu(l,{})??{}:{},en=ze?{}:qu(c,{}),xe=[L,Wt.className,en.className].filter(Boolean).join(" "),ve={...D,...Wt.style,...en.style};return{...se,...Wt,...en,href:j?void 0:ye.maskedLocation?n.history.createHref(ye.maskedLocation.href):n.history.createHref(ye.href),ref:o,onClick:Ot([z,Ze]),onFocus:Ot([P,Xe]),onMouseEnter:Ot([R,ut]),onMouseLeave:Ot([B,_t]),onTouchStart:Ot([F,Ue]),disabled:!!j,target:q,...Object.keys(ve).length&&{style:ve},...xe&&{className:xe},...j&&{role:"link","aria-disabled":!0},...ze&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function nA(t){return Q.forwardRef(function(n,r){return m.jsx(I$,{...n,_asChild:t,ref:r})})}const I$=Q.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:s,...o}=k$(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,Q.createElement(n||"a",{...o,ref:s},l)});function C$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O$(){const t=No(),e=Q.useRef({router:t,mounted:!1}),n=Ii({select:({isLoading:h})=>h}),[r,i]=Q.useState(!1),s=Ii({select:h=>h.matches.some(b=>b.status==="pending"),structuralSharing:!0}),o=yw(n),l=n||r||s,c=yw(l),d=n||s,f=yw(d);return t.isServer||(t.startReactTransition=h=>{i(!0),Q.startTransition(()=>{h(),i(!1)})}),Q.useEffect(()=>{const h=t.history.subscribe(t.load),b=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ru(t.latestLocation.href)!==Ru(b.href)&&t.commitLocation({...b,replace:!0}),()=>{h()}},[t,t.history]),fh(()=>{var h;if(typeof window<"u"&&((h=window.__TSR__)!=null&&h.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),fh(()=>{if(o&&!n){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;t.emit({type:"onLoad",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_})}},[o,t,n]),fh(()=>{if(f&&!d){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;t.emit({type:"onBeforeRouteMount",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_})}},[d,f,t]),fh(()=>{if(c&&!l){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;if(t.emit({type:"onResolved",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_}),t.__store.setState(N=>({...N,status:"idle",resolvedLocation:N.location})),typeof document<"u"&&document.querySelector){const N=t.state.location.state.__hashScrollIntoViewOptions??!0;if(N&&t.state.location.hash!==""){const I=document.getElementById(t.state.location.hash);I&&I.scrollIntoView(N)}}}},[l,c,t]),null}function T$(){const t=No(),e=t.options.defaultPendingComponent?m.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?Wg:Q.Suspense,r=m.jsxs(n,{fallback:e,children:[m.jsx(O$,{}),m.jsx(q$,{})]});return t.options.InnerWrap?m.jsx(t.options.InnerWrap,{children:r}):r}function q$(){const t=Ii({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=Ii({select:n=>n.loadedAt});return m.jsx(Rv.Provider,{value:t,children:m.jsx(FE,{getResetKey:()=>e,errorComponent:qv,onCatch:n=>{n.message||n.toString()},children:t?m.jsx(eA,{matchId:t}):null})})}function R$(){const t=No();return Ii({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),Q.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s,...o}=e;return t.matchRoute(o,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s})},[t])}function A$({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=QR(),i=m.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?m.jsx(t.options.Wrap,{children:i}):i}function j$({router:t,...e}){return m.jsx(A$,{router:t,...e,children:m.jsx(T$,{})})}const P$=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,Sw="window",YI="___";let Ew=new WeakSet;const F$=typeof window<"u"&&window.sessionStorage,ao=F$?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{ao.state=qu(n,ao.state),window.sessionStorage.setItem(t,JSON.stringify(ao.state))}}})():void 0,D$=t=>t.state.key||t.href;function L$(t){const e=No();P$(()=>{const n=t?.getKey||D$,{history:r}=window;r.scrollRestoration="manual";const i=l=>{if(Ew.has(l.target))return;Ew.add(l.target);let c="";if(l.target===document||l.target===window)c=Sw;else{const d=l.target.getAttribute("data-scroll-restoration-id");d?c=`[data-scroll-restoration-id="${d}"]`:c=$$(l.target)}ao.state.next[c]||ao.set(d=>({...d,next:{...d.next,[c]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const s=e.subscribe("onBeforeLoad",l=>{if(l.hrefChanged){const c=n(l.fromLocation);for(const d in ao.state.next){const f=ao.state.next[d];if(d===Sw)f.scrollX=window.scrollX||0,f.scrollY=window.scrollY||0;else if(d){const h=document.querySelector(d);f.scrollX=h?.scrollLeft||0,f.scrollY=h?.scrollTop||0}ao.set(h=>{const b={...h.next};return delete b[d],{...h,next:b,cached:{...h.cached,[[c,d].join(YI)]:f}}})}}}),o=e.subscribe("onBeforeRouteMount",l=>{if(l.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const c=n(l.toLocation);let d=!1;for(const f in ao.state.cached){const h=ao.state.cached[f],[b,x]=f.split(YI);if(b===c){if(x===Sw)d=!0,window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:t?.scrollBehavior});else if(x){const _=document.querySelector(x);_&&(_.scrollLeft=h.scrollX,_.scrollTop=h.scrollY)}}}d||window.scrollTo(0,0),ao.set(f=>({...f,next:{}})),Ew=new WeakSet}});return()=>{document.removeEventListener("scroll",i),s(),o()}},[t?.getKey,e])}function M$(t){return L$(t),null}function $$(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function gi(t){return Ml({...t,select:e=>t.select?t.select(e.context):e.context})}let B$={data:""},z$=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||B$,W$=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,U$=/\/\*[^]*?\*\/|  +/g,XI=/\n+/g,wl=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?wl(o,s):s+"{"+wl(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=wl(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=wl.p?wl.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},va={},rA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+rA(t[n]);return e}return t},V$=(t,e,n,r,i)=>{let s=rA(t),o=va[s]||(va[s]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(s));if(!va[o]){let c=s!==t?t:(d=>{let f,h,b=[{}];for(;f=W$.exec(d.replace(U$,""));)f[4]?b.shift():f[3]?(h=f[3].replace(XI," ").trim(),b.unshift(b[0][h]=b[0][h]||{})):b[0][f[1]]=f[2].replace(XI," ").trim();return b[0]})(t);va[o]=wl(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&va.g?va.g:null;return n&&(va.g=va[o]),((c,d,f,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(va[o],e,r,l),o},H$=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":wl(l,""):l===!1?"":l}return r+i+(o??"")},"");function jv(t){let e=this||{},n=t.call?t(e.p):t;return V$(n.unshift?n.raw?H$(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,z$(e.target),e.g,e.o,e.k)}let iA,pS,mS;jv.bind({g:1});let ja=jv.bind({k:1});function Q$(t,e,n,r){wl.p=e,iA=t,pS=n,mS=r}function Zl(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),c=l.className||i.className;n.p=Object.assign({theme:pS&&pS()},l),n.o=/ *go\d+/.test(c),l.className=jv.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),mS&&d[0]&&mS(l),iA(d,l)}return i}}var K$=t=>typeof t=="function",ky=(t,e)=>K$(t)?t(e):t,G$=(()=>{let t=0;return()=>(++t).toString()})(),sA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Z$=20,oA=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,Z$)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return oA(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Ug=[],Vg={toasts:[],pausedAt:void 0},nc=t=>{Vg=oA(Vg,t),Ug.forEach(e=>{e(Vg)})},J$={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Y$=(t={})=>{let[e,n]=Q.useState(Vg);Q.useEffect(()=>(Ug.push(n),()=>{let i=Ug.indexOf(n);i>-1&&Ug.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||t?.removeDelay,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||t?.duration||J$[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},X$=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||G$()}),qp=t=>(e,n)=>{let r=X$(e,t,n);return nc({type:2,toast:r}),r.id},Sn=(t,e)=>qp("blank")(t,e);Sn.error=qp("error");Sn.success=qp("success");Sn.loading=qp("loading");Sn.custom=qp("custom");Sn.dismiss=t=>{nc({type:3,toastId:t})};Sn.remove=t=>nc({type:4,toastId:t});Sn.promise=(t,e,n)=>{let r=Sn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?ky(e.success,i):void 0;return s?Sn.success(s,{id:r,...n,...n?.success}):Sn.dismiss(r),i}).catch(i=>{let s=e.error?ky(e.error,i):void 0;s?Sn.error(s,{id:r,...n,...n?.error}):Sn.dismiss(r)}),t};var eB=(t,e)=>{nc({type:1,toast:{id:t,height:e}})},tB=()=>{nc({type:5,time:Date.now()})},Oh=new Map,nB=1e3,rB=(t,e=nB)=>{if(Oh.has(t))return;let n=setTimeout(()=>{Oh.delete(t),nc({type:4,toastId:t})},e);Oh.set(t,n)},iB=t=>{let{toasts:e,pausedAt:n}=Y$(t);Q.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&Sn.dismiss(l.id);return}return setTimeout(()=>Sn.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=Q.useCallback(()=>{n&&nc({type:6,time:Date.now()})},[n]),i=Q.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},f=e.filter(x=>(x.position||d)===(s.position||d)&&x.height),h=f.findIndex(x=>x.id===s.id),b=f.filter((x,_)=>_<h&&x.visible).length;return f.filter(x=>x.visible).slice(...l?[b+1]:[0,b]).reduce((x,_)=>x+(_.height||0)+c,0)},[e]);return Q.useEffect(()=>{e.forEach(s=>{if(s.dismissed)rB(s.id,s.removeDelay);else{let o=Oh.get(s.id);o&&(clearTimeout(o),Oh.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:eB,startPause:tB,endPause:r,calculateOffset:i}}},sB=ja`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oB=ja`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aB=ja`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lB=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oB} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aB} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,uB=ja`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,cB=Zl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${uB} 1s linear infinite;
`,dB=ja`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,fB=ja`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hB=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dB} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${fB} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,pB=Zl("div")`
  position: absolute;
`,mB=Zl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gB=ja`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yB=Zl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gB} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,vB=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?Q.createElement(yB,null,e):e:n==="blank"?null:Q.createElement(mB,null,Q.createElement(cB,{...r}),n!=="loading"&&Q.createElement(pB,null,n==="error"?Q.createElement(lB,{...r}):Q.createElement(hB,{...r})))},bB=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xB=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,wB="0%{opacity:0;} 100%{opacity:1;}",_B="0%{opacity:1;} 100%{opacity:0;}",SB=Zl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EB=Zl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,NB=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=sA()?[wB,_B]:[bB(n),xB(n)];return{animation:e?`${ja(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ja(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kB=Q.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?NB(t.position||e||"top-center",t.visible):{opacity:0},s=Q.createElement(vB,{toast:t}),o=Q.createElement(EB,{...t.ariaProps},ky(t.message,t));return Q.createElement(SB,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):Q.createElement(Q.Fragment,null,s,o))});Q$(Q.createElement);var IB=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=Q.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Q.createElement("div",{ref:s,className:e,style:n},i)},CB=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:sA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},OB=jv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,dg=16,TB=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=iB(n);return Q.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:dg,left:dg,right:dg,bottom:dg,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let f=d.position||e,h=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),b=CB(f,h);return Q.createElement(IB,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?OB:"",style:b},d.type==="custom"?ky(d.message,d):i?i(d):Q.createElement(kB,{toast:d,position:f}))}))},qB=Sn;class rc extends Error{}class RB extends rc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class AB extends rc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class jB extends rc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Yc extends rc{}class aA extends rc{constructor(e){super(`Invalid unit ${e}`)}}class ui extends rc{}class ul extends rc{constructor(){super("Zone is an abstract class")}}const Ct="numeric",xo="short",ds="long",Iy={year:Ct,month:Ct,day:Ct},lA={year:Ct,month:xo,day:Ct},PB={year:Ct,month:xo,day:Ct,weekday:xo},uA={year:Ct,month:ds,day:Ct},cA={year:Ct,month:ds,day:Ct,weekday:ds},dA={hour:Ct,minute:Ct},fA={hour:Ct,minute:Ct,second:Ct},hA={hour:Ct,minute:Ct,second:Ct,timeZoneName:xo},pA={hour:Ct,minute:Ct,second:Ct,timeZoneName:ds},mA={hour:Ct,minute:Ct,hourCycle:"h23"},gA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23"},yA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:xo},vA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:ds},bA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct},xA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct,second:Ct},wA={year:Ct,month:xo,day:Ct,hour:Ct,minute:Ct},_A={year:Ct,month:xo,day:Ct,hour:Ct,minute:Ct,second:Ct},FB={year:Ct,month:xo,day:Ct,weekday:xo,hour:Ct,minute:Ct},SA={year:Ct,month:ds,day:Ct,hour:Ct,minute:Ct,timeZoneName:xo},EA={year:Ct,month:ds,day:Ct,hour:Ct,minute:Ct,second:Ct,timeZoneName:xo},NA={year:Ct,month:ds,day:Ct,weekday:ds,hour:Ct,minute:Ct,timeZoneName:ds},kA={year:Ct,month:ds,day:Ct,weekday:ds,hour:Ct,minute:Ct,second:Ct,timeZoneName:ds};class Rp{get type(){throw new ul}get name(){throw new ul}get ianaName(){return this.name}get isUniversal(){throw new ul}offsetName(e,n){throw new ul}formatOffset(e,n){throw new ul}offset(e){throw new ul}equals(e){throw new ul}get isValid(){throw new ul}}let Nw=null;class Pv extends Rp{static get instance(){return Nw===null&&(Nw=new Pv),Nw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return PA(e,n,r)}formatOffset(e,n){return Th(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Hg={};function DB(t){return Hg[t]||(Hg[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Hg[t]}const LB={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function MB(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,l,c,d,f]=r;return[o,i,s,l,c,d,f]}function $B(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=LB[s];s==="era"?r[l]=o:ln(l)||(r[l]=parseInt(o,10))}return r}let fg={};class Pa extends Rp{static create(e){return fg[e]||(fg[e]=new Pa(e)),fg[e]}static resetCache(){fg={},Hg={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Pa.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return PA(e,n,r,this.name)}formatOffset(e,n){return Th(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=DB(this.name);let[i,s,o,l,c,d,f]=r.formatToParts?$B(r,n):MB(r,n);l==="BC"&&(i=-Math.abs(i)+1);const b=Dv({year:i,month:s,day:o,hour:c===24?0:c,minute:d,second:f,millisecond:0});let x=+n;const _=x%1e3;return x-=_>=0?_:1e3+_,(b-x)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let eC={};function BB(t,e={}){const n=JSON.stringify([t,e]);let r=eC[n];return r||(r=new Intl.ListFormat(t,e),eC[n]=r),r}let gS={};function yS(t,e={}){const n=JSON.stringify([t,e]);let r=gS[n];return r||(r=new Intl.DateTimeFormat(t,e),gS[n]=r),r}let vS={};function zB(t,e={}){const n=JSON.stringify([t,e]);let r=vS[n];return r||(r=new Intl.NumberFormat(t,e),vS[n]=r),r}let bS={};function WB(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=bS[i];return s||(s=new Intl.RelativeTimeFormat(t,e),bS[i]=s),s}let ph=null;function UB(){return ph||(ph=new Intl.DateTimeFormat().resolvedOptions().locale,ph)}let tC={};function VB(t){let e=tC[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,tC[t]=e}return e}function HB(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=yS(t).resolvedOptions(),i=t}catch{const c=t.substring(0,n);r=yS(c).resolvedOptions(),i=c}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function QB(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function KB(t){const e=[];for(let n=1;n<=12;n++){const r=an.utc(2009,n,1);e.push(t(r))}return e}function GB(t){const e=[];for(let n=1;n<=7;n++){const r=an.utc(2016,11,13+n);e.push(t(r))}return e}function hg(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function ZB(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class JB{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=zB(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):BE(e,3);return Rr(n,this.padTo)}}}class YB{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Pa.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=yS(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class XB{constructor(e,n,r){this.opts={style:"long",...r},!n&&AA()&&(this.rtf=WB(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):_z(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const ez={firstDay:1,minimalDays:4,weekend:[6,7]};class Dn{static fromOpts(e){return Dn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const o=e||xr.defaultLocale,l=o||(s?"en-US":UB()),c=n||xr.defaultNumberingSystem,d=r||xr.defaultOutputCalendar,f=xS(i)||xr.defaultWeekSettings;return new Dn(l,c,d,f,o)}static resetCache(){ph=null,gS={},vS={},bS={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Dn.create(e,n,r,i)}constructor(e,n,r,i,s){const[o,l,c]=HB(e);this.locale=o,this.numberingSystem=n||l||null,this.outputCalendar=r||c||null,this.weekSettings=i,this.intl=QB(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ZB(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Dn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,xS(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return hg(this,e,LA,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=KB(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return hg(this,e,BA,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=GB(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return hg(this,void 0,()=>zA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[an.utc(2016,11,13,9),an.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return hg(this,e,WA,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[an.utc(-40,1,1),an.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new JB(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new YB(e,this.intl,n)}relFormatter(e={}){return new XB(this.intl,this.isEnglish(),e)}listFormatter(e={}){return BB(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:jA()?VB(this.locale):ez}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let kw=null;class ki extends Rp{static get utcInstance(){return kw===null&&(kw=new ki(0)),kw}static instance(e){return e===0?ki.utcInstance:new ki(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ki(Lv(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Th(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Th(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Th(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class tz extends Rp{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function _l(t,e){if(ln(t)||t===null)return e;if(t instanceof Rp)return t;if(az(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Pv.instance:n==="utc"||n==="gmt"?ki.utcInstance:ki.parseSpecifier(n)||Pa.create(t)}else return ql(t)?ki.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new tz(t)}const DE={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},nC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},nz=DE.hanidec.replace(/[\[|\]]/g,"").split("");function rz(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(DE.hanidec)!==-1)e+=nz.indexOf(t[n]);else for(const i in nC){const[s,o]=nC[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}let Kc={};function iz(){Kc={}}function so({numberingSystem:t},e=""){const n=t||"latn";return Kc[n]||(Kc[n]={}),Kc[n][e]||(Kc[n][e]=new RegExp(`${DE[n]}${e}`)),Kc[n][e]}let rC=()=>Date.now(),iC="system",sC=null,oC=null,aC=null,lC=60,uC,cC=null;class xr{static get now(){return rC}static set now(e){rC=e}static set defaultZone(e){iC=e}static get defaultZone(){return _l(iC,Pv.instance)}static get defaultLocale(){return sC}static set defaultLocale(e){sC=e}static get defaultNumberingSystem(){return oC}static set defaultNumberingSystem(e){oC=e}static get defaultOutputCalendar(){return aC}static set defaultOutputCalendar(e){aC=e}static get defaultWeekSettings(){return cC}static set defaultWeekSettings(e){cC=xS(e)}static get twoDigitCutoffYear(){return lC}static set twoDigitCutoffYear(e){lC=e%100}static get throwOnInvalid(){return uC}static set throwOnInvalid(e){uC=e}static resetCaches(){Dn.resetCache(),Pa.resetCache(),an.resetCache(),iz()}}class mo{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const IA=[0,31,59,90,120,151,181,212,243,273,304,334],CA=[0,31,60,91,121,152,182,213,244,274,305,335];function Ls(t,e){return new mo("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function LE(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function OA(t,e,n){return n+(Ap(t)?CA:IA)[e-1]}function TA(t,e){const n=Ap(t)?CA:IA,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function ME(t,e){return(t-e+7)%7+1}function Cy(t,e=4,n=1){const{year:r,month:i,day:s}=t,o=OA(r,i,s),l=ME(LE(r,i,s),n);let c=Math.floor((o-l+14-e)/7),d;return c<1?(d=r-1,c=Vh(d,e,n)):c>Vh(r,e,n)?(d=r+1,c=1):d=r,{weekYear:d,weekNumber:c,weekday:l,...Mv(t)}}function dC(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,o=ME(LE(r,1,e),n),l=cd(r);let c=i*7+s-o-7+e,d;c<1?(d=r-1,c+=cd(d)):c>l?(d=r+1,c-=cd(r)):d=r;const{month:f,day:h}=TA(d,c);return{year:d,month:f,day:h,...Mv(t)}}function Iw(t){const{year:e,month:n,day:r}=t,i=OA(e,n,r);return{year:e,ordinal:i,...Mv(t)}}function fC(t){const{year:e,ordinal:n}=t,{month:r,day:i}=TA(e,n);return{year:e,month:r,day:i,...Mv(t)}}function hC(t,e){if(!ln(t.localWeekday)||!ln(t.localWeekNumber)||!ln(t.localWeekYear)){if(!ln(t.weekday)||!ln(t.weekNumber)||!ln(t.weekYear))throw new Yc("Cannot mix locale-based week fields with ISO-based week fields");return ln(t.localWeekday)||(t.weekday=t.localWeekday),ln(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ln(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function sz(t,e=4,n=1){const r=Fv(t.weekYear),i=Ms(t.weekNumber,1,Vh(t.weekYear,e,n)),s=Ms(t.weekday,1,7);return r?i?s?!1:Ls("weekday",t.weekday):Ls("week",t.weekNumber):Ls("weekYear",t.weekYear)}function oz(t){const e=Fv(t.year),n=Ms(t.ordinal,1,cd(t.year));return e?n?!1:Ls("ordinal",t.ordinal):Ls("year",t.year)}function qA(t){const e=Fv(t.year),n=Ms(t.month,1,12),r=Ms(t.day,1,Oy(t.year,t.month));return e?n?r?!1:Ls("day",t.day):Ls("month",t.month):Ls("year",t.year)}function RA(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=Ms(e,0,23)||e===24&&n===0&&r===0&&i===0,o=Ms(n,0,59),l=Ms(r,0,59),c=Ms(i,0,999);return s?o?l?c?!1:Ls("millisecond",i):Ls("second",r):Ls("minute",n):Ls("hour",e)}function ln(t){return typeof t>"u"}function ql(t){return typeof t=="number"}function Fv(t){return typeof t=="number"&&t%1===0}function az(t){return typeof t=="string"}function lz(t){return Object.prototype.toString.call(t)==="[object Date]"}function AA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function jA(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function uz(t){return Array.isArray(t)?t:[t]}function pC(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function cz(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Id(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xS(t){if(t==null)return null;if(typeof t!="object")throw new ui("Week settings must be an object");if(!Ms(t.firstDay,1,7)||!Ms(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Ms(e,1,7)))throw new ui("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ms(t,e,n){return Fv(t)&&t>=e&&t<=n}function dz(t,e){return t-e*Math.floor(t/e)}function Rr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function vl(t){if(!(ln(t)||t===null||t===""))return parseInt(t,10)}function xu(t){if(!(ln(t)||t===null||t===""))return parseFloat(t)}function $E(t){if(!(ln(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function BE(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Ap(t){return t%4===0&&(t%100!==0||t%400===0)}function cd(t){return Ap(t)?366:365}function Oy(t,e){const n=dz(e-1,12)+1,r=t+(e-n)/12;return n===2?Ap(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Dv(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function mC(t,e,n){return-ME(LE(t,1,e),n)+e-1}function Vh(t,e=4,n=1){const r=mC(t,e,n),i=mC(t+1,e,n);return(cd(t)-r+i)/7}function wS(t){return t>99?t:t>xr.twoDigitCutoffYear?1900+t:2e3+t}function PA(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function Lv(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function FA(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new ui(`Invalid unit value ${t}`);return e}function Ty(t,e){const n={};for(const r in t)if(Id(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=FA(i)}return n}function Th(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Rr(n,2)}:${Rr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Rr(n,2)}${Rr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Mv(t){return cz(t,["hour","minute","second","millisecond"])}const fz=["January","February","March","April","May","June","July","August","September","October","November","December"],DA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],hz=["J","F","M","A","M","J","J","A","S","O","N","D"];function LA(t){switch(t){case"narrow":return[...hz];case"short":return[...DA];case"long":return[...fz];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const MA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],$A=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],pz=["M","T","W","T","F","S","S"];function BA(t){switch(t){case"narrow":return[...pz];case"short":return[...$A];case"long":return[...MA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const zA=["AM","PM"],mz=["Before Christ","Anno Domini"],gz=["BC","AD"],yz=["B","A"];function WA(t){switch(t){case"narrow":return[...yz];case"short":return[...gz];case"long":return[...mz];default:return null}}function vz(t){return zA[t.hour<12?0:1]}function bz(t,e){return BA(e)[t.weekday-1]}function xz(t,e){return LA(e)[t.month-1]}function wz(t,e){return WA(e)[t.year<0?0:1]}function _z(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${i[t][0]}`;case-1:return h?"yesterday":`last ${i[t][0]}`;case 0:return h?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),c=l===1,d=i[t],f=r?c?d[1]:d[2]||d[1]:c?i[t][0]:t;return o?`${l} ${f} ago`:`in ${l} ${f}`}function gC(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const Sz={D:Iy,DD:lA,DDD:uA,DDDD:cA,t:dA,tt:fA,ttt:hA,tttt:pA,T:mA,TT:gA,TTT:yA,TTTT:vA,f:bA,ff:wA,fff:SA,ffff:NA,F:xA,FF:_A,FFF:EA,FFFF:kA};class di{static create(e,n={}){return new di(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return Sz[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Rr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(x,_)=>this.loc.extract(e,x,_),o=x=>e.isOffsetFixed&&e.offset===0&&x.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,x.format):"",l=()=>r?vz(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(x,_)=>r?xz(e,x):s(_?{month:x}:{month:x,day:"numeric"},"month"),d=(x,_)=>r?bz(e,x):s(_?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),f=x=>{const _=di.macroTokenToFormatOpts(x);return _?this.formatWithSystemDefault(e,_):x},h=x=>r?wz(e,x):s({era:x},"era"),b=x=>{switch(x){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(x)}};return gC(di.parseFormat(n),b)}formatDurationFromString(e,n){const r=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=c=>d=>{const f=r(d);return f?this.num(c.get(f),d.length):d},s=di.parseFormat(n),o=s.reduce((c,{literal:d,val:f})=>d?c:c.concat(f),[]),l=e.shiftTo(...o.map(r).filter(c=>c));return gC(s,i(l))}}const UA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Hd(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Qd(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,c]=s(e,i);return[{...n,...o},l||r,c]},[{},null,1]).slice(0,2)}function Kd(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function VA(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=vl(e[n+i]);return[r,null,n+i]}}const HA=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ez=`(?:${HA.source}?(?:\\[(${UA.source})\\])?)?`,zE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,QA=RegExp(`${zE.source}${Ez}`),WE=RegExp(`(?:T${QA.source})?`),Nz=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,kz=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Iz=/(\d{4})-?(\d{3})/,Cz=VA("weekYear","weekNumber","weekDay"),Oz=VA("year","ordinal"),Tz=/(\d{4})-(\d\d)-(\d\d)/,KA=RegExp(`${zE.source} ?(?:${HA.source}|(${UA.source}))?`),qz=RegExp(`(?: ${KA.source})?`);function dd(t,e,n){const r=t[e];return ln(r)?n:vl(r)}function Rz(t,e){return[{year:dd(t,e),month:dd(t,e+1,1),day:dd(t,e+2,1)},null,e+3]}function Gd(t,e){return[{hours:dd(t,e,0),minutes:dd(t,e+1,0),seconds:dd(t,e+2,0),milliseconds:$E(t[e+3])},null,e+4]}function jp(t,e){const n=!t[e]&&!t[e+1],r=Lv(t[e+1],t[e+2]),i=n?null:ki.instance(r);return[{},i,e+3]}function Pp(t,e){const n=t[e]?Pa.create(t[e]):null;return[{},n,e+1]}const Az=RegExp(`^T?${zE.source}$`),jz=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Pz(t){const[e,n,r,i,s,o,l,c,d]=t,f=e[0]==="-",h=c&&c[0]==="-",b=(x,_=!1)=>x!==void 0&&(_||x&&f)?-x:x;return[{years:b(xu(n)),months:b(xu(r)),weeks:b(xu(i)),days:b(xu(s)),hours:b(xu(o)),minutes:b(xu(l)),seconds:b(xu(c),c==="-0"),milliseconds:b($E(d),h)}]}const Fz={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function UE(t,e,n,r,i,s,o){const l={year:e.length===2?wS(vl(e)):vl(e),month:DA.indexOf(n)+1,day:vl(r),hour:vl(i),minute:vl(s)};return o&&(l.second=vl(o)),t&&(l.weekday=t.length>3?MA.indexOf(t)+1:$A.indexOf(t)+1),l}const Dz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Lz(t){const[,e,n,r,i,s,o,l,c,d,f,h]=t,b=UE(e,i,r,n,s,o,l);let x;return c?x=Fz[c]:d?x=0:x=Lv(f,h),[b,new ki(x)]}function Mz(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const $z=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Bz=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,zz=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function yC(t){const[,e,n,r,i,s,o,l]=t;return[UE(e,i,r,n,s,o,l),ki.utcInstance]}function Wz(t){const[,e,n,r,i,s,o,l]=t;return[UE(e,l,n,r,i,s,o),ki.utcInstance]}const Uz=Hd(Nz,WE),Vz=Hd(kz,WE),Hz=Hd(Iz,WE),Qz=Hd(QA),GA=Qd(Rz,Gd,jp,Pp),Kz=Qd(Cz,Gd,jp,Pp),Gz=Qd(Oz,Gd,jp,Pp),Zz=Qd(Gd,jp,Pp);function Jz(t){return Kd(t,[Uz,GA],[Vz,Kz],[Hz,Gz],[Qz,Zz])}function Yz(t){return Kd(Mz(t),[Dz,Lz])}function Xz(t){return Kd(t,[$z,yC],[Bz,yC],[zz,Wz])}function eW(t){return Kd(t,[jz,Pz])}const tW=Qd(Gd);function nW(t){return Kd(t,[Az,tW])}const rW=Hd(Tz,qz),iW=Hd(KA),sW=Qd(Gd,jp,Pp);function oW(t){return Kd(t,[rW,GA],[iW,sW])}const vC="Invalid Duration",ZA={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},aW={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...ZA},qs=146097/400,Mc=146097/4800,lW={years:{quarters:4,months:12,weeks:qs/7,days:qs,hours:qs*24,minutes:qs*24*60,seconds:qs*24*60*60,milliseconds:qs*24*60*60*1e3},quarters:{months:3,weeks:qs/28,days:qs/4,hours:qs*24/4,minutes:qs*24*60/4,seconds:qs*24*60*60/4,milliseconds:qs*24*60*60*1e3/4},months:{weeks:Mc/7,days:Mc,hours:Mc*24,minutes:Mc*24*60,seconds:Mc*24*60*60,milliseconds:Mc*24*60*60*1e3},...ZA},Au=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],uW=Au.slice(0).reverse();function cl(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new In(r)}function JA(t,e){let n=e.milliseconds??0;for(const r of uW.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function bC(t,e){const n=JA(t,e)<0?-1:1;Au.reduceRight((r,i)=>{if(ln(e[i]))return r;if(r){const s=e[r]*n,o=t[i][r],l=Math.floor(s/o);e[i]+=l*n,e[r]-=l*o*n}return i},null),Au.reduce((r,i)=>{if(ln(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function cW(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class In{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?lW:aW;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Dn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return In.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new ui(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new In({values:Ty(e,In.normalizeUnit),loc:Dn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(ql(e))return In.fromMillis(e);if(In.isDuration(e))return e;if(typeof e=="object")return In.fromObject(e);throw new ui(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=eW(e);return r?In.fromObject(r,n):In.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=nW(e);return r?In.fromObject(r,n):In.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new ui("need to specify a reason the Duration is invalid");const r=e instanceof mo?e:new mo(e,n);if(xr.throwOnInvalid)throw new jB(r);return new In({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new aA(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?di.create(this.loc,r).formatDurationFromString(this,e):vC}toHuman(e={}){if(!this.isValid)return vC;const n=Au.map(r=>{const i=this.values[r];return ln(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=BE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},an.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?JA(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=In.fromDurationLike(e),r={};for(const i of Au)(Id(n.values,i)||Id(this.values,i))&&(r[i]=n.get(i)+this.get(i));return cl(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=In.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=FA(e(this.values[r],r));return cl(this,{values:n},!0)}get(e){return this[In.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Ty(e,In.normalizeUnit)};return cl(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return cl(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return bC(this.matrix,e),cl(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=cW(this.normalize().shiftToAll().toObject());return cl(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>In.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Au)if(e.indexOf(o)>=0){s=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;ql(i[o])&&(l+=i[o]);const c=Math.trunc(l);n[o]=c,r[o]=(l*1e3-c*1e3)/1e3}else ql(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return bC(this.matrix,n),cl(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return cl(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Au)if(!n(this.values[r],e.values[r]))return!1;return!0}}const $c="Invalid Interval";function dW(t,e){return!t||!t.isValid?br.invalid("missing or invalid start"):!e||!e.isValid?br.invalid("missing or invalid end"):e<t?br.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class br{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new ui("need to specify a reason the Interval is invalid");const r=e instanceof mo?e:new mo(e,n);if(xr.throwOnInvalid)throw new AB(r);return new br({invalid:r})}static fromDateTimes(e,n){const r=Yf(e),i=Yf(n),s=dW(r,i);return s??new br({start:r,end:i})}static after(e,n){const r=In.fromDurationLike(n),i=Yf(e);return br.fromDateTimes(i,i.plus(r))}static before(e,n){const r=In.fromDurationLike(n),i=Yf(e);return br.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=an.fromISO(r,n),o=s.isValid}catch{o=!1}let l,c;try{l=an.fromISO(i,n),c=l.isValid}catch{c=!1}if(o&&c)return br.fromDateTimes(s,l);if(o){const d=In.fromISO(i,n);if(d.isValid)return br.after(s,d)}else if(c){const d=In.fromISO(r,n);if(d.isValid)return br.before(l,d)}}return br.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?br.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Yf).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(br.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=In.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(c=>c*i));s=+l>+this.e?this.e:l,o.push(br.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:br.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return br.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((c,d)=>c.time-d.time);for(const c of l)r+=c.type==="s"?1:-1,r===1?n=c.time:(n&&+n!=+c.time&&i.push(br.fromDateTimes(n,c.time)),n=null);return br.merge(i)}difference(...e){return br.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:$c}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Iy,n={}){return this.isValid?di.create(this.s.loc.clone(n),e).formatInterval(this):$c}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:$c}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:$c}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:$c}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:$c}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):In.invalid(this.invalidReason)}mapEndpoints(e){return br.fromDateTimes(e(this.s),e(this.e))}}class pg{static hasDST(e=xr.defaultZone){const n=an.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Pa.isValidZone(e)}static normalizeZone(e){return _l(e,xr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Dn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Dn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Dn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Dn.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Dn.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Dn.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Dn.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Dn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Dn.create(n,null,"gregory").eras(e)}static features(){return{relative:AA(),localeWeek:jA()}}}function xC(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(In.fromMillis(r).as("days"))}function fW(t,e,n){const r=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const f=xC(c,d);return(f-f%7)/7}],["days",xC]],i={},s=t;let o,l;for(const[c,d]of r)n.indexOf(c)>=0&&(o=c,i[c]=d(t,e),l=s.plus(i),l>e?(i[c]--,t=s.plus(i),t>e&&(l=t,i[c]--,t=s.plus(i))):t=l);return[t,i,l,o]}function hW(t,e,n,r){let[i,s,o,l]=fW(t,e,n);const c=e-i,d=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);d.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+c/(o-i)));const f=In.fromObject(s,r);return d.length>0?In.fromMillis(c,r).shiftTo(...d).plus(f):f}const pW="missing Intl.DateTimeFormat.formatToParts support";function Rn(t,e=n=>n){return{regex:t,deser:([n])=>e(rz(n))}}const mW="\xa0",YA=`[ ${mW}]`,XA=new RegExp(YA,"g");function gW(t){return t.replace(/\./g,"\\.?").replace(XA,YA)}function wC(t){return t.replace(/\./g,"").replace(XA," ").toLowerCase()}function oo(t,e){return t===null?null:{regex:RegExp(t.map(gW).join("|")),deser:([n])=>t.findIndex(r=>wC(n)===wC(r))+e}}function _C(t,e){return{regex:t,deser:([,n,r])=>Lv(n,r),groups:e}}function mg(t){return{regex:t,deser:([e])=>e}}function yW(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function vW(t,e){const n=so(e),r=so(e,"{2}"),i=so(e,"{3}"),s=so(e,"{4}"),o=so(e,"{6}"),l=so(e,"{1,2}"),c=so(e,"{1,3}"),d=so(e,"{1,6}"),f=so(e,"{1,9}"),h=so(e,"{2,4}"),b=so(e,"{4,6}"),x=I=>({regex:RegExp(yW(I.val)),deser:([T])=>T,literal:!0}),N=(I=>{if(t.literal)return x(I);switch(I.val){case"G":return oo(e.eras("short"),0);case"GG":return oo(e.eras("long"),0);case"y":return Rn(d);case"yy":return Rn(h,wS);case"yyyy":return Rn(s);case"yyyyy":return Rn(b);case"yyyyyy":return Rn(o);case"M":return Rn(l);case"MM":return Rn(r);case"MMM":return oo(e.months("short",!0),1);case"MMMM":return oo(e.months("long",!0),1);case"L":return Rn(l);case"LL":return Rn(r);case"LLL":return oo(e.months("short",!1),1);case"LLLL":return oo(e.months("long",!1),1);case"d":return Rn(l);case"dd":return Rn(r);case"o":return Rn(c);case"ooo":return Rn(i);case"HH":return Rn(r);case"H":return Rn(l);case"hh":return Rn(r);case"h":return Rn(l);case"mm":return Rn(r);case"m":return Rn(l);case"q":return Rn(l);case"qq":return Rn(r);case"s":return Rn(l);case"ss":return Rn(r);case"S":return Rn(c);case"SSS":return Rn(i);case"u":return mg(f);case"uu":return mg(l);case"uuu":return Rn(n);case"a":return oo(e.meridiems(),0);case"kkkk":return Rn(s);case"kk":return Rn(h,wS);case"W":return Rn(l);case"WW":return Rn(r);case"E":case"c":return Rn(n);case"EEE":return oo(e.weekdays("short",!1),1);case"EEEE":return oo(e.weekdays("long",!1),1);case"ccc":return oo(e.weekdays("short",!0),1);case"cccc":return oo(e.weekdays("long",!0),1);case"Z":case"ZZ":return _C(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return _C(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return mg(/[a-z_+-/]{1,256}?/i);case" ":return mg(/[^\S\n\r]/);default:return x(I)}})(t)||{invalidReason:pW};return N.token=t,N}const bW={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function xW(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const c=/^\s+$/.test(i);return{literal:!c,val:c?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let l=bW[o];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function wW(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function _W(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(Id(n,o)){const l=n[o],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+c))),s+=c}return[r,i]}else return[r,{}]}function SW(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ln(t.z)||(n=Pa.create(t.z)),ln(t.Z)||(n||(n=new ki(t.Z)),r=t.Z),ln(t.q)||(t.M=(t.q-1)*3+1),ln(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ln(t.u)||(t.S=$E(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let Cw=null;function EW(){return Cw||(Cw=an.fromMillis(0x16a2e5618e3)),Cw}function NW(t,e){if(t.literal)return t;const n=di.macroTokenToFormatOpts(t.val),r=rj(n,e);return r==null||r.includes(void 0)?t:r}function ej(t,e){return Array.prototype.concat(...t.map(n=>NW(n,e)))}class tj{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=ej(di.parseFormat(n),e),this.units=this.tokens.map(r=>vW(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=wW(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=_W(e,this.regex,this.handlers),[i,s,o]=r?SW(r):[null,null,void 0];if(Id(r,"a")&&Id(r,"H"))throw new Yc("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function nj(t,e,n){return new tj(t,n).explainFromTokens(e)}function kW(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=nj(t,e,n);return[r,i,s,o]}function rj(t,e){if(!t)return null;const r=di.create(e,t).dtFormatter(EW()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>xW(o,t,s))}const Ow="Invalid DateTime",IW=864e13;function mh(t){return new mo("unsupported zone",`the zone "${t.name}" is not supported`)}function Tw(t){return t.weekData===null&&(t.weekData=Cy(t.c)),t.weekData}function qw(t){return t.localWeekData===null&&(t.localWeekData=Cy(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function wu(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new an({...n,...e,old:n})}function ij(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function gg(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Qg(t,e,n){return ij(Dv(t),e,n)}function SC(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,Oy(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=In.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=Dv(s);let[c,d]=ij(l,n,t.zone);return o!==0&&(c+=o,d=t.zone.offset(c)),{ts:c,o:d}}function Bc(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const c=e||l,d=an.fromObject(t,{...n,zone:c,specificOffset:s});return o?d:d.setZone(l)}else return an.invalid(new mo("unparsable",`the input "${i}" can't be parsed as ${r}`))}function yg(t,e,n=!0){return t.isValid?di.create(Dn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Rw(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Rr(t.c.year,n?6:4),e?(r+="-",r+=Rr(t.c.month),r+="-",r+=Rr(t.c.day)):(r+=Rr(t.c.month),r+=Rr(t.c.day)),r}function EC(t,e,n,r,i,s){let o=Rr(t.c.hour);return e?(o+=":",o+=Rr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Rr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Rr(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=Rr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Rr(Math.trunc(-t.o/60)),o+=":",o+=Rr(Math.trunc(-t.o%60))):(o+="+",o+=Rr(Math.trunc(t.o/60)),o+=":",o+=Rr(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const sj={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},CW={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},OW={ordinal:1,hour:0,minute:0,second:0,millisecond:0},oj=["year","month","day","hour","minute","second","millisecond"],TW=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],qW=["year","ordinal","hour","minute","second","millisecond"];function RW(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new aA(t);return e}function NC(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return RW(t)}}function AW(t){return Gg[t]||(Kg===void 0&&(Kg=xr.now()),Gg[t]=t.offset(Kg)),Gg[t]}function kC(t,e){const n=_l(e.zone,xr.defaultZone);if(!n.isValid)return an.invalid(mh(n));const r=Dn.fromObject(e);let i,s;if(ln(t.year))i=xr.now();else{for(const c of oj)ln(t[c])&&(t[c]=sj[c]);const o=qA(t)||RA(t);if(o)return an.invalid(o);const l=AW(n);[i,s]=Qg(t,l,n)}return new an({ts:i,zone:n,loc:r,o:s})}function IC(t,e,n){const r=ln(n.round)?!0:n.round,i=(o,l)=>(o=BE(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function CC(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let Kg,Gg={};class an{constructor(e){const n=e.zone||xr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new mo("invalid input"):null)||(n.isValid?null:mh(n));this.ts=ln(e.ts)?xr.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=ql(e.o)&&!e.old?e.o:n.offset(this.ts);i=gg(this.ts,l),r=Number.isNaN(i.year)?new mo("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||Dn.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new an({})}static local(){const[e,n]=CC(arguments),[r,i,s,o,l,c,d]=n;return kC({year:r,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},e)}static utc(){const[e,n]=CC(arguments),[r,i,s,o,l,c,d]=n;return e.zone=ki.utcInstance,kC({year:r,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},e)}static fromJSDate(e,n={}){const r=lz(e)?e.valueOf():NaN;if(Number.isNaN(r))return an.invalid("invalid input");const i=_l(n.zone,xr.defaultZone);return i.isValid?new an({ts:r,zone:i,loc:Dn.fromObject(n)}):an.invalid(mh(i))}static fromMillis(e,n={}){if(ql(e))return e<-864e13||e>IW?an.invalid("Timestamp out of range"):new an({ts:e,zone:_l(n.zone,xr.defaultZone),loc:Dn.fromObject(n)});throw new ui(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ql(e))return new an({ts:e*1e3,zone:_l(n.zone,xr.defaultZone),loc:Dn.fromObject(n)});throw new ui("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=_l(n.zone,xr.defaultZone);if(!r.isValid)return an.invalid(mh(r));const i=Dn.fromObject(n),s=Ty(e,NC),{minDaysInFirstWeek:o,startOfWeek:l}=hC(s,i),c=xr.now(),d=ln(n.specificOffset)?r.offset(c):n.specificOffset,f=!ln(s.ordinal),h=!ln(s.year),b=!ln(s.month)||!ln(s.day),x=h||b,_=s.weekYear||s.weekNumber;if((x||f)&&_)throw new Yc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&f)throw new Yc("Can't mix ordinal dates with month/day");const N=_||s.weekday&&!x;let I,T,O=gg(c,d);N?(I=TW,T=CW,O=Cy(O,o,l)):f?(I=qW,T=OW,O=Iw(O)):(I=oj,T=sj);let q=!1;for(const B of I){const F=s[B];ln(F)?q?s[B]=T[B]:s[B]=O[B]:q=!0}const j=N?sz(s,o,l):f?oz(s):qA(s),D=j||RA(s);if(D)return an.invalid(D);const L=N?dC(s,o,l):f?fC(s):s,[z,P]=Qg(L,d,r),R=new an({ts:z,zone:r,o:P,loc:i});return s.weekday&&x&&e.weekday!==R.weekday?an.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${R.toISO()}`):R.isValid?R:an.invalid(R.invalid)}static fromISO(e,n={}){const[r,i]=Jz(e);return Bc(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=Yz(e);return Bc(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=Xz(e);return Bc(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ln(e)||ln(n))throw new ui("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=Dn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,c,d,f]=kW(o,e,n);return f?an.invalid(f):Bc(l,c,r,`format ${n}`,e,d)}static fromString(e,n,r={}){return an.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=oW(e);return Bc(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new ui("need to specify a reason the DateTime is invalid");const r=e instanceof mo?e:new mo(e,n);if(xr.throwOnInvalid)throw new RB(r);return new an({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=rj(e,Dn.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return ej(di.parseFormat(e),Dn.fromObject(n)).map(i=>i.val).join("")}static resetCache(){Kg=void 0,Gg={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Tw(this).weekYear:NaN}get weekNumber(){return this.isValid?Tw(this).weekNumber:NaN}get weekday(){return this.isValid?Tw(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?qw(this).weekday:NaN}get localWeekNumber(){return this.isValid?qw(this).weekNumber:NaN}get localWeekYear(){return this.isValid?qw(this).weekYear:NaN}get ordinal(){return this.isValid?Iw(this.c).ordinal:NaN}get monthShort(){return this.isValid?pg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?pg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?pg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?pg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=Dv(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),l=this.zone.offset(r-s*n);if(o===l)return[this];const c=r-o*n,d=r-l*n,f=gg(c,o),h=gg(d,l);return f.hour===h.hour&&f.minute===h.minute&&f.second===h.second&&f.millisecond===h.millisecond?[wu(this,{ts:c}),wu(this,{ts:d})]:[this]}get isInLeapYear(){return Ap(this.year)}get daysInMonth(){return Oy(this.year,this.month)}get daysInYear(){return this.isValid?cd(this.year):NaN}get weeksInWeekYear(){return this.isValid?Vh(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Vh(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=di.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(ki.instance(e),n)}toLocal(){return this.setZone(xr.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=_l(e,xr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=Qg(o,s,e)}return wu(this,{ts:i,zone:e})}else return an.invalid(mh(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return wu(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Ty(e,NC),{minDaysInFirstWeek:r,startOfWeek:i}=hC(n,this.loc),s=!ln(n.weekYear)||!ln(n.weekNumber)||!ln(n.weekday),o=!ln(n.ordinal),l=!ln(n.year),c=!ln(n.month)||!ln(n.day),d=l||c,f=n.weekYear||n.weekNumber;if((d||o)&&f)throw new Yc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new Yc("Can't mix ordinal dates with month/day");let h;s?h=dC({...Cy(this.c,r,i),...n},r,i):ln(n.ordinal)?(h={...this.toObject(),...n},ln(n.day)&&(h.day=Math.min(Oy(h.year,h.month),h.day))):h=fC({...Iw(this.c),...n});const[b,x]=Qg(h,this.o,this.zone);return wu(this,{ts:b,o:x})}plus(e){if(!this.isValid)return this;const n=In.fromDurationLike(e);return wu(this,SC(this,n))}minus(e){if(!this.isValid)return this;const n=In.fromDurationLike(e).negate();return wu(this,SC(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=In.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?di.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Ow}toLocaleString(e=Iy,n={}){return this.isValid?di.create(this.loc.clone(n),e).formatDateTime(this):Ow}toLocaleParts(e={}){return this.isValid?di.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=Rw(this,o);return l+="T",l+=EC(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?Rw(this,e==="extended"):null}toISOWeekDate(){return yg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+EC(this,o==="extended",n,e,r,s):null}toRFC2822(){return yg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return yg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Rw(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),yg(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Ow}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return In.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=uz(n).map(In.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,c=o?e:this,d=hW(l,c,s,i);return o?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(an.now(),e,n)}until(e){return this.isValid?br.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||an.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),IC(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?IC(e.base||an.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(an.isDateTime))throw new ui("min requires all arguments be DateTimes");return pC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(an.isDateTime))throw new ui("max requires all arguments be DateTimes");return pC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=Dn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return nj(o,e,n)}static fromStringExplain(e,n,r={}){return an.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=Dn.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new tj(s,e)}static fromFormatParser(e,n,r={}){if(ln(e)||ln(n))throw new ui("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=Dn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new ui(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:l,zone:c,specificOffset:d,invalidReason:f}=n.explainFromTokens(e);return f?an.invalid(f):Bc(l,c,r,`format ${n.format}`,e,d)}static get DATE_SHORT(){return Iy}static get DATE_MED(){return lA}static get DATE_MED_WITH_WEEKDAY(){return PB}static get DATE_FULL(){return uA}static get DATE_HUGE(){return cA}static get TIME_SIMPLE(){return dA}static get TIME_WITH_SECONDS(){return fA}static get TIME_WITH_SHORT_OFFSET(){return hA}static get TIME_WITH_LONG_OFFSET(){return pA}static get TIME_24_SIMPLE(){return mA}static get TIME_24_WITH_SECONDS(){return gA}static get TIME_24_WITH_SHORT_OFFSET(){return yA}static get TIME_24_WITH_LONG_OFFSET(){return vA}static get DATETIME_SHORT(){return bA}static get DATETIME_SHORT_WITH_SECONDS(){return xA}static get DATETIME_MED(){return wA}static get DATETIME_MED_WITH_SECONDS(){return _A}static get DATETIME_MED_WITH_WEEKDAY(){return FB}static get DATETIME_FULL(){return SA}static get DATETIME_FULL_WITH_SECONDS(){return EA}static get DATETIME_HUGE(){return NA}static get DATETIME_HUGE_WITH_SECONDS(){return kA}}function Yf(t){if(an.isDateTime(t))return t;if(t&&t.valueOf&&ql(t.valueOf()))return an.fromJSDate(t);if(t&&typeof t=="object")return an.fromObject(t);throw new ui(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function aj(t,e){return function(){return t.apply(e,arguments)}}const{toString:jW}=Object.prototype,{getPrototypeOf:VE}=Object,$v=(t=>e=>{const n=jW.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ko=t=>(t=t.toLowerCase(),e=>$v(e)===t),Bv=t=>e=>typeof e===t,{isArray:Zd}=Array,Hh=Bv("undefined");function PW(t){return t!==null&&!Hh(t)&&t.constructor!==null&&!Hh(t.constructor)&&fs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lj=ko("ArrayBuffer");function FW(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lj(t.buffer),e}const DW=Bv("string"),fs=Bv("function"),uj=Bv("number"),zv=t=>t!==null&&typeof t=="object",LW=t=>t===!0||t===!1,Zg=t=>{if($v(t)!=="object")return!1;const e=VE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},MW=ko("Date"),$W=ko("File"),BW=ko("Blob"),zW=ko("FileList"),WW=t=>zv(t)&&fs(t.pipe),UW=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fs(t.append)&&((e=$v(t))==="formdata"||e==="object"&&fs(t.toString)&&t.toString()==="[object FormData]"))},VW=ko("URLSearchParams"),[HW,QW,KW,GW]=["ReadableStream","Request","Response","Headers"].map(ko),ZW=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Zd(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function cj(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ju=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dj=t=>!Hh(t)&&t!==ju;function _S(){const{caseless:t}=dj(this)&&this||{},e={},n=(r,i)=>{const s=t&&cj(e,i)||i;Zg(e[s])&&Zg(r)?e[s]=_S(e[s],r):Zg(r)?e[s]=_S({},r):Zd(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Fp(arguments[r],n);return e}const JW=(t,e,n,{allOwnKeys:r}={})=>(Fp(e,(i,s)=>{n&&fs(i)?t[s]=aj(i,n):t[s]=i},{allOwnKeys:r}),t),YW=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),XW=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},e6=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&VE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},t6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},n6=t=>{if(!t)return null;if(Zd(t))return t;let e=t.length;if(!uj(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},r6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&VE(Uint8Array)),i6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},s6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},o6=ko("HTMLFormElement"),a6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),OC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),l6=ko("RegExp"),fj=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Fp(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},u6=t=>{fj(t,(e,n)=>{if(fs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(fs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},c6=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Zd(t)?r(t):r(String(t).split(e)),n},d6=()=>{},f6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Aw="abcdefghijklmnopqrstuvwxyz",TC="0123456789",hj={DIGIT:TC,ALPHA:Aw,ALPHA_DIGIT:Aw+Aw.toUpperCase()+TC},h6=(t=16,e=hj.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function p6(t){return!!(t&&fs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const m6=t=>{const e=new Array(10),n=(r,i)=>{if(zv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Zd(r)?[]:{};return Fp(r,(o,l)=>{const c=n(o,i+1);!Hh(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},g6=ko("AsyncFunction"),y6=t=>t&&(zv(t)||fs(t))&&fs(t.then)&&fs(t.catch),pj=((t,e)=>t?setImmediate:e?((n,r)=>(ju.addEventListener("message",({source:i,data:s})=>{i===ju&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ju.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",fs(ju.postMessage)),v6=typeof queueMicrotask<"u"?queueMicrotask.bind(ju):typeof process<"u"&&process.nextTick||pj,Ye={isArray:Zd,isArrayBuffer:lj,isBuffer:PW,isFormData:UW,isArrayBufferView:FW,isString:DW,isNumber:uj,isBoolean:LW,isObject:zv,isPlainObject:Zg,isReadableStream:HW,isRequest:QW,isResponse:KW,isHeaders:GW,isUndefined:Hh,isDate:MW,isFile:$W,isBlob:BW,isRegExp:l6,isFunction:fs,isStream:WW,isURLSearchParams:VW,isTypedArray:r6,isFileList:zW,forEach:Fp,merge:_S,extend:JW,trim:ZW,stripBOM:YW,inherits:XW,toFlatObject:e6,kindOf:$v,kindOfTest:ko,endsWith:t6,toArray:n6,forEachEntry:i6,matchAll:s6,isHTMLForm:o6,hasOwnProperty:OC,hasOwnProp:OC,reduceDescriptors:fj,freezeMethods:u6,toObjectSet:c6,toCamelCase:a6,noop:d6,toFiniteNumber:f6,findKey:cj,global:ju,isContextDefined:dj,ALPHABET:hj,generateString:h6,isSpecCompliantForm:p6,toJSONObject:m6,isAsyncFn:g6,isThenable:y6,setImmediate:pj,asap:v6};function hn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ye.inherits(hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const mj=hn.prototype,gj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gj[t]={value:t}});Object.defineProperties(hn,gj);Object.defineProperty(mj,"isAxiosError",{value:!0});hn.from=(t,e,n,r,i,s)=>{const o=Object.create(mj);return Ye.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),hn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const b6=null;function SS(t){return Ye.isPlainObject(t)||Ye.isArray(t)}function yj(t){return Ye.endsWith(t,"[]")?t.slice(0,-2):t}function qC(t,e,n){return t?t.concat(e).map(function(i,s){return i=yj(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function x6(t){return Ye.isArray(t)&&!t.some(SS)}const w6=Ye.toFlatObject(Ye,{},null,function(e){return/^is[A-Z]/.test(e)});function Wv(t,e,n){if(!Ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,I){return!Ye.isUndefined(I[N])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(e);if(!Ye.isFunction(i))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(Ye.isDate(_))return _.toISOString();if(!c&&Ye.isBlob(_))throw new hn("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(_)||Ye.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,N,I){let T=_;if(_&&!I&&typeof _=="object"){if(Ye.endsWith(N,"{}"))N=r?N:N.slice(0,-2),_=JSON.stringify(_);else if(Ye.isArray(_)&&x6(_)||(Ye.isFileList(_)||Ye.endsWith(N,"[]"))&&(T=Ye.toArray(_)))return N=yj(N),T.forEach(function(q,j){!(Ye.isUndefined(q)||q===null)&&e.append(o===!0?qC([N],j,s):o===null?N:N+"[]",d(q))}),!1}return SS(_)?!0:(e.append(qC(I,N,s),d(_)),!1)}const h=[],b=Object.assign(w6,{defaultVisitor:f,convertValue:d,isVisitable:SS});function x(_,N){if(!Ye.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+N.join("."));h.push(_),Ye.forEach(_,function(T,O){(!(Ye.isUndefined(T)||T===null)&&i.call(e,T,Ye.isString(O)?O.trim():O,N,b))===!0&&x(T,N?N.concat(O):[O])}),h.pop()}}if(!Ye.isObject(t))throw new TypeError("data must be an object");return x(t),e}function RC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function HE(t,e){this._pairs=[],t&&Wv(t,this,e)}const vj=HE.prototype;vj.append=function(e,n){this._pairs.push([e,n])};vj.toString=function(e){const n=e?function(r){return e.call(this,r,RC)}:RC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bj(t,e,n){if(!e)return t;const r=n&&n.encode||_6;Ye.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ye.isURLSearchParams(e)?e.toString():new HE(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class AC{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const xj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},S6=typeof URLSearchParams<"u"?URLSearchParams:HE,E6=typeof FormData<"u"?FormData:null,N6=typeof Blob<"u"?Blob:null,k6={isBrowser:!0,classes:{URLSearchParams:S6,FormData:E6,Blob:N6},protocols:["http","https","file","blob","url","data"]},QE=typeof window<"u"&&typeof document<"u",ES=typeof navigator=="object"&&navigator||void 0,I6=QE&&(!ES||["ReactNative","NativeScript","NS"].indexOf(ES.product)<0),C6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O6=QE&&window.location.href||"http://localhost",T6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:QE,hasStandardBrowserEnv:I6,hasStandardBrowserWebWorkerEnv:C6,navigator:ES,origin:O6},Symbol.toStringTag,{value:"Module"})),fi={...T6,...k6};function q6(t,e){return Wv(t,new fi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return fi.isNode&&Ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function R6(t){return Ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function A6(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function wj(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&Ye.isArray(i)?i.length:o,c?(Ye.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Ye.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ye.isArray(i[o])&&(i[o]=A6(i[o])),!l)}if(Ye.isFormData(t)&&Ye.isFunction(t.entries)){const n={};return Ye.forEachEntry(t,(r,i)=>{e(R6(r),i,n,0)}),n}return null}function j6(t,e,n){if(Ye.isString(t))try{return(e||JSON.parse)(t),Ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Dp={transitional:xj,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ye.isObject(e);if(s&&Ye.isHTMLForm(e)&&(e=new FormData(e)),Ye.isFormData(e))return i?JSON.stringify(wj(e)):e;if(Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e)||Ye.isReadableStream(e))return e;if(Ye.isArrayBufferView(e))return e.buffer;if(Ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return q6(e,this.formSerializer).toString();if((l=Ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wv(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),j6(e)):e}],transformResponse:[function(e){const n=this.transitional||Dp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ye.isResponse(e)||Ye.isReadableStream(e))return e;if(e&&Ye.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?hn.from(l,hn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fi.classes.FormData,Blob:fi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],t=>{Dp.headers[t]={}});const P6=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F6=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&P6[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jC=Symbol("internals");function Xf(t){return t&&String(t).trim().toLowerCase()}function Jg(t){return t===!1||t==null?t:Ye.isArray(t)?t.map(Jg):String(t)}function D6(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const L6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jw(t,e,n,r,i){if(Ye.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ye.isString(e)){if(Ye.isString(r))return e.indexOf(r)!==-1;if(Ye.isRegExp(r))return r.test(e)}}function M6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $6(t,e){const n=Ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Qi=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,d){const f=Xf(c);if(!f)throw new Error("header name must be a non-empty string");const h=Ye.findKey(i,f);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=Jg(l))}const o=(l,c)=>Ye.forEach(l,(d,f)=>s(d,f,c));if(Ye.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ye.isString(e)&&(e=e.trim())&&!L6(e))o(F6(e),n);else if(Ye.isHeaders(e))for(const[l,c]of e.entries())s(c,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Xf(e),e){const r=Ye.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return D6(i);if(Ye.isFunction(n))return n.call(this,i,r);if(Ye.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xf(e),e){const r=Ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||jw(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Xf(o),o){const l=Ye.findKey(r,o);l&&(!n||jw(r,r[l],l,n))&&(delete r[l],i=!0)}}return Ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||jw(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ye.forEach(this,(i,s)=>{const o=Ye.findKey(r,s);if(o){n[o]=Jg(i),delete n[s];return}const l=e?M6(s):String(s).trim();l!==s&&delete n[s],n[l]=Jg(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jC]=this[jC]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Xf(o);r[l]||($6(i,o),r[l]=!0)}return Ye.isArray(e)?e.forEach(s):s(e),this}};Qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(Qi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ye.freezeMethods(Qi);function Pw(t,e){const n=this||Dp,r=e||n,i=Qi.from(r.headers);let s=r.data;return Ye.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function _j(t){return!!(t&&t.__CANCEL__)}function Jd(t,e,n){hn.call(this,t??"canceled",hn.ERR_CANCELED,e,n),this.name="CanceledError"}Ye.inherits(Jd,hn,{__CANCEL__:!0});function Sj(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new hn("Request failed with status code "+n.status,[hn.ERR_BAD_REQUEST,hn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function B6(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function z6(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),n[i]=c,r[i]=d;let h=s,b=0;for(;h!==i;)b+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const x=f&&d-f;return x?Math.round(b*1e3/x):void 0}}function W6(t,e){let n=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const qy=(t,e,n=3)=>{let r=0;const i=z6(50,250);return W6(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},PC=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},FC=t=>(...e)=>Ye.asap(()=>t(...e)),U6=fi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,fi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(fi.origin),fi.navigator&&/(msie|trident)/i.test(fi.navigator.userAgent)):()=>!0,V6=fi.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ye.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ye.isString(r)&&o.push("path="+r),Ye.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function H6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Q6(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ej(t,e){return t&&!H6(e)?Q6(t,e):e}const DC=t=>t instanceof Qi?{...t}:t;function Vu(t,e){e=e||{};const n={};function r(d,f,h,b){return Ye.isPlainObject(d)&&Ye.isPlainObject(f)?Ye.merge.call({caseless:b},d,f):Ye.isPlainObject(f)?Ye.merge({},f):Ye.isArray(f)?f.slice():f}function i(d,f,h,b){if(Ye.isUndefined(f)){if(!Ye.isUndefined(d))return r(void 0,d,h,b)}else return r(d,f,h,b)}function s(d,f){if(!Ye.isUndefined(f))return r(void 0,f)}function o(d,f){if(Ye.isUndefined(f)){if(!Ye.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,h){if(h in e)return r(d,f);if(h in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>i(DC(d),DC(f),h,!0)};return Ye.forEach(Object.keys(Object.assign({},t,e)),function(f){const h=c[f]||i,b=h(t[f],e[f],f);Ye.isUndefined(b)&&h!==l||(n[f]=b)}),n}const Nj=t=>{const e=Vu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Qi.from(o),e.url=bj(Ej(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Ye.isFormData(n)){if(fi.hasStandardBrowserEnv||fi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(fi.hasStandardBrowserEnv&&(r&&Ye.isFunction(r)&&(r=r(e)),r||r!==!1&&U6(e.url))){const d=i&&s&&V6.read(s);d&&o.set(i,d)}return e},K6=typeof XMLHttpRequest<"u",G6=K6&&function(t){return new Promise(function(n,r){const i=Nj(t);let s=i.data;const o=Qi.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,f,h,b,x,_;function N(){x&&x(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function T(){if(!I)return;const q=Qi.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:q,config:t,request:I};Sj(function(z){n(z),N()},function(z){r(z),N()},D),I=null}"onloadend"in I?I.onloadend=T:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(T)},I.onabort=function(){I&&(r(new hn("Request aborted",hn.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new hn("Network Error",hn.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||xj;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new hn(j,D.clarifyTimeoutError?hn.ETIMEDOUT:hn.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&Ye.forEach(o.toJSON(),function(j,D){I.setRequestHeader(D,j)}),Ye.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),l&&l!=="json"&&(I.responseType=i.responseType),d&&([b,_]=qy(d,!0),I.addEventListener("progress",b)),c&&I.upload&&([h,x]=qy(c),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(f=q=>{I&&(r(!q||q.type?new Jd(null,t,I):q),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const O=B6(i.url);if(O&&fi.protocols.indexOf(O)===-1){r(new hn("Unsupported protocol "+O+":",hn.ERR_BAD_REQUEST,t));return}I.send(s||null)})},Z6=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof hn?f:new Jd(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new hn(`timeout ${e} of ms exceeded`,hn.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Ye.asap(l),c}},J6=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Y6=async function*(t,e){for await(const n of X6(t))yield*J6(n,e)},X6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},LC=(t,e,n,r)=>{const i=Y6(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){l(),c.close();return}let h=f.byteLength;if(n){let b=s+=h;n(b)}c.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Uv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kj=Uv&&typeof ReadableStream=="function",eU=Uv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ij=(t,...e)=>{try{return!!t(...e)}catch{return!1}},tU=kj&&Ij(()=>{let t=!1;const e=new Request(fi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),MC=64*1024,NS=kj&&Ij(()=>Ye.isReadableStream(new Response("").body)),Ry={stream:NS&&(t=>t.body)};Uv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ry[e]&&(Ry[e]=Ye.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new hn(`Response type '${e}' is not supported`,hn.ERR_NOT_SUPPORT,r)})})})(new Response);const nU=async t=>{if(t==null)return 0;if(Ye.isBlob(t))return t.size;if(Ye.isSpecCompliantForm(t))return(await new Request(fi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(t)||Ye.isArrayBuffer(t))return t.byteLength;if(Ye.isURLSearchParams(t)&&(t=t+""),Ye.isString(t))return(await eU(t)).byteLength},rU=async(t,e)=>{const n=Ye.toFiniteNumber(t.getContentLength());return n??nU(e)},iU=Uv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:f,withCredentials:h="same-origin",fetchOptions:b}=Nj(t);d=d?(d+"").toLowerCase():"text";let x=Z6([i,s&&s.toAbortSignal()],o),_;const N=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let I;try{if(c&&tU&&n!=="get"&&n!=="head"&&(I=await rU(f,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(Ye.isFormData(r)&&(L=D.headers.get("content-type"))&&f.setContentType(L),D.body){const[z,P]=PC(I,qy(FC(c)));r=LC(D.body,MC,z,P)}}Ye.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;_=new Request(e,{...b,signal:x,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:T?h:void 0});let O=await fetch(_);const q=NS&&(d==="stream"||d==="response");if(NS&&(l||q&&N)){const D={};["status","statusText","headers"].forEach(R=>{D[R]=O[R]});const L=Ye.toFiniteNumber(O.headers.get("content-length")),[z,P]=l&&PC(L,qy(FC(l),!0))||[];O=new Response(LC(O.body,MC,z,()=>{P&&P(),N&&N()}),D)}d=d||"text";let j=await Ry[Ye.findKey(Ry,d)||"text"](O,t);return!q&&N&&N(),await new Promise((D,L)=>{Sj(D,L,{data:j,headers:Qi.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:_})})}catch(T){throw N&&N(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new hn("Network Error",hn.ERR_NETWORK,t,_),{cause:T.cause||T}):hn.from(T,T&&T.code,t,_)}}),kS={http:b6,xhr:G6,fetch:iU};Ye.forEach(kS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $C=t=>`- ${t}`,sU=t=>Ye.isFunction(t)||t===null||t===!1,Cj={getAdapter:t=>{t=Ye.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!sU(n)&&(r=kS[(o=String(n)).toLowerCase()],r===void 0))throw new hn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map($C).join(`
`):" "+$C(s[0]):"as no adapter specified";throw new hn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:kS};function Fw(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jd(null,t)}function BC(t){return Fw(t),t.headers=Qi.from(t.headers),t.data=Pw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Cj.getAdapter(t.adapter||Dp.adapter)(t).then(function(r){return Fw(t),r.data=Pw.call(t,t.transformResponse,r),r.headers=Qi.from(r.headers),r},function(r){return _j(r)||(Fw(t),r&&r.response&&(r.response.data=Pw.call(t,t.transformResponse,r.response),r.response.headers=Qi.from(r.response.headers))),Promise.reject(r)})}const Oj="1.7.9",Vv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zC={};Vv.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Oj+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new hn(i(o," has been removed"+(n?" in "+n:"")),hn.ERR_DEPRECATED);return n&&!zC[o]&&(zC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Vv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function oU(t,e,n){if(typeof t!="object")throw new hn("options must be an object",hn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new hn("option "+s+" must be "+c,hn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new hn("Unknown option "+s,hn.ERR_BAD_OPTION)}}const Yg={assertOptions:oU,validators:Vv},Lo=Yg.validators;let Mu=class{constructor(e){this.defaults=e,this.interceptors={request:new AC,response:new AC}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Yg.assertOptions(r,{silentJSONParsing:Lo.transitional(Lo.boolean),forcedJSONParsing:Lo.transitional(Lo.boolean),clarifyTimeoutError:Lo.transitional(Lo.boolean)},!1),i!=null&&(Ye.isFunction(i)?n.paramsSerializer={serialize:i}:Yg.assertOptions(i,{encode:Lo.function,serialize:Lo.function},!0)),Yg.assertOptions(n,{baseUrl:Lo.spelling("baseURL"),withXsrfToken:Lo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ye.merge(s.common,s[n.method]);s&&Ye.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=Qi.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(c=c&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const d=[];this.interceptors.response.forEach(function(N){d.push(N.fulfilled,N.rejected)});let f,h=0,b;if(!c){const _=[BC.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,d),b=_.length,f=Promise.resolve(n);h<b;)f=f.then(_[h++],_[h++]);return f}b=l.length;let x=n;for(h=0;h<b;){const _=l[h++],N=l[h++];try{x=_(x)}catch(I){N.call(this,I);break}}try{f=BC.call(this,x)}catch(_){return Promise.reject(_)}for(h=0,b=d.length;h<b;)f=f.then(d[h++],d[h++]);return f}getUri(e){e=Vu(this.defaults,e);const n=Ej(e.baseURL,e.url);return bj(n,e.params,e.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(e){Mu.prototype[e]=function(n,r){return this.request(Vu(r||{},{method:e,url:n,data:(r||{}).data}))}});Ye.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Vu(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Mu.prototype[e]=n(),Mu.prototype[e+"Form"]=n(!0)});let aU=class Tj{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Jd(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Tj(function(i){e=i}),cancel:e}}};function lU(t){return function(n){return t.apply(null,n)}}function uU(t){return Ye.isObject(t)&&t.isAxiosError===!0}const IS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(IS).forEach(([t,e])=>{IS[e]=t});function qj(t){const e=new Mu(t),n=aj(Mu.prototype.request,e);return Ye.extend(n,Mu.prototype,e,{allOwnKeys:!0}),Ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return qj(Vu(t,i))},n}const Ir=qj(Dp);Ir.Axios=Mu;Ir.CanceledError=Jd;Ir.CancelToken=aU;Ir.isCancel=_j;Ir.VERSION=Oj;Ir.toFormData=Wv;Ir.AxiosError=hn;Ir.Cancel=Ir.CanceledError;Ir.all=function(e){return Promise.all(e)};Ir.spread=lU;Ir.isAxiosError=uU;Ir.mergeConfig=Vu;Ir.AxiosHeaders=Qi;Ir.formToJSON=t=>wj(Ye.isHTMLForm(t)?new FormData(t):t);Ir.getAdapter=Cj.getAdapter;Ir.HttpStatusCode=IS;Ir.default=Ir;const{Axios:Bse,AxiosError:cU,CanceledError:zse,isCancel:Wse,CancelToken:Use,VERSION:Vse,all:Hse,Cancel:Qse,isAxiosError:Kse,spread:Gse,toFormData:Zse,AxiosHeaders:Jse,HttpStatusCode:Yse,formToJSON:Xse,getAdapter:eoe,mergeConfig:toe}=Ir,KE=({error:t,schema:e,onError:n})=>{if(t instanceof cU){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var Dw,WC;function dU(){if(WC)return Dw;WC=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(s){return Promise.reject(s)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,s){this.push({resolve:function(){try{e(r)}catch(o){return s(o),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var s=new t(r);return s.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(s),r.getMaxRPS=t.prototype.getMaxRPS.bind(s),r.setMaxRPS=t.prototype.setMaxRPS.bind(s),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(s),r}return Dw=n,Dw}var fU=dU();const hU=zs(fU),pU=({instance:t,limit:e}={})=>hU(t||Ir,e||{maxRequests:5,perMilliseconds:100}),GE="-",mU=t=>{const e=yU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(GE);return l[0]===""&&l.length!==1&&l.shift(),Rj(l,e)||gU(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},Rj=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Rj(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(GE);return e.validators.find(({validator:o})=>o(s))?.classGroupId},UC=/^\[(.+)\]$/,gU=t=>{if(UC.test(t)){const e=UC.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},yU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return bU(Object.entries(t.classGroups),n).forEach(([s,o])=>{CS(o,r,s,e)}),r},CS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:VC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(vU(i)){CS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{CS(o,VC(e,s),n,r)})})},VC=(t,e)=>{let n=t;return e.split(GE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vU=t=>t.isThemeGetter,bU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,xU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Aj="!",wU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let d=0,f=0,h;for(let I=0;I<l.length;I++){let T=l[I];if(d===0){if(T===i&&(r||l.slice(I,I+s)===e)){c.push(l.slice(f,I)),f=I+s;continue}if(T==="/"){h=I;continue}}T==="["?d++:T==="]"&&d--}const b=c.length===0?l:l.substring(f),x=b.startsWith(Aj),_=x?b.substring(1):b,N=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:N}};return n?l=>n({className:l,parseClassName:o}):o},_U=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},SU=t=>({cache:xU(t.cacheSize),parseClassName:wU(t),...mU(t)}),EU=/\s+/,NU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(EU);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:x}=n(d);let _=!!x,N=r(_?b.substring(0,x):b);if(!N){if(!_){l=d+(l.length>0?" "+l:l);continue}if(N=r(b),!N){l=d+(l.length>0?" "+l:l);continue}_=!1}const I=_U(f).join(":"),T=h?I+Aj:I,O=T+N;if(s.includes(O))continue;s.push(O);const q=i(N,_);for(let j=0;j<q.length;++j){const D=q[j];s.push(T+D)}l=d+(l.length>0?" "+l:l)}return l};function kU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=jj(e))&&(r&&(r+=" "),r+=n);return r}const jj=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=jj(t[r]))&&(n&&(n+=" "),n+=e);return n};function IU(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((f,h)=>h(f),t());return n=SU(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=NU(c,n);return i(c,f),f}return function(){return s(kU.apply(null,arguments))}}const ir=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Pj=/^\[(?:([a-z-]+):)?(.+)\]$/i,CU=/^\d+\/\d+$/,OU=new Set(["px","full","screen"]),TU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ba=t=>fd(t)||OU.has(t)||CU.test(t),dl=t=>Yd(t,"length",zU),fd=t=>!!t&&!Number.isNaN(Number(t)),Lw=t=>Yd(t,"number",fd),eh=t=>!!t&&Number.isInteger(Number(t)),PU=t=>t.endsWith("%")&&fd(t.slice(0,-1)),gn=t=>Pj.test(t),fl=t=>TU.test(t),FU=new Set(["length","size","percentage"]),DU=t=>Yd(t,FU,Fj),LU=t=>Yd(t,"position",Fj),MU=new Set(["image","url"]),$U=t=>Yd(t,MU,UU),BU=t=>Yd(t,"",WU),th=()=>!0,Yd=(t,e,n)=>{const r=Pj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},zU=t=>qU.test(t)&&!RU.test(t),Fj=()=>!1,WU=t=>AU.test(t),UU=t=>jU.test(t),VU=()=>{const t=ir("colors"),e=ir("spacing"),n=ir("blur"),r=ir("brightness"),i=ir("borderColor"),s=ir("borderRadius"),o=ir("borderSpacing"),l=ir("borderWidth"),c=ir("contrast"),d=ir("grayscale"),f=ir("hueRotate"),h=ir("invert"),b=ir("gap"),x=ir("gradientColorStops"),_=ir("gradientColorStopPositions"),N=ir("inset"),I=ir("margin"),T=ir("opacity"),O=ir("padding"),q=ir("saturate"),j=ir("scale"),D=ir("sepia"),L=ir("skew"),z=ir("space"),P=ir("translate"),R=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",gn,e],W=()=>[gn,e],U=()=>["",ba,dl],$=()=>["auto",fd,gn],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",gn],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[fd,gn];return{cacheSize:500,separator:":",theme:{colors:[th],spacing:[ba,dl],blur:["none","",fl,gn],brightness:Y(),borderColor:[t],borderRadius:["none","","full",fl,gn],borderSpacing:W(),borderWidth:U(),contrast:Y(),grayscale:ee(),hueRotate:Y(),invert:ee(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[PU,dl],inset:F(),margin:F(),opacity:Y(),padding:W(),saturate:Y(),scale:Y(),sepia:ee(),skew:Y(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",gn]}],container:["container"],columns:[{columns:[fl]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),gn]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",eh,gn]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gn]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",eh,gn]}],"grid-cols":[{"grid-cols":[th]}],"col-start-end":[{col:["auto",{span:["full",eh,gn]},gn]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[th]}],"row-start-end":[{row:["auto",{span:[eh,gn]},gn]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gn]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gn,e]}],"min-w":[{"min-w":[gn,e,"min","max","fit"]}],"max-w":[{"max-w":[gn,e,"none","full","min","max","fit","prose",{screen:[fl]},fl]}],h:[{h:[gn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",fl,dl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lw]}],"font-family":[{font:[th]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gn]}],"line-clamp":[{"line-clamp":["none",fd,Lw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ba,gn]}],"list-image":[{"list-image":["none",gn]}],"list-style-type":[{list:["none","disc","decimal",gn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ba,dl]}],"underline-offset":[{"underline-offset":["auto",ba,gn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),LU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$U]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[ba,gn]}],"outline-w":[{outline:[ba,dl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[ba,dl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fl,BU]}],"shadow-color":[{shadow:[th]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",fl,gn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[q]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[q]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gn]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",gn]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",gn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[eh,gn]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ba,dl,Lw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dj=IU(VU),OS=new Proxy(()=>OS,{get:()=>OS});function mn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:s,...o}={})=>({slots:new Proxy({},{get:(l,c)=>({css:d,...f}={})=>{const h=[],b=t,x={...b?.()?.config.defaults,...i,...o,...f};h.push(b?.(x)?.slots[c]?.(x)),h.push(Array.isArray(e[c])?e[c]:[e[c]]);for(const[_,N]of Object.entries(x)){const I=n[_]?.[N];I&&h.push(I)}for(const _ of r)Object.entries(_.if).every(([N,I])=>I===x[N])&&h.push(_.then?.[c]);return h.push(s?.[c]),h.push(d),Dj(h)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...o}},type:OS()})}const $s=Dj;var Mw,HC;function Lj(){return HC||(HC=1,Mw=Object),Mw}var $w,QC;function HU(){return QC||(QC=1,$w=Error),$w}var Bw,KC;function QU(){return KC||(KC=1,Bw=EvalError),Bw}var zw,GC;function KU(){return GC||(GC=1,zw=RangeError),zw}var Ww,ZC;function GU(){return ZC||(ZC=1,Ww=ReferenceError),Ww}var Uw,JC;function ZU(){return JC||(JC=1,Uw=SyntaxError),Uw}var Vw,YC;function Mj(){return YC||(YC=1,Vw=TypeError),Vw}var Hw,XC;function JU(){return XC||(XC=1,Hw=URIError),Hw}var Qw,eO;function YU(){return eO||(eO=1,Qw=Math.abs),Qw}var Kw,tO;function XU(){return tO||(tO=1,Kw=Math.floor),Kw}var Gw,nO;function eV(){return nO||(nO=1,Gw=Math.max),Gw}var Zw,rO;function tV(){return rO||(rO=1,Zw=Math.min),Zw}var Jw,iO;function nV(){return iO||(iO=1,Jw=Math.pow),Jw}var Yw,sO;function rV(){return sO||(sO=1,Yw=Math.round),Yw}var Xw,oO;function iV(){return oO||(oO=1,Xw=Number.isNaN||function(e){return e!==e}),Xw}var e_,aO;function sV(){if(aO)return e_;aO=1;var t=iV();return e_=function(n){return t(n)||n===0?n:n<0?-1:1},e_}var t_,lO;function oV(){return lO||(lO=1,t_=Object.getOwnPropertyDescriptor),t_}var n_,uO;function $j(){if(uO)return n_;uO=1;var t=oV();if(t)try{t([],"length")}catch{t=null}return n_=t,n_}var r_,cO;function aV(){if(cO)return r_;cO=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return r_=t,r_}var i_,dO;function Bj(){return dO||(dO=1,i_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),i_}var s_,fO;function lV(){if(fO)return s_;fO=1;var t=typeof Symbol<"u"&&Symbol,e=Bj();return s_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},s_}var o_,hO;function zj(){return hO||(hO=1,o_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),o_}var a_,pO;function Wj(){if(pO)return a_;pO=1;var t=Lj();return a_=t.getPrototypeOf||null,a_}var l_,mO;function uV(){if(mO)return l_;mO=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,d){for(var f=[],h=0;h<c.length;h+=1)f[h]=c[h];for(var b=0;b<d.length;b+=1)f[b+c.length]=d[b];return f},s=function(c,d){for(var f=[],h=d,b=0;h<c.length;h+=1,b+=1)f[b]=c[h];return f},o=function(l,c){for(var d="",f=0;f<l.length;f+=1)d+=l[f],f+1<l.length&&(d+=c);return d};return l_=function(c){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var f=s(arguments,1),h,b=function(){if(this instanceof h){var T=d.apply(this,i(f,arguments));return Object(T)===T?T:this}return d.apply(c,i(f,arguments))},x=n(0,d.length-f.length),_=[],N=0;N<x;N++)_[N]="$"+N;if(h=Function("binder","return function ("+o(_,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var I=function(){};I.prototype=d.prototype,h.prototype=new I,I.prototype=null}return h},l_}var u_,gO;function Hv(){if(gO)return u_;gO=1;var t=uV();return u_=Function.prototype.bind||t,u_}var c_,yO;function ZE(){return yO||(yO=1,c_=Function.prototype.call),c_}var d_,vO;function Uj(){return vO||(vO=1,d_=Function.prototype.apply),d_}var f_,bO;function cV(){return bO||(bO=1,f_=typeof Reflect<"u"&&Reflect&&Reflect.apply),f_}var h_,xO;function dV(){if(xO)return h_;xO=1;var t=Hv(),e=Uj(),n=ZE(),r=cV();return h_=r||t.call(n,e),h_}var p_,wO;function Vj(){if(wO)return p_;wO=1;var t=Hv(),e=Mj(),n=ZE(),r=dV();return p_=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},p_}var m_,_O;function fV(){if(_O)return m_;_O=1;var t=Vj(),e=$j(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return m_=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,m_}var g_,SO;function hV(){if(SO)return g_;SO=1;var t=zj(),e=Wj(),n=fV();return g_=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,g_}var y_,EO;function pV(){if(EO)return y_;EO=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Hv();return y_=n.call(t,e),y_}var v_,NO;function mV(){if(NO)return v_;NO=1;var t,e=Lj(),n=HU(),r=QU(),i=KU(),s=GU(),o=ZU(),l=Mj(),c=JU(),d=YU(),f=XU(),h=eV(),b=tV(),x=nV(),_=rV(),N=sV(),I=Function,T=function(De){try{return I('"use strict"; return ('+De+").constructor;")()}catch{}},O=$j(),q=aV(),j=function(){throw new l},D=O?function(){try{return arguments.callee,j}catch{try{return O(arguments,"callee").get}catch{return j}}}():j,L=lV()(),z=hV(),P=Wj(),R=zj(),B=Uj(),F=ZE(),W={},U=typeof Uint8Array>"u"||!z?t:z(Uint8Array),$={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":L&&z?z([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":W,"%AsyncGenerator%":W,"%AsyncGeneratorFunction%":W,"%AsyncIteratorPrototype%":W,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":W,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&z?z(z([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!z?t:z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":O,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!z?t:z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&z?z(""[Symbol.iterator]()):t,"%Symbol%":L?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":D,"%TypedArray%":U,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":B,"%Object.defineProperty%":q,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":b,"%Math.pow%":x,"%Math.round%":_,"%Math.sign%":N,"%Reflect.getPrototypeOf%":R};if(z)try{null.error}catch(De){var X=z(z(De));$["%Error.prototype%"]=X}var Z=function De(Ze){var Xe;if(Ze==="%AsyncFunction%")Xe=T("async function () {}");else if(Ze==="%GeneratorFunction%")Xe=T("function* () {}");else if(Ze==="%AsyncGeneratorFunction%")Xe=T("async function* () {}");else if(Ze==="%AsyncGenerator%"){var Ue=De("%AsyncGeneratorFunction%");Ue&&(Xe=Ue.prototype)}else if(Ze==="%AsyncIteratorPrototype%"){var ut=De("%AsyncGenerator%");ut&&z&&(Xe=z(ut.prototype))}return $[Ze]=Xe,Xe},ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=Hv(),ee=pV(),se=ie.call(F,Array.prototype.concat),Y=ie.call(B,Array.prototype.splice),ce=ie.call(F,String.prototype.replace),de=ie.call(F,String.prototype.slice),ye=ie.call(F,RegExp.prototype.exec),we=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ne=/\\(\\)?/g,ze=function(Ze){var Xe=de(Ze,0,1),Ue=de(Ze,-1);if(Xe==="%"&&Ue!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&Xe!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ut=[];return ce(Ze,we,function(_t,Ot,Wt,en){ut[ut.length]=Wt?ce(en,Ne,"$1"):Ot||_t}),ut},qe=function(Ze,Xe){var Ue=Ze,ut;if(ee(ae,Ue)&&(ut=ae[Ue],Ue="%"+ut[0]+"%"),ee($,Ue)){var _t=$[Ue];if(_t===W&&(_t=Z(Ue)),typeof _t>"u"&&!Xe)throw new l("intrinsic "+Ze+" exists, but is not available. Please file an issue!");return{alias:ut,name:Ue,value:_t}}throw new o("intrinsic "+Ze+" does not exist!")};return v_=function(Ze,Xe){if(typeof Ze!="string"||Ze.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Xe!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ye(/^%?[^%]*%?$/,Ze)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=ze(Ze),ut=Ue.length>0?Ue[0]:"",_t=qe("%"+ut+"%",Xe),Ot=_t.name,Wt=_t.value,en=!1,xe=_t.alias;xe&&(ut=xe[0],Y(Ue,se([0,1],xe)));for(var ve=1,ke=!0;ve<Ue.length;ve+=1){var je=Ue[ve],Ve=de(je,0,1),rt=de(je,-1);if((Ve==='"'||Ve==="'"||Ve==="`"||rt==='"'||rt==="'"||rt==="`")&&Ve!==rt)throw new o("property names with quotes must have matching quotes");if((je==="constructor"||!ke)&&(en=!0),ut+="."+je,Ot="%"+ut+"%",ee($,Ot))Wt=$[Ot];else if(Wt!=null){if(!(je in Wt)){if(!Xe)throw new l("base intrinsic for "+Ze+" exists, but the property is not available.");return}if(O&&ve+1>=Ue.length){var Me=O(Wt,je);ke=!!Me,ke&&"get"in Me&&!("originalValue"in Me.get)?Wt=Me.get:Wt=Wt[je]}else ke=ee(Wt,je),Wt=Wt[je];ke&&!en&&($[Ot]=Wt)}}return Wt},v_}var b_,kO;function gV(){if(kO)return b_;kO=1;var t=mV(),e=Vj(),n=e([t("%String.prototype.indexOf%")]);return b_=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e([o]):o},b_}var x_,IO;function yV(){if(IO)return x_;IO=1;var t=Bj();return x_=function(){return t()&&!!Symbol.toStringTag},x_}var w_,CO;function vV(){if(CO)return w_;CO=1;var t=gV(),e=t("String.prototype.valueOf"),n=function(l){try{return e(l),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",s=yV()();return w_=function(l){return typeof l=="string"?!0:!l||typeof l!="object"?!1:s?n(l):r(l)===i},w_}var bV=vV();const xV=zs(bV),Qv=t=>xV(t),wV=(t,e,n={})=>{const r=[];return t.filter((s,o)=>{const l=n.regionLowerCase?s.toLowerCase():s;if(e.includes(l))return r.push({index:o,appLocale:l}),!0;const{isAvailable:c,appLocale:d}=_V(l,e,n);return c&&r.push({index:o,appLocale:n.regionLowerCase?d.toLowerCase():d}),c}).map((s,o)=>!r||r.length===0?s:r[o]?.appLocale)},_V=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(s=>{if(!Xg()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const o=Xg()?new Intl.Locale(t).minimize().language:t.split("-")[0],l=Xg()?new Intl.Locale(s).minimize().language:s.split("-")[0],c=o===l;return c&&(r=s),c}),appLocale:r}},SV=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},Xg=()=>Intl&&"Locale"in Intl,EV=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const s=Xg()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:o,script:l}=s;let{region:c}=s;return e.regionLowerCase&&c&&(c=c.toLowerCase()),i.length>2?`${o}-${l}-${c}`:c?`${o}-${c}`:o});return[...new Set(n)]},NV=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=SV(n),i=EV([...r,t],n);return wV(i,e,n)[0]||t},kV=({available:t,fallback:e})=>NV(e,t,{languageOnly:!0});var __={exports:{}};const IV={},CV=Object.freeze(Object.defineProperty({__proto__:null,default:IV},Symbol.toStringTag,{value:"Module"})),OO=HM(CV);var TO;function OV(){return TO||(TO=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=Tu:i&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,l=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),d=[-0x80000000,8388608,32768,128],f=[24,16,8,0],h=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],b=["hex","array","digest","arrayBuffer"],x=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(L){return Object.prototype.toString.call(L)==="[object Array]"}),l&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(L){return typeof L=="object"&&L.buffer&&L.buffer.constructor===ArrayBuffer});var _=function(L,z){return function(P){return new q(z,!0).update(P)[L]()}},N=function(L){var z=_("hex",L);s&&(z=I(z,L)),z.create=function(){return new q(L)},z.update=function(B){return z.create().update(B)};for(var P=0;P<b.length;++P){var R=b[P];z[R]=_(R,L)}return z},I=function(L,z){var P=OO,R=OO.Buffer,B=z?"sha224":"sha256",F;R.from&&!r.JS_SHA256_NO_BUFFER_FROM?F=R.from:F=function(U){return new R(U)};var W=function(U){if(typeof U=="string")return P.createHash(B).update(U,"utf8").digest("hex");if(U==null)throw new Error(e);return U.constructor===ArrayBuffer&&(U=new Uint8Array(U)),Array.isArray(U)||ArrayBuffer.isView(U)||U.constructor===R?P.createHash(B).update(F(U)).digest("hex"):L(U)};return W},T=function(L,z){return function(P,R){return new j(P,z,!0).update(R)[L]()}},O=function(L){var z=T("hex",L);z.create=function(B){return new j(B,L)},z.update=function(B,F){return z.create(B).update(F)};for(var P=0;P<b.length;++P){var R=b[P];z[R]=T(R,L)}return z};function q(L,z){z?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=L}q.prototype.update=function(L){if(!this.finalized){var z,P=typeof L;if(P!=="string"){if(P==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);z=!0}for(var R,B=0,F,W=L.length,U=this.blocks;B<W;){if(this.hashed&&(this.hashed=!1,U[0]=this.block,this.block=U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0),z)for(F=this.start;B<W&&F<64;++B)U[F>>>2]|=L[B]<<f[F++&3];else for(F=this.start;B<W&&F<64;++B)R=L.charCodeAt(B),R<128?U[F>>>2]|=R<<f[F++&3]:R<2048?(U[F>>>2]|=(192|R>>>6)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]):R<55296||R>=57344?(U[F>>>2]|=(224|R>>>12)<<f[F++&3],U[F>>>2]|=(128|R>>>6&63)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]):(R=65536+((R&1023)<<10|L.charCodeAt(++B)&1023),U[F>>>2]|=(240|R>>>18)<<f[F++&3],U[F>>>2]|=(128|R>>>12&63)<<f[F++&3],U[F>>>2]|=(128|R>>>6&63)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]);this.lastByteIndex=F,this.bytes+=F-this.start,F>=64?(this.block=U[16],this.start=F-64,this.hash(),this.hashed=!0):this.start=F}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},q.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var L=this.blocks,z=this.lastByteIndex;L[16]=this.block,L[z>>>2]|=d[z&3],this.block=L[16],z>=56&&(this.hashed||this.hash(),L[0]=this.block,L[16]=L[1]=L[2]=L[3]=L[4]=L[5]=L[6]=L[7]=L[8]=L[9]=L[10]=L[11]=L[12]=L[13]=L[14]=L[15]=0),L[14]=this.hBytes<<3|this.bytes>>>29,L[15]=this.bytes<<3,this.hash()}},q.prototype.hash=function(){var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=this.blocks,X,Z,ae,ie,ee,se,Y,ce,de,ye,we;for(X=16;X<64;++X)ee=$[X-15],Z=(ee>>>7|ee<<25)^(ee>>>18|ee<<14)^ee>>>3,ee=$[X-2],ae=(ee>>>17|ee<<15)^(ee>>>19|ee<<13)^ee>>>10,$[X]=$[X-16]+Z+$[X-7]+ae<<0;for(we=z&P,X=0;X<64;X+=4)this.first?(this.is224?(ce=300032,ee=$[0]-0x543c9a5b,U=ee-0x8f1a6c7<<0,R=ee+0x170e9b5<<0):(ce=0x2a01a605,ee=$[0]-0xc881298,U=ee-0x5ab00ac6<<0,R=ee+0x8909ae5<<0),this.first=!1):(Z=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),ae=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),ce=L&z,ie=ce^L&P^we,Y=B&F^~B&W,ee=U+ae+Y+h[X]+$[X],se=Z+ie,U=R+ee<<0,R=ee+se<<0),Z=(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),ae=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7),de=R&L,ie=de^R&z^ce,Y=U&B^~U&F,ee=W+ae+Y+h[X+1]+$[X+1],se=Z+ie,W=P+ee<<0,P=ee+se<<0,Z=(P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),ae=(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7),ye=P&R,ie=ye^P&L^de,Y=W&U^~W&B,ee=F+ae+Y+h[X+2]+$[X+2],se=Z+ie,F=z+ee<<0,z=ee+se<<0,Z=(z>>>2|z<<30)^(z>>>13|z<<19)^(z>>>22|z<<10),ae=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),we=z&P,ie=we^z&R^ye,Y=F&W^~F&U,ee=B+ae+Y+h[X+3]+$[X+3],se=Z+ie,B=L+ee<<0,L=ee+se<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+L<<0,this.h1=this.h1+z<<0,this.h2=this.h2+P<<0,this.h3=this.h3+R<<0,this.h4=this.h4+B<<0,this.h5=this.h5+F<<0,this.h6=this.h6+W<<0,this.h7=this.h7+U<<0},q.prototype.hex=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=c[L>>>28&15]+c[L>>>24&15]+c[L>>>20&15]+c[L>>>16&15]+c[L>>>12&15]+c[L>>>8&15]+c[L>>>4&15]+c[L&15]+c[z>>>28&15]+c[z>>>24&15]+c[z>>>20&15]+c[z>>>16&15]+c[z>>>12&15]+c[z>>>8&15]+c[z>>>4&15]+c[z&15]+c[P>>>28&15]+c[P>>>24&15]+c[P>>>20&15]+c[P>>>16&15]+c[P>>>12&15]+c[P>>>8&15]+c[P>>>4&15]+c[P&15]+c[R>>>28&15]+c[R>>>24&15]+c[R>>>20&15]+c[R>>>16&15]+c[R>>>12&15]+c[R>>>8&15]+c[R>>>4&15]+c[R&15]+c[B>>>28&15]+c[B>>>24&15]+c[B>>>20&15]+c[B>>>16&15]+c[B>>>12&15]+c[B>>>8&15]+c[B>>>4&15]+c[B&15]+c[F>>>28&15]+c[F>>>24&15]+c[F>>>20&15]+c[F>>>16&15]+c[F>>>12&15]+c[F>>>8&15]+c[F>>>4&15]+c[F&15]+c[W>>>28&15]+c[W>>>24&15]+c[W>>>20&15]+c[W>>>16&15]+c[W>>>12&15]+c[W>>>8&15]+c[W>>>4&15]+c[W&15];return this.is224||($+=c[U>>>28&15]+c[U>>>24&15]+c[U>>>20&15]+c[U>>>16&15]+c[U>>>12&15]+c[U>>>8&15]+c[U>>>4&15]+c[U&15]),$},q.prototype.toString=q.prototype.hex,q.prototype.digest=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=[L>>>24&255,L>>>16&255,L>>>8&255,L&255,z>>>24&255,z>>>16&255,z>>>8&255,z&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255];return this.is224||$.push(U>>>24&255,U>>>16&255,U>>>8&255,U&255),$},q.prototype.array=q.prototype.digest,q.prototype.arrayBuffer=function(){this.finalize();var L=new ArrayBuffer(this.is224?28:32),z=new DataView(L);return z.setUint32(0,this.h0),z.setUint32(4,this.h1),z.setUint32(8,this.h2),z.setUint32(12,this.h3),z.setUint32(16,this.h4),z.setUint32(20,this.h5),z.setUint32(24,this.h6),this.is224||z.setUint32(28,this.h7),L};function j(L,z,P){var R,B=typeof L;if(B==="string"){var F=[],W=L.length,U=0,$;for(R=0;R<W;++R)$=L.charCodeAt(R),$<128?F[U++]=$:$<2048?(F[U++]=192|$>>>6,F[U++]=128|$&63):$<55296||$>=57344?(F[U++]=224|$>>>12,F[U++]=128|$>>>6&63,F[U++]=128|$&63):($=65536+(($&1023)<<10|L.charCodeAt(++R)&1023),F[U++]=240|$>>>18,F[U++]=128|$>>>12&63,F[U++]=128|$>>>6&63,F[U++]=128|$&63);L=F}else if(B==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);L.length>64&&(L=new q(z,!0).update(L).array());var X=[],Z=[];for(R=0;R<64;++R){var ae=L[R]||0;X[R]=92^ae,Z[R]=54^ae}q.call(this,z,P),this.update(Z),this.oKeyPad=X,this.inner=!0,this.sharedMemory=P}j.prototype=new q,j.prototype.finalize=function(){if(q.prototype.finalize.call(this),this.inner){this.inner=!1;var L=this.array();q.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(L),q.prototype.finalize.call(this)}};var D=N();D.sha256=D,D.sha224=N(!0),D.sha256.hmac=O(),D.sha224.hmac=O(!0),o?t.exports=D:(r.sha256=D.sha256,r.sha224=D.sha224)})()}(__)),__.exports}var TS=OV();const TV=TS.sha224,Hj=({index:t,key:e,fallback:n})=>t[TV(e)]?.value??t[e]?.value??n??e,qV=({index:t,key:e,fallback:n})=>Hj({index:t,key:e,fallback:n}),RV=({index:t,key:e,fallback:n})=>Hj({index:t,key:e,fallback:n}),$l={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>qV({index:$l.index,key:t,fallback:e}),rich:(t,e)=>RV({index:$l.index,key:t,fallback:e})};function Rl(t){return typeof t>"u"||t===void 0}function ps(t){return typeof t=="string"}function Kv(t){return typeof t=="number"}function Ay(t){return typeof t=="boolean"}function JE(t){return t===null}function AV(t){return t instanceof Date}function YE(t){return typeof t=="bigint"}function gs(t){return typeof t=="function"}function Bo(t){return typeof t=="object"&&t!==null}function K(t){return Object.freeze(t)}function vg(t){return Fa(t)?t:[t]}function Fa(t){return Array.isArray(t)}function Al(t){return t}const Wn=K({is(t){return t.kind==="AlterTableNode"},create(t){return K({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return K({...t,...e})},cloneWithColumnAlteration(t,e){return K({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),ur=K({is(t){return t.kind==="IdentifierNode"},create(t){return K({kind:"IdentifierNode",name:t})}}),Ea=K({is(t){return t.kind==="CreateIndexNode"},create(t){return K({kind:"CreateIndexNode",name:ur.create(t)})},cloneWith(t,e){return K({...t,...e})},cloneWithColumns(t,e){return K({...t,columns:[...t.columns||[],...e]})}}),Qj=K({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return K({kind:"CreateSchemaNode",schema:ur.create(t),...e})},cloneWith(t,e){return K({...t,...e})}}),jV=["preserve rows","delete rows","drop"],ns=K({is(t){return t.kind==="CreateTableNode"},create(t){return K({kind:"CreateTableNode",table:t,columns:K([])})},cloneWithColumn(t,e){return K({...t,columns:K([...t.columns,e])})},cloneWithConstraint(t,e){return K({...t,constraints:t.constraints?K([...t.constraints,e]):K([e])})},cloneWithFrontModifier(t,e){return K({...t,frontModifiers:t.frontModifiers?K([...t.frontModifiers,e]):K([e])})},cloneWithEndModifier(t,e){return K({...t,endModifiers:t.endModifiers?K([...t.endModifiers,e]):K([e])})},cloneWith(t,e){return K({...t,...e})}}),Bl=K({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return K({kind:"SchemableIdentifierNode",identifier:ur.create(t)})},createWithSchema(t,e){return K({kind:"SchemableIdentifierNode",schema:ur.create(t),identifier:ur.create(e)})}}),qh=K({is(t){return t.kind==="DropIndexNode"},create(t,e){return K({kind:"DropIndexNode",name:Bl.create(t),...e})},cloneWith(t,e){return K({...t,...e})}}),qS=K({is(t){return t.kind==="DropSchemaNode"},create(t,e){return K({kind:"DropSchemaNode",schema:ur.create(t),...e})},cloneWith(t,e){return K({...t,...e})}}),RS=K({is(t){return t.kind==="DropTableNode"},create(t,e){return K({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return K({...t,...e})}}),Jl=K({is(t){return t.kind==="AliasNode"},create(t,e){return K({kind:"AliasNode",node:t,alias:e})}}),jl=K({is(t){return t.kind==="TableNode"},create(t){return K({kind:"TableNode",table:Bl.create(t)})},createWithSchema(t,e){return K({kind:"TableNode",table:Bl.createWithSchema(t,e)})}});function Gi(t){return Bo(t)&&gs(t.toOperationNode)}function PV(t){return Bo(t)&&"expressionType"in t&&Gi(t)}function FV(t){return Bo(t)&&"expression"in t&&ps(t.alias)&&Gi(t)}const xa=K({is(t){return t.kind==="SelectModifierNode"},create(t,e){return K({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return K({kind:"SelectModifierNode",rawModifier:t})}}),zl=K({is(t){return t.kind==="AndNode"},create(t,e){return K({kind:"AndNode",left:t,right:e})}}),Xd=K({is(t){return t.kind==="OrNode"},create(t,e){return K({kind:"OrNode",left:t,right:e})}}),S_=K({is(t){return t.kind==="OnNode"},create(t){return K({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return K({...t,on:e==="And"?zl.create(t.on,n):Xd.create(t.on,n)})}}),Rh=K({is(t){return t.kind==="JoinNode"},create(t,e){return K({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return K({kind:"JoinNode",joinType:t,table:e,on:S_.create(n)})},cloneWithOn(t,e){return K({...t,on:t.on?S_.cloneWithOperation(t.on,"And",e):S_.create(e)})}}),Cd=K({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return K({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),DV=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],LV=["+","-","*","/","%","^","&","|","#","<<",">>"],Kj=["->","->>"],MV=[...DV,...LV,"&&","||"],$V=["exists","not exists"],BV=["not","-",...$V],zV=[...MV,...Kj,...BV,"between","between symmetric"],Wl=K({is(t){return t.kind==="OperatorNode"},create(t){return K({kind:"OperatorNode",operator:t})}});function qO(t){return ps(t)&&Kj.includes(t)}const Cr=K({is(t){return t.kind==="ColumnNode"},create(t){return K({kind:"ColumnNode",column:ur.create(t)})}}),XE=K({is(t){return t.kind==="SelectAllNode"},create(){return K({kind:"SelectAllNode"})}}),Gv=K({is(t){return t.kind==="ReferenceNode"},create(t,e){return K({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return K({kind:"ReferenceNode",table:t,column:XE.create()})}});class WV{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return Xj(this.#e)}}function Gj(t){return Bo(t)&&Gi(t)&&ps(t.dynamicReference)}const AS=K({is(t){return t.kind==="OrderByItemNode"},create(t,e){return K({kind:"OrderByItemNode",orderBy:t,direction:e})}}),ci=K({is(t){return t.kind==="RawNode"},create(t,e){return K({kind:"RawNode",sqlFragments:K(t),parameters:K(e)})},createWithSql(t){return ci.create([t],[])},createWithChild(t){return ci.create(["",""],[t])},createWithChildren(t){return ci.create(new Array(t.length+1).fill(""),t)}});function Zj(t){return t==="asc"||t==="desc"}function Lp(t){if(t.length===2)return[E_(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>E_(n)):[E_(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function E_(t,e){const n=UV(t);if(AS.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return AS.create(n,Jj(e))}function UV(t){if(Wp(t))return ic(t);if(Gj(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!Zj(n))throw new Error(`Invalid order by direction: ${n}`);return AS.create(Da(e),Jj(n))}return Da(t)}function Jj(t){if(t)return t==="asc"||t==="desc"?ci.createWithSql(t):t.toOperationNode()}const jy=K({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return K({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return K({...t,traversal:e})}}),Yj=K({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return K({kind:"JSONOperatorChainNode",operator:t,values:K([])})},cloneWithValue(t,e){return K({...t,values:K([...t.values,e])})}}),Ah=K({is(t){return t.kind==="JSONPathNode"},create(t){return K({kind:"JSONPathNode",inOperator:t,pathLegs:K([])})},cloneWithLeg(t,e){return K({...t,pathLegs:K([...t.pathLegs,e])})}});function Xj(t){return ps(t)?Da(t):t.toOperationNode()}function Qh(t){return Fa(t)?t.map(e=>ls(e)):[ls(t)]}function ls(t){return Wp(t)?ic(t):Xj(t)}function VV(t,e){const n=Da(t);if(qO(e))return jy.create(n,Yj.create(Wl.create(e)));const r=e.slice(0,-1);if(qO(r))return jy.create(n,Ah.create(Wl.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function Da(t){const e=".";if(!t.includes(e))return Gv.create(Cr.create(t));const n=t.split(e).map(e1);if(n.length===3)return QV(n);if(n.length===2)return KV(n);throw new Error(`invalid column reference ${t}`)}function HV(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(e1);return Jl.create(Da(n),ur.create(r))}else return Da(t)}function eP(t){return Cr.create(t)}function Py(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(e1);if(!Zj(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return Lp([n,r])[0]}else return eP(t)}function QV(t){const[e,n,r]=t;return Gv.create(Cr.create(r),jl.createWithSchema(e,n))}function KV(t){const[e,n]=t;return Gv.create(Cr.create(n),jl.create(e))}function e1(t){return t.trim()}const tP=K({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return K({kind:"PrimitiveValueListNode",values:K([...t])})}}),t1=K({is(t){return t.kind==="ValueListNode"},create(t){return K({kind:"ValueListNode",values:K(t)})}}),Jo=K({is(t){return t.kind==="ValueNode"},create(t){return K({kind:"ValueNode",value:t})},createImmediate(t){return K({kind:"ValueNode",value:t,immediate:!0})}});function GV(t){return Fa(t)?ZV(t):jr(t)}function jr(t){return Wp(t)?ic(t):Jo.create(t)}function n1(t){return Kv(t)||Ay(t)||JE(t)}function r1(t){if(!n1(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Jo.createImmediate(t)}function ZV(t){return t.some(Wp)?t1.create(t.map(e=>jr(e))):tP.create(t)}const Od=K({is(t){return t.kind==="ParensNode"},create(t){return K({kind:"ParensNode",node:t})}});function ni(t){if(t.length===3)return i1(t[0],t[1],t[2]);if(t.length===1)return jr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function i1(t,e,n){return JV(e)&&nP(n)?Cd.create(ls(t),jS(e),Jo.createImmediate(n)):Cd.create(ls(t),jS(e),GV(n))}function Yo(t,e,n){return Cd.create(ls(t),jS(e),ls(n))}function RO(t,e){return Fy(Object.entries(t).filter(([,n])=>!Rl(n)).map(([n,r])=>i1(n,nP(r)?"is":"=",r)),e)}function Fy(t,e,n=!0){const r=e==="and"?zl.create:Xd.create;if(t.length===0)return Cd.create(Jo.createImmediate(1),Wl.create("="),Jo.createImmediate(e==="and"?1:0));let i=AO(t[0]);for(let s=1;s<t.length;++s)i=r(i,AO(t[s]));return t.length>1&&n?Od.create(i):i}function JV(t){return t==="is"||t==="is not"}function nP(t){return JE(t)||Ay(t)}function jS(t){if(ps(t)&&zV.includes(t))return Wl.create(t);if(Gi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function AO(t){return Gi(t)?t.toOperationNode():t}const Ul=K({is(t){return t.kind==="OrderByNode"},create(t){return K({kind:"OrderByNode",items:K([...t])})},cloneWithItems(t,e){return K({...t,items:K([...t.items,...e])})}}),jO=K({is(t){return t.kind==="PartitionByNode"},create(t){return K({kind:"PartitionByNode",items:K(t)})},cloneWithItems(t,e){return K({...t,items:K([...t.items,...e])})}}),PS=K({is(t){return t.kind==="OverNode"},create(){return K({kind:"OverNode"})},cloneWithOrderByItems(t,e){return K({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithPartitionByItems(t,e){return K({...t,partitionBy:t.partitionBy?jO.cloneWithItems(t.partitionBy,e):jO.create(e)})}}),Dy=K({is(t){return t.kind==="FromNode"},create(t){return K({kind:"FromNode",froms:K(t)})},cloneWithFroms(t,e){return K({...t,froms:K([...t.froms,...e])})}}),PO=K({is(t){return t.kind==="GroupByNode"},create(t){return K({kind:"GroupByNode",items:K(t)})},cloneWithItems(t,e){return K({...t,items:K([...t.items,...e])})}}),FO=K({is(t){return t.kind==="HavingNode"},create(t){return K({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return K({...t,having:e==="And"?zl.create(t.having,n):Xd.create(t.having,n)})}}),zn=K({is(t){return t.kind==="SelectQueryNode"},create(t){return K({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return K({kind:"SelectQueryNode",from:Dy.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return K({...t,selections:t.selections?K([...t.selections,...e]):K(e)})},cloneWithDistinctOn(t,e){return K({...t,distinctOn:t.distinctOn?K([...t.distinctOn,...e]):K(e)})},cloneWithFrontModifier(t,e){return K({...t,frontModifiers:t.frontModifiers?K([...t.frontModifiers,e]):K([e])})},cloneWithOrderByItems(t,e){return K({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithGroupByItems(t,e){return K({...t,groupBy:t.groupBy?PO.cloneWithItems(t.groupBy,e):PO.create(e)})},cloneWithLimit(t,e){return K({...t,limit:e})},cloneWithOffset(t,e){return K({...t,offset:e})},cloneWithFetch(t,e){return K({...t,fetch:e})},cloneWithHaving(t,e){return K({...t,having:t.having?FO.cloneWithOperation(t.having,"And",e):FO.create(e)})},cloneWithSetOperations(t,e){return K({...t,setOperations:t.setOperations?K([...t.setOperations,...e]):K([...e])})},cloneWithoutSelections(t){return K({...t,selections:[]})},cloneWithoutLimit(t){return K({...t,limit:void 0})},cloneWithoutOffset(t){return K({...t,offset:void 0})},cloneWithoutOrderBy(t){return K({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return K({...t,groupBy:void 0})}});function yn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class hd{#e;constructor(e){this.#e=K(e)}on(...e){return new hd({...this.#e,joinNode:Rh.cloneWithOn(this.#e.joinNode,ni(e))})}onRef(e,n,r){return new hd({...this.#e,joinNode:Rh.cloneWithOn(this.#e.joinNode,Yo(e,n,r))})}onTrue(){return new hd({...this.#e,joinNode:Rh.cloneWithOn(this.#e.joinNode,ci.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}yn(hd,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const YV=K({is(t){return t.kind==="PartitionByItemNode"},create(t){return K({kind:"PartitionByItemNode",partitionBy:t})}});function XV(t){return Qh(t).map(YV.create)}class Kh{#e;constructor(e){this.#e=K(e)}orderBy(e,n){return new Kh({overNode:PS.cloneWithOrderByItems(this.#e.overNode,Lp([e,n]))})}partitionBy(e){return new Kh({overNode:PS.cloneWithPartitionByItems(this.#e.overNode,XV(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}yn(Kh,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const jh=K({is(t){return t.kind==="SelectionNode"},create(t){return K({kind:"SelectionNode",selection:t})},createSelectAll(){return K({kind:"SelectionNode",selection:XE.create()})},createSelectAllFromTable(t){return K({kind:"SelectionNode",selection:Gv.createSelectAll(t)})}});function wo(t){return gs(t)?wo(t(tf())):Fa(t)?t.map(e=>DO(e)):[DO(t)]}function DO(t){return ps(t)?jh.create(HV(t)):Gj(t)?jh.create(t.toOperationNode()):jh.create(mP(t))}function Xo(t){return t?Array.isArray(t)?t.map(LO):[LO(t)]:[jh.createSelectAll()]}function LO(t){if(ps(t))return jh.createSelectAllFromTable(Er(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const e5=K({is(t){return t.kind==="ValuesNode"},create(t){return K({kind:"ValuesNode",values:K(t)})}}),t5=K({is(t){return t.kind==="DefaultInsertValueNode"},create(){return K({kind:"DefaultInsertValueNode"})}});function rP(t){const e=gs(t)?t(tf()):t,n=Fa(e)?e:K([e]);return n5(n)}function n5(t){const e=r5(t);return[K([...e.keys()].map(Cr.create)),e5.create(t.map(n=>i5(n,e)))]}function r5(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function i5(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const o of n){const l=e.get(o);if(Rl(l))continue;const c=t[o];(Rl(c)||Wp(c))&&(i=!0),r[l]=c}if(n.length<e.size||i){const o=t5.create();return t1.create(r.map(l=>Rl(l)?o:jr(l)))}return tP.create(r)}const ss=K({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return K({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return K({kind:"InsertQueryNode"})},cloneWith(t,e){return K({...t,...e})}}),pd=K({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return K({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return K({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return K({...t,from:t.from?Dy.cloneWithFroms(t.from,e):Dy.create(e)})},cloneWithUpdates(t,e){return K({...t,updates:t.updates?K([...t.updates,...e]):e})},cloneWithLimit(t,e){return K({...t,limit:e})}}),MO=K({is(t){return t.kind==="UsingNode"},create(t){return K({kind:"UsingNode",tables:K(t)})},cloneWithTables(t,e){return K({...t,tables:K([...t.tables,...e])})}}),Iu=K({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return K({kind:"DeleteQueryNode",from:Dy.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return K({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithoutOrderBy(t){return K({...t,orderBy:void 0})},cloneWithLimit(t,e){return K({...t,limit:e})},cloneWithoutLimit(t){return K({...t,limit:void 0})},cloneWithUsing(t,e){return K({...t,using:t.using!==void 0?MO.cloneWithTables(t.using,e):MO.create(e)})}}),Wi=K({is(t){return t.kind==="WhereNode"},create(t){return K({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return K({...t,where:e==="And"?zl.create(t.where,n):Xd.create(t.where,n)})}}),$O=K({is(t){return t.kind==="ReturningNode"},create(t){return K({kind:"ReturningNode",selections:K(t)})},cloneWithSelections(t,e){return K({...t,selections:t.selections?K([...t.selections,...e]):K(e)})}}),s5=K({is(t){return t.kind==="ExplainNode"},create(t,e){return K({kind:"ExplainNode",format:t,options:e})}}),Mp=K({is(t){return t.kind==="WhenNode"},create(t){return K({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return K({...t,result:e})}}),Vi=K({is(t){return t.kind==="MergeQueryNode"},create(t,e){return K({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return K({...t,using:e})},cloneWithWhen(t,e){return K({...t,whens:t.whens?K([...t.whens,e]):K([e])})},cloneWithThen(t,e){return K({...t,whens:t.whens?K([...t.whens.slice(0,-1),Mp.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),BO=K({is(t){return t.kind==="OutputNode"},create(t){return K({kind:"OutputNode",selections:K(t)})},cloneWithSelections(t,e){return K({...t,selections:t.selections?K([...t.selections,...e]):K(e)})}}),jt=K({is(t){return zn.is(t)||ss.is(t)||pd.is(t)||Iu.is(t)||Vi.is(t)},cloneWithEndModifier(t,e){return K({...t,endModifiers:t.endModifiers?K([...t.endModifiers,e]):K([e])})},cloneWithWhere(t,e){return K({...t,where:t.where?Wi.cloneWithOperation(t.where,"And",e):Wi.create(e)})},cloneWithJoin(t,e){return K({...t,joins:t.joins?K([...t.joins,e]):K([e])})},cloneWithReturning(t,e){return K({...t,returning:t.returning?$O.cloneWithSelections(t.returning,e):$O.create(e)})},cloneWithoutReturning(t){return K({...t,returning:void 0})},cloneWithoutWhere(t){return K({...t,where:void 0})},cloneWithExplain(t,e,n){return K({...t,explain:s5.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return K({...t,top:e})},cloneWithOutput(t,e){return K({...t,output:t.output?BO.cloneWithSelections(t.output,e):BO.create(e)})}}),iP=K({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return K({kind:"ColumnUpdateNode",column:t,value:e})}});function o5(...t){return t.length===2?[iP.create(ls(t[0]),jr(t[1]))]:s1(t[0])}function s1(t){const e=gs(t)?t(tf()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>iP.create(Cr.create(n),jr(r)))}const a5=K({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return K({kind:"OnDuplicateKeyNode",updates:t})}});class l5{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class $p extends Error{node;constructor(e){super("no result"),this.node=e}}function Bp(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const rs=K({is(t){return t.kind==="OnConflictNode"},create(){return K({kind:"OnConflictNode"})},cloneWith(t,e){return K({...t,...e})},cloneWithIndexWhere(t,e){return K({...t,indexWhere:t.indexWhere?Wi.cloneWithOperation(t.indexWhere,"And",e):Wi.create(e)})},cloneWithIndexOrWhere(t,e){return K({...t,indexWhere:t.indexWhere?Wi.cloneWithOperation(t.indexWhere,"Or",e):Wi.create(e)})},cloneWithUpdateWhere(t,e){return K({...t,updateWhere:t.updateWhere?Wi.cloneWithOperation(t.updateWhere,"And",e):Wi.create(e)})},cloneWithUpdateOrWhere(t,e){return K({...t,updateWhere:t.updateWhere?Wi.cloneWithOperation(t.updateWhere,"Or",e):Wi.create(e)})},cloneWithoutIndexWhere(t){return K({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return K({...t,updateWhere:void 0})}});class $o{#e;constructor(e){this.#e=K(e)}column(e){const n=Cr.create(e);return new $o({...this.#e,onConflictNode:rs.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?K([...this.#e.onConflictNode.columns,n]):K([n])})})}columns(e){const n=e.map(Cr.create);return new $o({...this.#e,onConflictNode:rs.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?K([...this.#e.onConflictNode.columns,...n]):K(n)})})}constraint(e){return new $o({...this.#e,onConflictNode:rs.cloneWith(this.#e.onConflictNode,{constraint:ur.create(e)})})}expression(e){return new $o({...this.#e,onConflictNode:rs.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new $o({...this.#e,onConflictNode:rs.cloneWithIndexWhere(this.#e.onConflictNode,ni(e))})}whereRef(e,n,r){return new $o({...this.#e,onConflictNode:rs.cloneWithIndexWhere(this.#e.onConflictNode,Yo(e,n,r))})}clearWhere(){return new $o({...this.#e,onConflictNode:rs.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new sP({...this.#e,onConflictNode:rs.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new md({...this.#e,onConflictNode:rs.cloneWith(this.#e.onConflictNode,{updates:s1(e)})})}$call(e){return e(this)}}yn($o,"don't await OnConflictBuilder instances.");class sP{#e;constructor(e){this.#e=K(e)}toOperationNode(){return this.#e.onConflictNode}}yn(sP,"don't await OnConflictDoNothingBuilder instances.");class md{#e;constructor(e){this.#e=K(e)}where(...e){return new md({...this.#e,onConflictNode:rs.cloneWithUpdateWhere(this.#e.onConflictNode,ni(e))})}whereRef(e,n,r){return new md({...this.#e,onConflictNode:rs.cloneWithUpdateWhere(this.#e.onConflictNode,Yo(e,n,r))})}clearWhere(){return new md({...this.#e,onConflictNode:rs.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}yn(md,"don't await OnConflictUpdateBuilder instances.");const u5=K({is(t){return t.kind==="TopNode"},create(t,e){return K({kind:"TopNode",expression:t,modifiers:e})}});function ef(t,e){if(!Kv(t)&&!YE(t))throw new Error(`Invalid top expression: ${t}`);if(!Rl(e)&&!c5(e))throw new Error(`Invalid top modifiers: ${e}`);return u5.create(t,e)}function c5(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class or{#e;constructor(e){this.#e=K(e)}values(e){const[n,r]=rP(e);return new or({...this.#e,queryNode:ss.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new or({...this.#e,queryNode:ss.cloneWith(this.#e.queryNode,{columns:K(e.map(Cr.create))})})}expression(e){return new or({...this.#e,queryNode:ss.cloneWith(this.#e.queryNode,{values:ic(e)})})}defaultValues(){return new or({...this.#e,queryNode:ss.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new or({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new or({...this.#e,queryNode:ss.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new or({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}onConflict(e){return new or({...this.#e,queryNode:ss.cloneWith(this.#e.queryNode,{onConflict:e(new $o({onConflictNode:rs.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new or({...this.#e,queryNode:ss.cloneWith(this.#e.queryNode,{onDuplicateKey:a5.create(s1(e))})})}returning(e){return new or({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,wo(e))})}returningAll(){return new or({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Xo())})}output(e){return new or({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,wo(e))})}outputAll(e){return new or({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Xo(e))})}clearReturning(){return new or({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new or({...this.#e})}$castTo(){return new or(this.#e)}$narrowType(){return new or(this.#e)}$assertType(){return new or(this.#e)}withPlugin(e){return new or({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new l5(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new or({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}yn(or,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class d5{numDeletedRows;constructor(e){this.numDeletedRows=e}}const o1=K({is(t){return t.kind==="LimitNode"},create(t){return K({kind:"LimitNode",limit:t})}});class Bn{#e;constructor(e){this.#e=K(e)}where(...e){return new Bn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ni(e))})}whereRef(e,n,r){return new Bn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}clearWhere(){return new Bn({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Bn({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}using(e){return new Bn({...this.#e,queryNode:Iu.cloneWithUsing(this.#e.queryNode,Jh(e))})}innerJoin(...e){return new Bn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("InnerJoin",e))})}leftJoin(...e){return new Bn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("LeftJoin",e))})}rightJoin(...e){return new Bn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("RightJoin",e))})}fullJoin(...e){return new Bn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("FullJoin",e))})}returning(e){return new Bn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,wo(e))})}returningAll(e){return new Bn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Xo(e))})}output(e){return new Bn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,wo(e))})}outputAll(e){return new Bn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Xo(e))})}clearReturning(){return new Bn({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Bn({...this.#e,queryNode:Iu.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Bn({...this.#e,queryNode:Iu.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Bn({...this.#e,queryNode:Iu.cloneWithOrderByItems(this.#e.queryNode,Lp([e,n]))})}limit(e){return new Bn({...this.#e,queryNode:Iu.cloneWithLimit(this.#e.queryNode,o1.create(jr(e)))})}modifyEnd(e){return new Bn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Bn({...this.#e})}$castTo(){return new Bn(this.#e)}$narrowType(){return new Bn(this.#e)}$assertType(){return new Bn(this.#e)}withPlugin(e){return new Bn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new d5(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Bn({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}yn(Bn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class f5{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class Hn{#e;constructor(e){this.#e=K(e)}where(...e){return new Hn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ni(e))})}whereRef(e,n,r){return new Hn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}clearWhere(){return new Hn({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Hn({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}from(e){return new Hn({...this.#e,queryNode:pd.cloneWithFromItems(this.#e.queryNode,Jh(e))})}innerJoin(...e){return new Hn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("InnerJoin",e))})}leftJoin(...e){return new Hn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("LeftJoin",e))})}rightJoin(...e){return new Hn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("RightJoin",e))})}fullJoin(...e){return new Hn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("FullJoin",e))})}limit(e){return new Hn({...this.#e,queryNode:pd.cloneWithLimit(this.#e.queryNode,o1.create(jr(e)))})}set(...e){return new Hn({...this.#e,queryNode:pd.cloneWithUpdates(this.#e.queryNode,o5(...e))})}returning(e){return new Hn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,wo(e))})}returningAll(e){return new Hn({...this.#e,queryNode:jt.cloneWithReturning(this.#e.queryNode,Xo(e))})}output(e){return new Hn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,wo(e))})}outputAll(e){return new Hn({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Xo(e))})}modifyEnd(e){return new Hn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Hn({...this.#e,queryNode:jt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Hn({...this.#e})}$castTo(){return new Hn(this.#e)}$narrowType(){return new Hn(this.#e)}$assertType(){return new Hn(this.#e)}withPlugin(e){return new Hn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new f5(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Hn({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}yn(Hn,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const zO=K({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return K({kind:"CommonTableExpressionNameNode",table:jl.create(t),columns:e?K(e.map(Cr.create)):void 0})}}),Ly=K({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return K({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return K({...t,...e})}});class Gh{#e;constructor(e){this.#e=K(e)}materialized(){return new Gh({...this.#e,node:Ly.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new Gh({...this.#e,node:Ly.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}yn(Gh,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function WO(t,e){const n=e(E5()).toOperationNode();return gs(t)?t(h5(n)).toOperationNode():Ly.create(oP(t),n)}function h5(t){return e=>new Gh({node:Ly.create(oP(e),t)})}function oP(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return zO.create(n,r)}else return zO.create(t)}const bg=K({is(t){return t.kind==="WithNode"},create(t,e){return K({kind:"WithNode",expressions:K([t]),...e})},cloneWithExpression(t,e){return K({...t,expressions:K([...t.expressions,e])})}}),UO=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function p5(t){let e="";for(let n=0;n<t;++n)e+=m5();return e}function m5(){return UO[~~(Math.random()*UO.length)]}function Un(){return new g5}class g5{#e;get queryId(){return this.#e===void 0&&(this.#e=p5(8)),this.#e}}class aP{nodeStack=[];#e=K({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),K(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&K(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:K([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const y5=K({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class v5 extends aP{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const s of n)this.#n.add(s);const r=this.#i(e);for(const s of r)this.#t.add(s);const i=super.transformNodeImpl(e);for(const s of r)this.#t.delete(s);for(const s of n)this.#n.delete(s);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:ur.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:jl.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in y5}#i(e){const n=new Set;if("name"in e&&e.name&&Bl.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#u(e.with,n),n}#o(e,n){const r=jl.is(e)?e:Jl.is(e)&&jl.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#u(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class zp{#e;constructor(e){this.#e=new v5(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const b5=K({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return K({kind:"MatchedNode",not:t,bySource:e})}});function VO(t,e,n){return Mp.create(Fy([b5.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?Yo(e[0],e[1],e[2]):ni(e)]:[]],"and",!1))}function Ph(t){return ps(t)?ci.create([t],[]):Gi(t)?t.toOperationNode():t}class HO{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const QO=new Set;function x5(t){QO.has(t)||(QO.add(t),console.log(t))}const w5=K([]);class lP{#e;constructor(e=w5){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await this.#t(i,n);return _5(i,s),s})}async *stream(e,n,r){const i=new HO,s=new HO;this.provideConnection(async l=>(i.resolve(l),await s.promise)).catch(l=>i.reject(l));const o=await i.promise;try{for await(const l of o.streamQuery(e,n))yield await this.#t(l,r)}finally{s.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function _5(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||x5("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Xc extends lP{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Xc([...this.plugins,e])}withPlugins(e){return new Xc([...this.plugins,...e])}withPluginAtFront(e){return new Xc([e,...this.plugins])}withoutPlugins(){return new Xc([])}}const Zv=new Xc;class S5{numChangedRows;constructor(e){this.numChangedRows=e}}class Pu{#e;constructor(e){this.#e=K(e)}modifyEnd(e){return new Pu({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Pu({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}using(...e){return new us({...this.#e,queryNode:Vi.cloneWithUsing(this.#e.queryNode,Si("Using",e))})}output(e){return new Pu({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,wo(e))})}outputAll(e){return new Pu({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Xo(e))})}}yn(Pu,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class us{#e;constructor(e){this.#e=K(e)}modifyEnd(e){return new us({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new us({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new FS({...this.#e,queryNode:Vi.cloneWithWhen(this.#e.queryNode,VO({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new us({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,wo(e))})}outputAll(e){return new us({...this.#e,queryNode:jt.cloneWithOutput(this.#e.queryNode,Xo(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:Vi.cloneWithWhen(this.#e.queryNode,VO({isMatched:!1,bySource:r},e,n))},s=r?FS:uP;return new s(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new us({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new S5(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}yn(us,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class FS{#e;constructor(e){this.#e=K(e)}thenDelete(){return new us({...this.#e,queryNode:Vi.cloneWithThen(this.#e.queryNode,Ph("delete"))})}thenDoNothing(){return new us({...this.#e,queryNode:Vi.cloneWithThen(this.#e.queryNode,Ph("do nothing"))})}thenUpdate(e){return new us({...this.#e,queryNode:Vi.cloneWithThen(this.#e.queryNode,Ph(e(new Hn({queryId:this.#e.queryId,executor:Zv,queryNode:pd.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}yn(FS,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class uP{#e;constructor(e){this.#e=K(e)}thenDoNothing(){return new us({...this.#e,queryNode:Vi.cloneWithThen(this.#e.queryNode,Ph("do nothing"))})}thenInsertValues(e){const[n,r]=rP(e);return new us({...this.#e,queryNode:Vi.cloneWithThen(this.#e.queryNode,Ph(ss.cloneWith(ss.createWithoutInto(),{columns:n,values:r})))})}}yn(uP,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Sl{#e;constructor(e){this.#e=K(e)}selectFrom(e){return DS({queryId:Un(),executor:this.#e.executor,queryNode:zn.createFrom(Jh(e),this.#e.withNode)})}selectNoFrom(e){return DS({queryId:Un(),executor:this.#e.executor,queryNode:zn.cloneWithSelections(zn.create(this.#e.withNode),wo(e))})}insertInto(e){return new or({queryId:Un(),executor:this.#e.executor,queryNode:ss.create(Er(e),this.#e.withNode)})}replaceInto(e){return new or({queryId:Un(),executor:this.#e.executor,queryNode:ss.create(Er(e),this.#e.withNode,!0)})}deleteFrom(e){return new Bn({queryId:Un(),executor:this.#e.executor,queryNode:Iu.create(Jh(e),this.#e.withNode)})}updateTable(e){return new Hn({queryId:Un(),executor:this.#e.executor,queryNode:pd.create(Yh(e),this.#e.withNode)})}mergeInto(e){return new Pu({queryId:Un(),executor:this.#e.executor,queryNode:Vi.create(gP(e),this.#e.withNode)})}with(e,n){const r=WO(e,n);return new Sl({...this.#e,withNode:this.#e.withNode?bg.cloneWithExpression(this.#e.withNode,r):bg.create(r)})}withRecursive(e,n){const r=WO(e,n);return new Sl({...this.#e,withNode:this.#e.withNode?bg.cloneWithExpression(this.#e.withNode,r):bg.create(r,{recursive:!0})})}withPlugin(e){return new Sl({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Sl({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Sl({...this.#e,executor:this.#e.executor.withPluginAtFront(new zp(e))})}}function E5(){return new Sl({executor:Zv})}function N5(t,e){return new hd({joinNode:Rh.create(t,Yh(e))})}function k5(){return new Kh({overNode:PS.create()})}function Si(t,e){if(e.length===3)return C5(t,e[0],e[1],e[2]);if(e.length===2)return I5(t,e[0],e[1]);throw new Error("not implemented")}function I5(t,e,n){return n(N5(t,e)).toOperationNode()}function C5(t,e,n,r){return Rh.createWithOn(t,Yh(e),Yo(n,"=",r))}const O5=K({is(t){return t.kind==="OffsetNode"},create(t){return K({kind:"OffsetNode",offset:t})}}),T5=K({is(t){return t.kind==="GroupByItemNode"},create(t){return K({kind:"GroupByItemNode",groupBy:t})}});function q5(t){return t=gs(t)?t(tf()):t,Qh(t).map(T5.create)}const cP=K({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return K({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function zc(t,e,n){return gs(e)&&(e=e(l1())),Fa(e)||(e=[e]),e.map(r=>cP.create(t,ic(r),n))}class Qn{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new a1(this,e)}or(...e){return new My(Xd.create(this.#e,ni(e)))}and(...e){return new $y(zl.create(this.#e,ni(e)))}$castTo(){return new Qn(this.#e)}$notNull(){return new Qn(this.#e)}toOperationNode(){return this.#e}}class a1{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),Gi(this.#t)?this.#t.toOperationNode():ur.create(this.#t))}}class My{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new a1(this,e)}or(...e){return new My(Xd.create(this.#e,ni(e)))}$castTo(){return new My(this.#e)}toOperationNode(){return Od.create(this.#e)}}class $y{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new a1(this,e)}and(...e){return new $y(zl.create(this.#e,ni(e)))}$castTo(){return new $y(this.#e)}toOperationNode(){return Od.create(this.#e)}}const R5={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Jo.create(t),modifier:e}}};function A5(t,e){if(!Kv(t)&&!YE(t))throw new Error(`Invalid fetch row count: ${t}`);if(!j5(e))throw new Error(`Invalid fetch modifier: ${e}`);return R5.create(t,e)}function j5(t){return t==="only"||t==="with ties"}class tn{#e;constructor(e){this.#e=K(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new tn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,ni(e))})}whereRef(e,n,r){return new tn({...this.#e,queryNode:jt.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}having(...e){return new tn({...this.#e,queryNode:zn.cloneWithHaving(this.#e.queryNode,ni(e))})}havingRef(e,n,r){return new tn({...this.#e,queryNode:zn.cloneWithHaving(this.#e.queryNode,Yo(e,n,r))})}select(e){return new tn({...this.#e,queryNode:zn.cloneWithSelections(this.#e.queryNode,wo(e))})}distinctOn(e){return new tn({...this.#e,queryNode:zn.cloneWithDistinctOn(this.#e.queryNode,Qh(e))})}modifyFront(e){return new tn({...this.#e,queryNode:zn.cloneWithFrontModifier(this.#e.queryNode,xa.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.createWithExpression(e.toOperationNode()))})}distinct(){return new tn({...this.#e,queryNode:zn.cloneWithFrontModifier(this.#e.queryNode,xa.create("Distinct"))})}forUpdate(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("ForUpdate",e?vg(e).map(Er):void 0))})}forShare(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("ForShare",e?vg(e).map(Er):void 0))})}forKeyShare(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("ForKeyShare",e?vg(e).map(Er):void 0))})}forNoKeyUpdate(e){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("ForNoKeyUpdate",e?vg(e).map(Er):void 0))})}skipLocked(){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("SkipLocked"))})}noWait(){return new tn({...this.#e,queryNode:jt.cloneWithEndModifier(this.#e.queryNode,xa.create("NoWait"))})}selectAll(e){return new tn({...this.#e,queryNode:zn.cloneWithSelections(this.#e.queryNode,Xo(e))})}innerJoin(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("InnerJoin",e))})}leftJoin(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("LeftJoin",e))})}rightJoin(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("RightJoin",e))})}fullJoin(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("FullJoin",e))})}innerJoinLateral(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("LateralInnerJoin",e))})}leftJoinLateral(...e){return new tn({...this.#e,queryNode:jt.cloneWithJoin(this.#e.queryNode,Si("LateralLeftJoin",e))})}orderBy(...e){return new tn({...this.#e,queryNode:zn.cloneWithOrderByItems(this.#e.queryNode,Lp(e))})}groupBy(e){return new tn({...this.#e,queryNode:zn.cloneWithGroupByItems(this.#e.queryNode,q5(e))})}limit(e){return new tn({...this.#e,queryNode:zn.cloneWithLimit(this.#e.queryNode,o1.create(jr(e)))})}offset(e){return new tn({...this.#e,queryNode:zn.cloneWithOffset(this.#e.queryNode,O5.create(jr(e)))})}fetch(e,n="only"){return new tn({...this.#e,queryNode:zn.cloneWithFetch(this.#e.queryNode,A5(e,n))})}top(e,n){return new tn({...this.#e,queryNode:jt.cloneWithTop(this.#e.queryNode,ef(e,n))})}union(e){return new tn({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,zc("union",e,!1))})}unionAll(e){return new tn({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,zc("union",e,!0))})}intersect(e){return new tn({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,zc("intersect",e,!1))})}intersectAll(e){return new tn({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,zc("intersect",e,!0))})}except(e){return new tn({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,zc("except",e,!1))})}exceptAll(e){return new tn({...this.#e,queryNode:zn.cloneWithSetOperations(this.#e.queryNode,zc("except",e,!0))})}as(e){return new dP(this,e)}clearSelect(){return new tn({...this.#e,queryNode:zn.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new tn({...this.#e,queryNode:jt.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new tn({...this.#e,queryNode:zn.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new tn({...this.#e,queryNode:zn.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new tn({...this.#e,queryNode:zn.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new tn({...this.#e,queryNode:zn.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new tn({...this.#e})}$castTo(){return new tn(this.#e)}$narrowType(){return new tn(this.#e)}$assertType(){return new tn(this.#e)}$asTuple(){return new Qn(this.toOperationNode())}withPlugin(e){return new tn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=$p){const n=await this.executeTakeFirst();if(n===void 0)throw Bp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new tn({...this.#e,queryNode:jt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}yn(tn,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function DS(t){return new tn(t)}class dP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Jl.create(this.#e.toOperationNode(),ur.create(this.#t))}}yn(dP,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const El=K({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return K({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return K({...t,distinct:!0})},cloneWithOrderBy(t,e){return K({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithFilter(t,e){return K({...t,filter:t.filter?Wi.cloneWithOperation(t.filter,"And",e):Wi.create(e)})},cloneWithOrFilter(t,e){return K({...t,filter:t.filter?Wi.cloneWithOperation(t.filter,"Or",e):Wi.create(e)})},cloneWithOver(t,e){return K({...t,over:e})}}),KO=K({is(t){return t.kind==="FunctionNode"},create(t,e){return K({kind:"FunctionNode",func:t,arguments:e})}});class Ps{#e;constructor(e){this.#e=K(e)}get expressionType(){}as(e){return new P5(this,e)}distinct(){return new Ps({...this.#e,aggregateFunctionNode:El.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new Ps({...this.#e,aggregateFunctionNode:El.cloneWithOrderBy(this.#e.aggregateFunctionNode,Lp([e,n]))})}filterWhere(...e){return new Ps({...this.#e,aggregateFunctionNode:El.cloneWithFilter(this.#e.aggregateFunctionNode,ni(e))})}filterWhereRef(e,n,r){return new Ps({...this.#e,aggregateFunctionNode:El.cloneWithFilter(this.#e.aggregateFunctionNode,Yo(e,n,r))})}over(e){const n=k5();return new Ps({...this.#e,aggregateFunctionNode:El.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Ps(this.#e)}$notNull(){return new Ps(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}yn(Ps,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class P5{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),ur.create(this.#t))}}function fP(){const t=(n,r)=>new Qn(KO.create(n,Qh(r??[]))),e=(n,r)=>new Ps({aggregateFunctionNode:El.create(n,r?Qh(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new Ps({aggregateFunctionNode:El.create("count",Xo(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new Ps({aggregateFunctionNode:El.create("json_agg",[ps(n)?Er(n):n.toOperationNode()])})},toJson(n){return new Qn(KO.create("to_json",[ps(n)?Er(n):n.toOperationNode()]))}})}const F5=K({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return K({kind:"UnaryOperationNode",operator:t,operand:e})}});function D5(t,e){return F5.create(Wl.create(t),ls(e))}const Wo=K({is(t){return t.kind==="CaseNode"},create(t){return K({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return K({...t,when:K(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return K({...t,when:t.when?K([...t.when.slice(0,-1),Mp.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return K({...t,...e})}});class hP{#e;constructor(e){this.#e=K(e)}when(...e){return new pP({...this.#e,node:Wo.cloneWithWhen(this.#e.node,Mp.create(ni(e)))})}}class pP{#e;constructor(e){this.#e=K(e)}then(e){return new L5({...this.#e,node:Wo.cloneWithThen(this.#e.node,n1(e)?r1(e):jr(e))})}}class L5{#e;constructor(e){this.#e=K(e)}when(...e){return new pP({...this.#e,node:Wo.cloneWithWhen(this.#e.node,Mp.create(ni(e)))})}else(e){return new M5({...this.#e,node:Wo.cloneWith(this.#e.node,{else:n1(e)?r1(e):jr(e)})})}end(){return new Qn(Wo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Qn(Wo.cloneWith(this.#e.node,{isStatement:!0}))}}class M5{#e;constructor(e){this.#e=K(e)}end(){return new Qn(Wo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Qn(Wo.cloneWith(this.#e.node,{isStatement:!0}))}}const GO=K({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return K({kind:"JSONPathLegNode",type:t,value:e})}});class LS{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return jy.is(this.#e)?new Zh(jy.cloneWithTraversal(this.#e,Ah.is(this.#e.traversal)?Ah.cloneWithLeg(this.#e.traversal,GO.create(e,n)):Yj.cloneWithValue(this.#e.traversal,Jo.createImmediate(n)))):new Zh(Ah.cloneWithLeg(this.#e,GO.create(e,n)))}}class Zh extends LS{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new $5(this,e)}$castTo(){return new Zh(this.#e)}$notNull(){return new Zh(this.#e)}toOperationNode(){return this.#e}}class $5{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),Gi(this.#t)?this.#t.toOperationNode():ur.create(this.#t))}}const ZO=K({is(t){return t.kind==="TupleNode"},create(t){return K({kind:"TupleNode",values:K(t)})}}),B5=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],z5=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],W5=K({is(t){return t.kind==="DataTypeNode"},create(t){return K({kind:"DataTypeNode",dataType:t})}});function U5(t){return!!(B5.includes(t)||z5.some(e=>e.test(t)))}function Hu(t){if(Gi(t))return t.toOperationNode();if(U5(t))return W5.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const V5=K({is(t){return t.kind==="CastNode"},create(t,e){return K({kind:"CastNode",expression:t,dataType:e})}});function l1(t=Zv){function e(i,s,o){return new Qn(i1(i,s,o))}function n(i,s){return new Qn(D5(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return DS({queryId:Un(),executor:t,queryNode:zn.createFrom(Jh(i))})},case(i){return new hP({node:Wo.create(Rl(i)?void 0:ls(i))})},ref(i,s){return Rl(s)?new Qn(Da(i)):new LS(VV(i,s))},jsonPath(){return new LS(Ah.create())},table(i){return new Qn(Er(i))},val(i){return new Qn(jr(i))},refTuple(...i){return new Qn(ZO.create(i.map(ls)))},tuple(...i){return new Qn(ZO.create(i.map(jr)))},lit(i){return new Qn(r1(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new Qn(Cd.create(ls(i),Wl.create("between"),zl.create(jr(s),jr(o))))},betweenSymmetric(i,s,o){return new Qn(Cd.create(ls(i),Wl.create("between symmetric"),zl.create(jr(s),jr(o))))},and(i){return Fa(i)?new Qn(Fy(i,"and")):new Qn(RO(i,"and"))},or(i){return Fa(i)?new Qn(Fy(i,"or")):new Qn(RO(i,"or"))},parens(...i){const s=ni(i);return Od.is(s)?new Qn(s):new Qn(Od.create(s))},cast(i,s){return new Qn(V5.create(ls(i),Hu(s)))},withSchema(i){return l1(t.withPluginAtFront(new zp(i)))}});return r.fn=fP(),r.eb=r,r}function tf(t){return l1()}function ic(t){if(Gi(t))return t.toOperationNode();if(gs(t))return t(tf()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function mP(t){if(Gi(t))return t.toOperationNode();if(gs(t))return t(tf()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Wp(t){return PV(t)||FV(t)||gs(t)}function Jh(t){return Fa(t)?t.map(e=>Yh(e)):[Yh(t)]}function Yh(t){return ps(t)?gP(t):mP(t)}function gP(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(yP);return Jl.create(Er(n),ur.create(r))}else return Er(t)}function Er(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(yP);return jl.createWithSchema(n,r)}else return jl.create(t)}function yP(t){return t.trim()}const vP=K({is(t){return t.kind==="AddColumnNode"},create(t){return K({kind:"AddColumnNode",column:t})}}),ar=K({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return K({kind:"ColumnDefinitionNode",column:Cr.create(t),dataType:e})},cloneWithFrontModifier(t,e){return K({...t,frontModifiers:t.frontModifiers?K([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return K({...t,endModifiers:t.endModifiers?K([...t.endModifiers,e]):[e]})},cloneWith(t,e){return K({...t,...e})}}),bP=K({is(t){return t.kind==="DropColumnNode"},create(t){return K({kind:"DropColumnNode",column:Cr.create(t)})}}),xP=K({is(t){return t.kind==="RenameColumnNode"},create(t,e){return K({kind:"RenameColumnNode",column:Cr.create(t),renameTo:Cr.create(e)})}}),u1=K({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return K({kind:"CheckConstraintNode",expression:t,name:e?ur.create(e):void 0})}}),H5=["no action","restrict","cascade","set null","set default"],ey=K({is(t){return t.kind==="ReferencesNode"},create(t,e){return K({kind:"ReferencesNode",table:t,columns:K([...e])})},cloneWithOnDelete(t,e){return K({...t,onDelete:e})},cloneWithOnUpdate(t,e){return K({...t,onUpdate:e})}});function wP(t){return Gi(t)?t.toOperationNode():Jo.createImmediate(t)}const xg=K({is(t){return t.kind==="GeneratedNode"},create(t){return K({kind:"GeneratedNode",...t})},createWithExpression(t){return K({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return K({...t,...e})}}),Q5=K({is(t){return t.kind==="DefaultValueNode"},create(t){return K({kind:"DefaultValueNode",defaultValue:t})}});function By(t){if(H5.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Yn{#e;constructor(e){this.#e=e}autoIncrement(){return new Yn(ar.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Yn(ar.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Yn(ar.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=Da(e);if(!n.table||XE.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Yn(ar.cloneWith(this.#e,{references:ey.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Yn(ar.cloneWith(this.#e,{references:ey.cloneWithOnDelete(this.#e.references,By(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Yn(ar.cloneWith(this.#e,{references:ey.cloneWithOnUpdate(this.#e.references,By(e))}))}unique(){return new Yn(ar.cloneWith(this.#e,{unique:!0}))}notNull(){return new Yn(ar.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Yn(ar.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Yn(ar.cloneWith(this.#e,{defaultTo:Q5.create(wP(e))}))}check(e){return new Yn(ar.cloneWith(this.#e,{check:u1.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Yn(ar.cloneWith(this.#e,{generated:xg.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Yn(ar.cloneWith(this.#e,{generated:xg.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Yn(ar.cloneWith(this.#e,{generated:xg.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Yn(ar.cloneWith(this.#e,{generated:xg.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Yn(ar.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Yn(ar.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Yn(ar.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Yn(ar.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}yn(Yn,"don't await ColumnDefinitionBuilder instances directly.");const _P=K({is(t){return t.kind==="ModifyColumnNode"},create(t){return K({kind:"ModifyColumnNode",column:t})}}),zy=K({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return K({kind:"ForeignKeyConstraintNode",columns:t,references:ey.create(e,n),name:r?ur.create(r):void 0})},cloneWith(t,e){return K({...t,...e})}});class Td{#e;constructor(e){this.#e=e}onDelete(e){return new Td(zy.cloneWith(this.#e,{onDelete:By(e)}))}onUpdate(e){return new Td(zy.cloneWith(this.#e,{onUpdate:By(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}yn(Td,"don't await ForeignKeyConstraintBuilder instances directly.");const ty=K({is(t){return t.kind==="AddConstraintNode"},create(t){return K({kind:"AddConstraintNode",constraint:t})}}),c1=K({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return K({kind:"UniqueConstraintNode",columns:K(t.map(Cr.create)),name:e?ur.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return K({...t,...e})}}),ny=K({is(t){return t.kind==="DropConstraintNode"},create(t){return K({kind:"DropConstraintNode",constraintName:ur.create(t)})},cloneWith(t,e){return K({...t,...e})}}),nh=K({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return K({kind:"AlterColumnNode",column:Cr.create(t),[e]:n})}});class d1{#e;constructor(e){this.#e=e}setDataType(e){return new Gc(nh.create(this.#e,"dataType",Hu(e)))}setDefault(e){return new Gc(nh.create(this.#e,"setDefault",wP(e)))}dropDefault(){return new Gc(nh.create(this.#e,"dropDefault",!0))}setNotNull(){return new Gc(nh.create(this.#e,"setNotNull",!0))}dropNotNull(){return new Gc(nh.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}yn(d1,"don't await AlterColumnBuilder instances");class Gc{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}yn(Gc,"don't await AlteredColumnBuilder instances");class Su{#e;constructor(e){this.#e=K(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(Su,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class Xh{#e;constructor(e){this.#e=K(e)}onDelete(e){return new Xh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new Xh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Wn.cloneWithTableProps(this.#e.node,{addConstraint:ty.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(Xh,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class gd{#e;constructor(e){this.#e=K(e)}ifExists(){return new gd({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:ny.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new gd({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:ny.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new gd({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:ny.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(gd,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const SP=K({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return K({kind:"PrimaryKeyConstraintNode",columns:K(t.map(Cr.create)),name:e?ur.create(e):void 0})}}),Zc=K({is(t){return t.kind==="AddIndexNode"},create(t){return K({kind:"AddIndexNode",name:ur.create(t)})},cloneWith(t,e){return K({...t,...e})},cloneWithColumns(t,e){return K({...t,columns:[...t.columns||[],...e]})}});class Nl{#e;constructor(e){this.#e=K(e)}unique(){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWithColumns(this.#e.node.addIndex,[Py(e)])})})}columns(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWithColumns(this.#e.node.addIndex,e.map(Py))})})}expression(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Zc.cloneWith(this.#e.node.addIndex,{using:ci.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(Nl,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class Up{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new Up(c1.cloneWith(this.#e,{nullsNotDistinct:!0}))}}yn(Up,"don't await UniqueConstraintNodeBuilder instances directly.");class EP{#e;constructor(e){this.#e=K(e)}renameTo(e){return new Su({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{renameTo:Er(e)})})}setSchema(e){return new Su({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{setSchema:ur.create(e)})})}alterColumn(e,n){const r=n(new d1(e));return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,bP.create(e))})}renameColumn(e,n){return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,xP.create(e,n))})}addColumn(e,n,r=Al){const i=r(new Yn(ar.create(e,Hu(n))));return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,vP.create(i.toOperationNode()))})}modifyColumn(e,n,r=Al){const i=r(new Yn(ar.create(e,Hu(n))));return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,_P.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=Al){const i=r(new Up(c1.create(n,e)));return new Su({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:ty.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new Su({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:ty.create(u1.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new Xh({...this.#e,constraintBuilder:new Td(zy.create(n.map(Cr.create),Er(r),i.map(Cr.create),e))})}addPrimaryKeyConstraint(e,n){return new Su({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:ty.create(SP.create(n,e))})})}dropConstraint(e){return new gd({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:ny.create(e)})})}addIndex(e){return new Nl({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:Zc.create(e)})})}dropIndex(e){return new Su({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropIndex:qh.create(e)})})}$call(e){return e(this)}}yn(EP,"don't await AlterTableBuilder instances");class Ds{#e;constructor(e){this.#e=K(e)}alterColumn(e,n){const r=n(new d1(e));return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,bP.create(e))})}renameColumn(e,n){return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,xP.create(e,n))})}addColumn(e,n,r=Al){const i=r(new Yn(ar.create(e,Hu(n))));return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,vP.create(i.toOperationNode()))})}modifyColumn(e,n,r=Al){const i=r(new Yn(ar.create(e,Hu(n))));return new Ds({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,_P.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(Ds,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class NP extends aP{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class As{#e;constructor(e){this.#e=K(e)}ifNotExists(){return new As({...this.#e,node:Ea.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new As({...this.#e,node:Ea.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new As({...this.#e,node:Ea.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new As({...this.#e,node:Ea.cloneWith(this.#e.node,{table:Er(e)})})}column(e){return new As({...this.#e,node:Ea.cloneWithColumns(this.#e.node,[Py(e)])})}columns(e){return new As({...this.#e,node:Ea.cloneWithColumns(this.#e.node,e.map(Py))})}expression(e){return new As({...this.#e,node:Ea.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new As({...this.#e,node:Ea.cloneWith(this.#e.node,{using:ci.createWithSql(e)})})}where(...e){const n=new NP;return new As({...this.#e,node:jt.cloneWithWhere(this.#e.node,n.transformNode(ni(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(As,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Jv{#e;constructor(e){this.#e=K(e)}ifNotExists(){return new Jv({...this.#e,node:Qj.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(Jv,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function K5(t){if(jV.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class $i{#e;constructor(e){this.#e=K(e)}temporary(){return new $i({...this.#e,node:ns.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new $i({...this.#e,node:ns.cloneWith(this.#e.node,{onCommit:K5(e)})})}ifNotExists(){return new $i({...this.#e,node:ns.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=Al){const i=r(new Yn(ar.create(e,Hu(n))));return new $i({...this.#e,node:ns.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new $i({...this.#e,node:ns.cloneWithConstraint(this.#e.node,SP.create(n,e))})}addUniqueConstraint(e,n,r=Al){const i=r(new Up(c1.create(n,e)));return new $i({...this.#e,node:ns.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new $i({...this.#e,node:ns.cloneWithConstraint(this.#e.node,u1.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,s=Al){const o=s(new Td(zy.create(n.map(Cr.create),Er(r),i.map(Cr.create),e)));return new $i({...this.#e,node:ns.cloneWithConstraint(this.#e.node,o.toOperationNode())})}modifyFront(e){return new $i({...this.#e,node:ns.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new $i({...this.#e,node:ns.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new $i({...this.#e,node:ns.cloneWith(this.#e.node,{selectQuery:ic(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn($i,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class yd{#e;constructor(e){this.#e=K(e)}on(e){return new yd({...this.#e,node:qh.cloneWith(this.#e.node,{table:Er(e)})})}ifExists(){return new yd({...this.#e,node:qh.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new yd({...this.#e,node:qh.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(yd,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class ep{#e;constructor(e){this.#e=K(e)}ifExists(){return new ep({...this.#e,node:qS.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new ep({...this.#e,node:qS.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(ep,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class tp{#e;constructor(e){this.#e=K(e)}ifExists(){return new tp({...this.#e,node:RS.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new tp({...this.#e,node:RS.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(tp,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const bl=K({is(t){return t.kind==="CreateViewNode"},create(t){return K({kind:"CreateViewNode",name:Bl.create(t)})},cloneWith(t,e){return K({...t,...e})}});class G5{#e=new NP;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Ca{#e;constructor(e){this.#e=K(e)}temporary(){return new Ca({...this.#e,node:bl.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Ca({...this.#e,node:bl.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Ca({...this.#e,node:bl.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Ca({...this.#e,node:bl.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Ca({...this.#e,node:bl.cloneWith(this.#e.node,{columns:e.map(eP)})})}as(e){const n=e.withPlugin(new G5).toOperationNode();return new Ca({...this.#e,node:bl.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(Ca,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const ry=K({is(t){return t.kind==="DropViewNode"},create(t){return K({kind:"DropViewNode",name:Bl.create(t)})},cloneWith(t,e){return K({...t,...e})}});class vd{#e;constructor(e){this.#e=K(e)}materialized(){return new vd({...this.#e,node:ry.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new vd({...this.#e,node:ry.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new vd({...this.#e,node:ry.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(vd,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const kP=K({is(t){return t.kind==="CreateTypeNode"},create(t){return K({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return K({...t,enum:t1.create(e.map(n=>Jo.createImmediate(n)))})}});class Yv{#e;constructor(e){this.#e=K(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Yv({...this.#e,node:kP.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(Yv,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const IP=K({is(t){return t.kind==="DropTypeNode"},create(t){return K({kind:"DropTypeNode",name:t})},cloneWith(t,e){return K({...t,...e})}});class Xv{#e;constructor(e){this.#e=K(e)}ifExists(){return new Xv({...this.#e,node:IP.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}yn(Xv,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function JO(t){const e=".";if(t.includes(e)){const n=t.split(e).map(Z5);if(n.length===2)return Bl.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return Bl.create(t)}function Z5(t){return t.trim()}class Fh{#e;constructor(e){this.#e=e}createTable(e){return new $i({queryId:Un(),executor:this.#e,node:ns.create(Er(e))})}dropTable(e){return new tp({queryId:Un(),executor:this.#e,node:RS.create(Er(e))})}createIndex(e){return new As({queryId:Un(),executor:this.#e,node:Ea.create(e)})}dropIndex(e){return new yd({queryId:Un(),executor:this.#e,node:qh.create(e)})}createSchema(e){return new Jv({queryId:Un(),executor:this.#e,node:Qj.create(e)})}dropSchema(e){return new ep({queryId:Un(),executor:this.#e,node:qS.create(e)})}alterTable(e){return new EP({queryId:Un(),executor:this.#e,node:Wn.create(Er(e))})}createView(e){return new Ca({queryId:Un(),executor:this.#e,node:bl.create(e)})}dropView(e){return new vd({queryId:Un(),executor:this.#e,node:ry.create(e)})}createType(e){return new Yv({queryId:Un(),executor:this.#e,node:kP.create(JO(e))})}dropType(e){return new Xv({queryId:Un(),executor:this.#e,node:IP.create(JO(e))})}withPlugin(e){return new Fh(this.#e.withPlugin(e))}withoutPlugins(){return new Fh(this.#e.withoutPlugins())}withSchema(e){return new Fh(this.#e.withPluginAtFront(new zp(e)))}}class J5{ref(e){return new WV(e)}}class Y5{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class Cu extends lP{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new Cu(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new Cu(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new Cu(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new Cu(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Cu(this.#e,this.#t,this.#n,[])}}function YO(){return typeof performance<"u"&&gs(performance.now)?performance.now():Date.now()}class X5{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const s=YO();try{return await n.call(e,r)}catch(o){throw i=o,await this.#u(o,r,s),o}finally{i||await this.#l(r,s)}}}async #u(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#c(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(n)}))}#c(e){return YO()-e}}const e8=()=>{};class CP{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(e8);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const t8=["read uncommitted","read committed","repeatable read","serializable","snapshot"];K(["query","error"]);class n8{#e;#t;constructor(e){gs(e)?(this.#t=e,this.#e=K({query:!0,error:!0})):(this.#t=r8,this.#e=K({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function r8(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function i8(t){return Bo(t)&&gs(t.compile)}let f1=class gh extends Sl{#e;constructor(e){let n,r;if(s8(e))n={executor:e.executor},r={...e};else{const i=e.dialect,s=i.createDriver(),o=i.createQueryCompiler(),l=i.createAdapter(),c=new n8(e.log??[]),d=new X5(s,c),f=new Y5(d),h=new Cu(o,l,f,e.plugins??[]);n={executor:h},r={config:e,executor:h,dialect:i,driver:d}}super(n),this.#e=K(r)}get schema(){return new Fh(this.#e.executor)}get dynamic(){return new J5}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new hP({node:Wo.create(Rl(e)?void 0:ic(e))})}get fn(){return fP()}transaction(){return new eb({...this.#e})}connection(){return new OP({...this.#e})}withPlugin(e){return new gh({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new gh({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new gh({...this.#e,executor:this.#e.executor.withPluginAtFront(new zp(e))})}withTables(){return new gh({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=Un()){const r=i8(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}};class ed extends f1{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new ed({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new ed({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new ed({...this.#e,executor:this.#e.executor.withPluginAtFront(new zp(e))})}withTables(){return new ed({...this.#e})}}function s8(t){return Bo(t)&&Bo(t.config)&&Bo(t.driver)&&Bo(t.executor)&&Bo(t.dialect)}class OP{#e;constructor(e){this.#e=K(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new CP(n)),i=new f1({...this.#e,executor:r});return await e(i)})}}yn(OP,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class eb{#e;constructor(e){this.#e=K(e)}setIsolationLevel(e){return new eb({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return o8(i),this.#e.executor.provideConnection(async s=>{const o=this.#e.executor.withConnectionProvider(new CP(s)),l=new ed({...r,executor:o});try{await this.#e.driver.beginTransaction(s,i);const c=await e(l);return await this.#e.driver.commitTransaction(s),c}catch(c){throw await this.#e.driver.rollbackTransaction(s),c}})}}yn(eb,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function o8(t){if(t.isolationLevel&&!t8.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class bd{#e;constructor(e){this.#e=K(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new TP(this,e)}$castTo(){return new bd({...this.#e})}$notNull(){return new bd(this.#e)}withPlugin(e){return new bd({...this.#e,plugins:this.#e.plugins!==void 0?K([...this.#e.plugins,e]):K([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():Zv;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function hl(t){return new bd(t)}yn(bd,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class TP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return Jl.create(this.#e.toOperationNode(),Gi(this.#t)?this.#t.toOperationNode():ur.create(this.#t))}}yn(TP,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Vr=Object.assign((t,...e)=>hl({queryId:Un(),rawNode:ci.create(t,e?.map(XO)??[])}),{ref(t){return hl({queryId:Un(),rawNode:ci.createWithChild(Da(t))})},val(t){return hl({queryId:Un(),rawNode:ci.createWithChild(jr(t))})},value(t){return this.val(t)},table(t){return hl({queryId:Un(),rawNode:ci.createWithChild(Er(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",hl({queryId:Un(),rawNode:ci.create(e,t.map(ur.create))})},lit(t){return hl({queryId:Un(),rawNode:ci.createWithChild(Jo.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return hl({queryId:Un(),rawNode:ci.createWithSql(t)})},join(t,e=Vr`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=XO(t[i]),i!==t.length-1&&(n[2*i+1]=r);return hl({queryId:Un(),rawNode:ci.createWithChildren(n)})}});function XO(t){return Gi(t)?t.toOperationNode():jr(t)}class a8{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=K({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class l8 extends a8{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),K({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!Od.is(this.parentNode)&&!ss.is(this.parentNode)&&!ns.is(this.parentNode)&&!bl.is(this.parentNode)&&!cP.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(jt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!Vi.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!Vi.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(jt.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!ps(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(c8[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(jt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!Vi.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!Vi.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),Ay(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(u8[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return Wl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const s of e)i+=s,s===n?i+=n:s===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(ps(e))this.append(`'${e}'`);else if(Kv(e)||Ay(e))this.append(e.toString());else if(JE(e))this.append("null");else if(AV(e))this.appendImmediateValue(e.toISOString());else if(YE(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?eT[n.modifier]-eT[r.modifier]:1),K(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const u8=K({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),eT=K({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),c8=K({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class d8{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const f8=/"/g;class h8 extends l8{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(f8,'""')}visitDefaultInsertValue(e){this.append("null")}}const p8="kysely_migration",m8="kysely_migration_lock";K({__noMigrations__:!0});class g8{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",p8).where("name","!=",m8));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(o=>o.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),s=await n.selectFrom(Vr`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:s.map(o=>({name:o.name,dataType:o.type,isNullable:!o.notnull,isAutoIncrementing:o.name===i,hasDefaultValue:o.dflt_value!=null,comment:void 0}))}}}class y8 extends d8{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const Ia={jsonObject(t){const e=Vr.join(Object.entries(t).map(([n,r])=>Vr`${n}, ${r}`));return Vr`json_object(${e})`},jsonGroupArray(t){return Vr`json_group_array(${Ia.jsonObject(t)})`}},qP={hash(t){return TS.sha224(t)},verify(t,e){return TS.sha224(t)===e}};var En;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(En||(En={}));var MS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(MS||(MS={}));const At=En.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Oa=t=>{switch(typeof t){case"undefined":return At.undefined;case"string":return At.string;case"number":return isNaN(t)?At.nan:At.number;case"boolean":return At.boolean;case"function":return At.function;case"bigint":return At.bigint;case"symbol":return At.symbol;case"object":return Array.isArray(t)?At.array:t===null?At.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?At.promise:typeof Map<"u"&&t instanceof Map?At.map:typeof Set<"u"&&t instanceof Set?At.set:typeof Date<"u"&&t instanceof Date?At.date:At.object;default:return At.unknown}},yt=En.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),v8=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class hs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof hs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,En.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}hs.create=t=>new hs(t);const qd=(t,e)=>{let n;switch(t.code){case yt.invalid_type:t.received===At.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,En.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${En.joinValues(t.keys,", ")}`;break;case yt.invalid_union:n="Invalid input";break;case yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${En.joinValues(t.options)}`;break;case yt.invalid_enum_value:n=`Invalid enum value. Expected ${En.joinValues(t.options)}, received '${t.received}'`;break;case yt.invalid_arguments:n="Invalid function arguments";break;case yt.invalid_return_type:n="Invalid function return type";break;case yt.invalid_date:n="Invalid date";break;case yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:En.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case yt.custom:n="Invalid input";break;case yt.invalid_intersection_types:n="Intersection results could not be merged";break;case yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,En.assertNever(t)}return{message:n}};let RP=qd;function b8(t){RP=t}function Wy(){return RP}const Uy=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},x8=[];function It(t,e){const n=Wy(),r=Uy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qd?void 0:qd].filter(i=>!!i)});t.common.issues.push(r)}class pi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return rn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return pi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return rn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const rn=Object.freeze({status:"aborted"}),td=t=>({status:"dirty",value:t}),Ci=t=>({status:"valid",value:t}),$S=t=>t.status==="aborted",BS=t=>t.status==="dirty",Qu=t=>t.status==="valid",np=t=>typeof Promise<"u"&&t instanceof Promise;function Vy(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function AP(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Vt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Vt||(Vt={}));var yh,vh;class ea{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tT=(t,e)=>{if(Qu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hs(t.common.issues);return this._error=n,this._error}}};function pn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,d;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class bn{get description(){return this._def.description}_getType(e){return Oa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Oa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pi,ctx:{common:e.parent.common,data:e.data,parsedType:Oa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(np(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oa(e)},s=this._parseSync({data:e,path:i.path,parent:i});return tT(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oa(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Qu(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Qu(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oa(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await (np(i)?i:Promise.resolve(i));return tT(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new _o({schema:this,typeName:nn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ho.create(this,this._def)}nullable(){return Kl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vo.create(this)}promise(){return Ad.create(this,this._def)}or(e){return op.create([this,e],this._def)}and(e){return ap.create(this,e,this._def)}transform(e){return new _o({...pn(this._def),schema:this,typeName:nn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new fp({...pn(this._def),innerType:this,defaultValue:n,typeName:nn.ZodDefault})}brand(){return new h1({typeName:nn.ZodBranded,type:this,...pn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hp({...pn(this._def),innerType:this,catchValue:n,typeName:nn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Vp.create(this,e)}readonly(){return pp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const w8=/^c[^\s-]{8,}$/i,_8=/^[0-9a-z]+$/,S8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,E8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N8=/^[a-z0-9_-]{21}$/i,k8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,I8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,O8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let N_;const T8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,R8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,j8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,jP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",F8=new RegExp(`^${jP}$`);function PP(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function D8(t){return new RegExp(`^${PP(t)}$`)}function FP(t){let e=`${jP}T${PP(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function L8(t,e){return!!((e==="v4"||!e)&&T8.test(t)||(e==="v6"||!e)&&R8.test(t))}function M8(t,e){if(!k8.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function $8(t,e){return!!((e==="v4"||!e)&&q8.test(t)||(e==="v6"||!e)&&A8.test(t))}class go extends bn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==At.string){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.string,received:s.parsedType}),rn}const r=new pi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")C8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"email",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")N_||(N_=new RegExp(O8,"u")),N_.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")E8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")N8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"nanoid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")w8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")_8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")S8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),It(i,{validation:"url",code:yt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"regex",code:yt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?FP(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?F8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?D8(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?I8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"duration",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?L8(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ip",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?M8(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"jwt",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?$8(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cidr",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?j8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?P8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64url",code:yt.invalid_string,message:s.message}),r.dirty()):En.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:yt.invalid_string,...Vt.errToObj(r)})}_addCheck(e){return new go({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Vt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Vt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Vt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Vt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Vt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Vt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Vt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Vt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Vt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Vt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Vt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Vt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Vt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Vt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Vt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Vt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Vt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Vt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Vt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Vt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Vt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Vt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Vt.errToObj(n)})}nonempty(e){return this.min(1,Vt.errToObj(e))}trim(){return new go({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new go({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new go({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}go.create=t=>{var e;return new go({checks:[],typeName:nn.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...pn(t)})};function B8(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Vl extends bn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==At.number){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.number,received:s.parsedType}),rn}let r;const i=new pi;for(const s of this._def.checks)s.kind==="int"?En.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?B8(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_finite,message:s.message}),i.dirty()):En.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Vt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Vt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Vt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Vt.toString(n))}setLimit(e,n,r,i){return new Vl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Vt.toString(i)}]})}_addCheck(e){return new Vl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Vt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Vt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Vt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Vt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Vt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&En.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Vl.create=t=>new Vl({checks:[],typeName:nn.ZodNumber,coerce:t?.coerce||!1,...pn(t)});class Hl extends bn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==At.bigint)return this._getInvalidInput(e);let r;const i=new pi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):En.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:At.bigint,received:n.parsedType}),rn}gte(e,n){return this.setLimit("min",e,!0,Vt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Vt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Vt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Vt.toString(n))}setLimit(e,n,r,i){return new Hl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Vt.toString(i)}]})}_addCheck(e){return new Hl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hl.create=t=>{var e;return new Hl({checks:[],typeName:nn.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...pn(t)})};class rp extends bn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==At.boolean){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.boolean,received:r.parsedType}),rn}return Ci(e.data)}}rp.create=t=>new rp({typeName:nn.ZodBoolean,coerce:t?.coerce||!1,...pn(t)});class Ku extends bn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==At.date){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.date,received:s.parsedType}),rn}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_date}),rn}const r=new pi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):En.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ku({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Vt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Vt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ku.create=t=>new Ku({checks:[],coerce:t?.coerce||!1,typeName:nn.ZodDate,...pn(t)});class Hy extends bn{_parse(e){if(this._getType(e)!==At.symbol){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.symbol,received:r.parsedType}),rn}return Ci(e.data)}}Hy.create=t=>new Hy({typeName:nn.ZodSymbol,...pn(t)});class ip extends bn{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.undefined,received:r.parsedType}),rn}return Ci(e.data)}}ip.create=t=>new ip({typeName:nn.ZodUndefined,...pn(t)});class sp extends bn{_parse(e){if(this._getType(e)!==At.null){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.null,received:r.parsedType}),rn}return Ci(e.data)}}sp.create=t=>new sp({typeName:nn.ZodNull,...pn(t)});class Rd extends bn{constructor(){super(...arguments),this._any=!0}_parse(e){return Ci(e.data)}}Rd.create=t=>new Rd({typeName:nn.ZodAny,...pn(t)});class $u extends bn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ci(e.data)}}$u.create=t=>new $u({typeName:nn.ZodUnknown,...pn(t)});class La extends bn{_parse(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:At.never,received:n.parsedType}),rn}}La.create=t=>new La({typeName:nn.ZodNever,...pn(t)});class Qy extends bn{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.void,received:r.parsedType}),rn}return Ci(e.data)}}Qy.create=t=>new Qy({typeName:nn.ZodVoid,...pn(t)});class vo extends bn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==At.array)return It(n,{code:yt.invalid_type,expected:At.array,received:n.parsedType}),rn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(It(n,{code:o?yt.too_big:yt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(It(n,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(It(n,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new ea(n,o,n.path,l)))).then(o=>pi.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new ea(n,o,n.path,l)));return pi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new vo({...this._def,minLength:{value:e,message:Vt.toString(n)}})}max(e,n){return new vo({...this._def,maxLength:{value:e,message:Vt.toString(n)}})}length(e,n){return new vo({...this._def,exactLength:{value:e,message:Vt.toString(n)}})}nonempty(e){return this.min(1,e)}}vo.create=(t,e)=>new vo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:nn.ZodArray,...pn(e)});function Jc(t){if(t instanceof yr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ho.create(Jc(r))}return new yr({...t._def,shape:()=>e})}else return t instanceof vo?new vo({...t._def,type:Jc(t.element)}):t instanceof Ho?Ho.create(Jc(t.unwrap())):t instanceof Kl?Kl.create(Jc(t.unwrap())):t instanceof ta?ta.create(t.items.map(e=>Jc(e))):t}class yr extends bn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=En.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==At.object){const d=this._getOrReturnCtx(e);return It(d,{code:yt.invalid_type,expected:At.object,received:d.parsedType}),rn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof La&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=s[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new ea(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof La){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(It(i,{code:yt.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const h=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new ea(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const h=await f.key,b=await f.value;d.push({key:h,value:b,alwaysSet:f.alwaysSet})}return d}).then(d=>pi.mergeObjectSync(r,d)):pi.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Vt.errToObj,new yr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Vt.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new yr({...this._def,unknownKeys:"strip"})}passthrough(){return new yr({...this._def,unknownKeys:"passthrough"})}extend(e){return new yr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new yr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new yr({...this._def,catchall:e})}pick(e){const n={};return En.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new yr({...this._def,shape:()=>n})}omit(e){const n={};return En.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new yr({...this._def,shape:()=>n})}deepPartial(){return Jc(this)}partial(e){const n={};return En.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new yr({...this._def,shape:()=>n})}required(e){const n={};return En.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ho;)s=s._def.innerType;n[r]=s}}),new yr({...this._def,shape:()=>n})}keyof(){return DP(En.objectKeys(this.shape))}}yr.create=(t,e)=>new yr({shape:()=>t,unknownKeys:"strip",catchall:La.create(),typeName:nn.ZodObject,...pn(e)});yr.strictCreate=(t,e)=>new yr({shape:()=>t,unknownKeys:"strict",catchall:La.create(),typeName:nn.ZodObject,...pn(e)});yr.lazycreate=(t,e)=>new yr({shape:t,unknownKeys:"strip",catchall:La.create(),typeName:nn.ZodObject,...pn(e)});class op extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new hs(l.ctx.common.issues));return It(n,{code:yt.invalid_union,unionErrors:o}),rn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new hs(c));return It(n,{code:yt.invalid_union,unionErrors:l}),rn}}get options(){return this._def.options}}op.create=(t,e)=>new op({options:t,typeName:nn.ZodUnion,...pn(e)});const Na=t=>t instanceof up?Na(t.schema):t instanceof _o?Na(t.innerType()):t instanceof cp?[t.value]:t instanceof Ql?t.options:t instanceof dp?En.objectValues(t.enum):t instanceof fp?Na(t._def.innerType):t instanceof ip?[void 0]:t instanceof sp?[null]:t instanceof Ho?[void 0,...Na(t.unwrap())]:t instanceof Kl?[null,...Na(t.unwrap())]:t instanceof h1||t instanceof pp?Na(t.unwrap()):t instanceof hp?Na(t._def.innerType):[];class tb extends bn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.object)return It(n,{code:yt.invalid_type,expected:At.object,received:n.parsedType}),rn;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(It(n,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),rn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Na(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new tb({typeName:nn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...pn(r)})}}function zS(t,e){const n=Oa(t),r=Oa(e);if(t===e)return{valid:!0,data:t};if(n===At.object&&r===At.object){const i=En.objectKeys(e),s=En.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=zS(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===At.array&&r===At.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=zS(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===At.date&&r===At.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ap extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if($S(s)||$S(o))return rn;const l=zS(s.value,o.value);return l.valid?((BS(s)||BS(o))&&n.dirty(),{status:n.value,value:l.data}):(It(r,{code:yt.invalid_intersection_types}),rn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ap.create=(t,e,n)=>new ap({left:t,right:e,typeName:nn.ZodIntersection,...pn(n)});class ta extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.array)return It(r,{code:yt.invalid_type,expected:At.array,received:r.parsedType}),rn;if(r.data.length<this._def.items.length)return It(r,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rn;!this._def.rest&&r.data.length>this._def.items.length&&(It(r,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ea(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>pi.mergeArray(n,o)):pi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ta({...this._def,rest:e})}}ta.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ta({items:t,typeName:nn.ZodTuple,rest:null,...pn(e)})};class lp extends bn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.object)return It(r,{code:yt.invalid_type,expected:At.object,received:r.parsedType}),rn;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new ea(r,l,r.path,l)),value:o._parse(new ea(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?pi.mergeObjectAsync(n,i):pi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof bn?new lp({keyType:e,valueType:n,typeName:nn.ZodRecord,...pn(r)}):new lp({keyType:go.create(),valueType:e,typeName:nn.ZodRecord,...pn(n)})}}class Ky extends bn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.map)return It(r,{code:yt.invalid_type,expected:At.map,received:r.parsedType}),rn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new ea(r,l,r.path,[d,"key"])),value:s._parse(new ea(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return rn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return rn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}Ky.create=(t,e,n)=>new Ky({valueType:e,keyType:t,typeName:nn.ZodMap,...pn(n)});class Gu extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.set)return It(r,{code:yt.invalid_type,expected:At.set,received:r.parsedType}),rn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(It(r,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(It(r,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return rn;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>s._parse(new ea(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Gu({...this._def,minSize:{value:e,message:Vt.toString(n)}})}max(e,n){return new Gu({...this._def,maxSize:{value:e,message:Vt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Gu.create=(t,e)=>new Gu({valueType:t,minSize:null,maxSize:null,typeName:nn.ZodSet,...pn(e)});class xd extends bn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.function)return It(n,{code:yt.invalid_type,expected:At.function,received:n.parsedType}),rn;function r(l,c){return Uy({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Wy(),qd].filter(d=>!!d),issueData:{code:yt.invalid_arguments,argumentsError:c}})}function i(l,c){return Uy({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Wy(),qd].filter(d=>!!d),issueData:{code:yt.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ad){const l=this;return Ci(async function(...c){const d=new hs([]),f=await l._def.args.parseAsync(c,s).catch(x=>{throw d.addIssue(r(c,x)),d}),h=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(h,s).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return Ci(function(...c){const d=l._def.args.safeParse(c,s);if(!d.success)throw new hs([r(c,d.error)]);const f=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(f,s);if(!h.success)throw new hs([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xd({...this._def,args:ta.create(e).rest($u.create())})}returns(e){return new xd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new xd({args:e||ta.create([]).rest($u.create()),returns:n||$u.create(),typeName:nn.ZodFunction,...pn(r)})}}class up extends bn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}up.create=(t,e)=>new up({getter:t,typeName:nn.ZodLazy,...pn(e)});class cp extends bn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return It(n,{received:n.data,code:yt.invalid_literal,expected:this._def.value}),rn}return{status:"valid",value:e.data}}get value(){return this._def.value}}cp.create=(t,e)=>new cp({value:t,typeName:nn.ZodLiteral,...pn(e)});function DP(t,e){return new Ql({values:t,typeName:nn.ZodEnum,...pn(e)})}class Ql extends bn{constructor(){super(...arguments),yh.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{expected:En.joinValues(r),received:n.parsedType,code:yt.invalid_type}),rn}if(Vy(this,yh)||AP(this,yh,new Set(this._def.values)),!Vy(this,yh).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{received:n.data,code:yt.invalid_enum_value,options:r}),rn}return Ci(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ql.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ql.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}yh=new WeakMap;Ql.create=DP;class dp extends bn{constructor(){super(...arguments),vh.set(this,void 0)}_parse(e){const n=En.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==At.string&&r.parsedType!==At.number){const i=En.objectValues(n);return It(r,{expected:En.joinValues(i),received:r.parsedType,code:yt.invalid_type}),rn}if(Vy(this,vh)||AP(this,vh,new Set(En.getValidEnumValues(this._def.values))),!Vy(this,vh).has(e.data)){const i=En.objectValues(n);return It(r,{received:r.data,code:yt.invalid_enum_value,options:i}),rn}return Ci(e.data)}get enum(){return this._def.values}}vh=new WeakMap;dp.create=(t,e)=>new dp({values:t,typeName:nn.ZodNativeEnum,...pn(e)});class Ad extends bn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.promise&&n.common.async===!1)return It(n,{code:yt.invalid_type,expected:At.promise,received:n.parsedType}),rn;const r=n.parsedType===At.promise?n.data:Promise.resolve(n.data);return Ci(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ad.create=(t,e)=>new Ad({type:t,typeName:nn.ZodPromise,...pn(e)});class _o extends bn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{It(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return rn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?rn:c.status==="dirty"||n.value==="dirty"?td(c.value):c});{if(n.value==="aborted")return rn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?rn:l.status==="dirty"||n.value==="dirty"?td(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?rn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?rn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Qu(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Qu(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);En.assertNever(i)}}_o.create=(t,e,n)=>new _o({schema:t,typeName:nn.ZodEffects,effect:e,...pn(n)});_o.createWithPreprocess=(t,e,n)=>new _o({schema:e,effect:{type:"preprocess",transform:t},typeName:nn.ZodEffects,...pn(n)});class Ho extends bn{_parse(e){return this._getType(e)===At.undefined?Ci(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ho.create=(t,e)=>new Ho({innerType:t,typeName:nn.ZodOptional,...pn(e)});class Kl extends bn{_parse(e){return this._getType(e)===At.null?Ci(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Kl.create=(t,e)=>new Kl({innerType:t,typeName:nn.ZodNullable,...pn(e)});class fp extends bn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===At.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fp.create=(t,e)=>new fp({innerType:t,typeName:nn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...pn(e)});class hp extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return np(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hp.create=(t,e)=>new hp({innerType:t,typeName:nn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...pn(e)});class Gy extends bn{_parse(e){if(this._getType(e)!==At.nan){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.nan,received:r.parsedType}),rn}return{status:"valid",value:e.data}}}Gy.create=t=>new Gy({typeName:nn.ZodNaN,...pn(t)});const z8=Symbol("zod_brand");class h1 extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Vp extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?rn:s.status==="dirty"?(n.dirty(),td(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?rn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Vp({in:e,out:n,typeName:nn.ZodPipeline})}}class pp extends bn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Qu(i)&&(i.value=Object.freeze(i.value)),i);return np(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}pp.create=(t,e)=>new pp({innerType:t,typeName:nn.ZodReadonly,...pn(e)});function LP(t,e={},n){return t?Rd.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...d,fatal:c})}}):Rd.create()}const W8={object:yr.lazycreate};var nn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(nn||(nn={}));const U8=(t,e={message:`Input not instance of ${t.name}`})=>LP(n=>n instanceof t,e),MP=go.create,$P=Vl.create,V8=Gy.create,H8=Hl.create,BP=rp.create,Q8=Ku.create,K8=Hy.create,G8=ip.create,Z8=sp.create,J8=Rd.create,Y8=$u.create,X8=La.create,eH=Qy.create,tH=vo.create,nH=yr.create,rH=yr.strictCreate,iH=op.create,sH=tb.create,oH=ap.create,aH=ta.create,lH=lp.create,uH=Ky.create,cH=Gu.create,dH=xd.create,fH=up.create,hH=cp.create,pH=Ql.create,mH=dp.create,gH=Ad.create,nT=_o.create,yH=Ho.create,vH=Kl.create,bH=_o.createWithPreprocess,xH=Vp.create,wH=()=>MP().optional(),_H=()=>$P().optional(),SH=()=>BP().optional(),EH={string:t=>go.create({...t,coerce:!0}),number:t=>Vl.create({...t,coerce:!0}),boolean:t=>rp.create({...t,coerce:!0}),bigint:t=>Hl.create({...t,coerce:!0}),date:t=>Ku.create({...t,coerce:!0})},NH=rn;var ne=Object.freeze({__proto__:null,defaultErrorMap:qd,setErrorMap:b8,getErrorMap:Wy,makeIssue:Uy,EMPTY_PATH:x8,addIssueToContext:It,ParseStatus:pi,INVALID:rn,DIRTY:td,OK:Ci,isAborted:$S,isDirty:BS,isValid:Qu,isAsync:np,get util(){return En},get objectUtil(){return MS},ZodParsedType:At,getParsedType:Oa,ZodType:bn,datetimeRegex:FP,ZodString:go,ZodNumber:Vl,ZodBigInt:Hl,ZodBoolean:rp,ZodDate:Ku,ZodSymbol:Hy,ZodUndefined:ip,ZodNull:sp,ZodAny:Rd,ZodUnknown:$u,ZodNever:La,ZodVoid:Qy,ZodArray:vo,ZodObject:yr,ZodUnion:op,ZodDiscriminatedUnion:tb,ZodIntersection:ap,ZodTuple:ta,ZodRecord:lp,ZodMap:Ky,ZodSet:Gu,ZodFunction:xd,ZodLazy:up,ZodLiteral:cp,ZodEnum:Ql,ZodNativeEnum:dp,ZodPromise:Ad,ZodEffects:_o,ZodTransformer:_o,ZodOptional:Ho,ZodNullable:Kl,ZodDefault:fp,ZodCatch:hp,ZodNaN:Gy,BRAND:z8,ZodBranded:h1,ZodPipeline:Vp,ZodReadonly:pp,custom:LP,Schema:bn,ZodSchema:bn,late:W8,get ZodFirstPartyTypeKind(){return nn},coerce:EH,any:J8,array:tH,bigint:H8,boolean:BP,date:Q8,discriminatedUnion:sH,effect:nT,enum:pH,function:dH,instanceof:U8,intersection:oH,lazy:fH,literal:hH,map:uH,nan:V8,nativeEnum:mH,never:X8,null:Z8,nullable:vH,number:$P,object:nH,oboolean:SH,onumber:_H,optional:yH,ostring:wH,pipeline:xH,preprocess:bH,promise:gH,record:lH,set:cH,strictObject:rH,string:MP,symbol:K8,transformer:nT,tuple:aH,undefined:G8,union:iH,unknown:Y8,void:eH,NEVER:NH,ZodIssueCode:yt,quotelessJson:v8,ZodError:hs});const kH=ne.object({page:ne.number().gte(0,"Page must be greater than zero"),size:ne.number().gte(1,"Page size must be greater than one to get any data")}),Ws=ne.object({id:ne.string().min(1)}),p1=ne.object({message:ne.string()}),Io=ne.object({id:ne.string().optional(),idIn:ne.array(ne.string()).optional(),fulltext:ne.string().optional()}),IH=ne.enum(["asc","desc"]),Ui=()=>ne.union([ne.boolean(),ne.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),Zu=()=>ne.union([ne.number().nonnegative(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t))]),wd=()=>ne.union([ne.number().int().nonnegative(),ne.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t))]),hi=t=>ne.string().transform(e=>JSON.parse(e)).refine(e=>Array.isArray(e)).transform(e=>ne.array(t).parse(e)),CH=t=>ne.string().transform(e=>JSON.parse(e)).transform(e=>t.parse(e)),WS=new Proxy(()=>WS,{get:()=>WS}),Co=({entity:t,shape:e,filter:n,sort:r})=>{const i=WS();return{entity:t,"~entity":i,"~entity-array":[],"~entity-partial-exclude-id":i,shape:e,"~shape":i,"~shape-partial":i,filter:n,"~filter":i,sort:ne.array(ne.object({name:ne.enum(r),sort:IH})),"~sort":i,"~sort-keyof":i}},pl=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),OH=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:pl(1,i),start:[],end:[]};const o=Math.max(t-n,r),l=Math.min(t+n,i-r),c=o>r+2,d=l<i-(r+1);return!c&&d?{type:"end",page:t,total:e,start:[],pages:pl(1,n*2+r+2),end:pl(e-(r-1),i)}:c&&!d?{type:"start",page:t,total:e,start:pl(1,r),pages:pl(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:pl(1,r),pages:pl(o,l),end:pl(i-r+1,i)}};var Wc={},wa={},Jn={},ml={},rT;function zP(){if(rT)return ml;rT=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.anumber=t,ml.abytes=n,ml.ahash=r,ml.aexists=i,ml.aoutput=s;function t(o){if(!Number.isSafeInteger(o)||o<0)throw new Error("positive integer expected, got "+o)}function e(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function n(o,...l){if(!e(o))throw new Error("Uint8Array expected");if(l.length>0&&!l.includes(o.length))throw new Error("Uint8Array expected of length "+l+", got length="+o.length)}function r(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(o.outputLen),t(o.blockLen)}function i(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function s(o,l){n(o);const c=l.outputLen;if(o.length<c)throw new Error("digestInto() expects output buffer of length at least "+c)}return ml}var un={},iT;function TH(){if(iT)return un;iT=1,Object.defineProperty(un,"__esModule",{value:!0}),un.add5L=un.add5H=un.add4H=un.add4L=un.add3H=un.add3L=un.rotlBL=un.rotlBH=un.rotlSL=un.rotlSH=un.rotr32L=un.rotr32H=un.rotrBL=un.rotrBH=un.rotrSL=un.rotrSH=un.shrSL=un.shrSH=un.toBig=void 0,un.fromBig=n,un.split=r,un.add=T;const t=BigInt(2**32-1),e=BigInt(32);function n(R,B=!1){return B?{h:Number(R&t),l:Number(R>>e&t)}:{h:Number(R>>e&t)|0,l:Number(R&t)|0}}function r(R,B=!1){let F=new Uint32Array(R.length),W=new Uint32Array(R.length);for(let U=0;U<R.length;U++){const{h:$,l:X}=n(R[U],B);[F[U],W[U]]=[$,X]}return[F,W]}const i=(R,B)=>BigInt(R>>>0)<<e|BigInt(B>>>0);un.toBig=i;const s=(R,B,F)=>R>>>F;un.shrSH=s;const o=(R,B,F)=>R<<32-F|B>>>F;un.shrSL=o;const l=(R,B,F)=>R>>>F|B<<32-F;un.rotrSH=l;const c=(R,B,F)=>R<<32-F|B>>>F;un.rotrSL=c;const d=(R,B,F)=>R<<64-F|B>>>F-32;un.rotrBH=d;const f=(R,B,F)=>R>>>F-32|B<<64-F;un.rotrBL=f;const h=(R,B)=>B;un.rotr32H=h;const b=(R,B)=>R;un.rotr32L=b;const x=(R,B,F)=>R<<F|B>>>32-F;un.rotlSH=x;const _=(R,B,F)=>B<<F|R>>>32-F;un.rotlSL=_;const N=(R,B,F)=>B<<F-32|R>>>64-F;un.rotlBH=N;const I=(R,B,F)=>R<<F-32|B>>>64-F;un.rotlBL=I;function T(R,B,F,W){const U=(B>>>0)+(W>>>0);return{h:R+F+(U/2**32|0)|0,l:U|0}}const O=(R,B,F)=>(R>>>0)+(B>>>0)+(F>>>0);un.add3L=O;const q=(R,B,F,W)=>B+F+W+(R/2**32|0)|0;un.add3H=q;const j=(R,B,F,W)=>(R>>>0)+(B>>>0)+(F>>>0)+(W>>>0);un.add4L=j;const D=(R,B,F,W,U)=>B+F+W+U+(R/2**32|0)|0;un.add4H=D;const L=(R,B,F,W,U)=>(R>>>0)+(B>>>0)+(F>>>0)+(W>>>0)+(U>>>0);un.add5L=L;const z=(R,B,F,W,U,$)=>B+F+W+U+$+(R/2**32|0)|0;un.add5H=z;const P={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:l,rotrSL:c,rotrBH:d,rotrBL:f,rotr32H:h,rotr32L:b,rotlSH:x,rotlSL:_,rotlBH:N,rotlBL:I,add:T,add3L:O,add3H:q,add4L:j,add4H:D,add5H:z,add5L:L};return un.default=P,un}var k_={},rh={},sT;function qH(){return sT||(sT=1,Object.defineProperty(rh,"__esModule",{value:!0}),rh.crypto=void 0,rh.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),rh}var oT;function RH(){return oT||(oT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=r,t.byteSwap32=f,t.bytesToHex=b,t.hexToBytes=N,t.asyncLoop=T,t.utf8ToBytes=O,t.toBytes=q,t.concatBytes=j,t.checkOpts=L,t.wrapConstructor=z,t.wrapConstructorWithOpts=P,t.wrapXOFConstructorWithOpts=R,t.randomBytes=B;const e=qH(),n=zP();function r(F){return F instanceof Uint8Array||ArrayBuffer.isView(F)&&F.constructor.name==="Uint8Array"}const i=F=>new Uint8Array(F.buffer,F.byteOffset,F.byteLength);t.u8=i;const s=F=>new Uint32Array(F.buffer,F.byteOffset,Math.floor(F.byteLength/4));t.u32=s;const o=F=>new DataView(F.buffer,F.byteOffset,F.byteLength);t.createView=o;const l=(F,W)=>F<<32-W|F>>>W;t.rotr=l;const c=(F,W)=>F<<W|F>>>32-W>>>0;t.rotl=c,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const d=F=>F<<24&0xff000000|F<<8&0xff0000|F>>>8&65280|F>>>24&255;t.byteSwap=d,t.byteSwapIfBE=t.isLE?F=>F:F=>(0,t.byteSwap)(F);function f(F){for(let W=0;W<F.length;W++)F[W]=(0,t.byteSwap)(F[W])}const h=Array.from({length:256},(F,W)=>W.toString(16).padStart(2,"0"));function b(F){(0,n.abytes)(F);let W="";for(let U=0;U<F.length;U++)W+=h[F[U]];return W}const x={_0:48,_9:57,A:65,F:70,a:97,f:102};function _(F){if(F>=x._0&&F<=x._9)return F-x._0;if(F>=x.A&&F<=x.F)return F-(x.A-10);if(F>=x.a&&F<=x.f)return F-(x.a-10)}function N(F){if(typeof F!="string")throw new Error("hex string expected, got "+typeof F);const W=F.length,U=W/2;if(W%2)throw new Error("hex string expected, got unpadded hex of length "+W);const $=new Uint8Array(U);for(let X=0,Z=0;X<U;X++,Z+=2){const ae=_(F.charCodeAt(Z)),ie=_(F.charCodeAt(Z+1));if(ae===void 0||ie===void 0){const ee=F[Z]+F[Z+1];throw new Error('hex string expected, got non-hex character "'+ee+'" at index '+Z)}$[X]=ae*16+ie}return $}const I=async()=>{};t.nextTick=I;async function T(F,W,U){let $=Date.now();for(let X=0;X<F;X++){U(X);const Z=Date.now()-$;Z>=0&&Z<W||(await (0,t.nextTick)(),$+=Z)}}function O(F){if(typeof F!="string")throw new Error("utf8ToBytes expected string, got "+typeof F);return new Uint8Array(new TextEncoder().encode(F))}function q(F){return typeof F=="string"&&(F=O(F)),(0,n.abytes)(F),F}function j(...F){let W=0;for(let $=0;$<F.length;$++){const X=F[$];(0,n.abytes)(X),W+=X.length}const U=new Uint8Array(W);for(let $=0,X=0;$<F.length;$++){const Z=F[$];U.set(Z,X),X+=Z.length}return U}class D{clone(){return this._cloneInto()}}t.Hash=D;function L(F,W){if(W!==void 0&&{}.toString.call(W)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(F,W)}function z(F){const W=$=>F().update(q($)).digest(),U=F();return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=()=>F(),W}function P(F){const W=($,X)=>F(X).update(q($)).digest(),U=F({});return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=$=>F($),W}function R(F){const W=($,X)=>F(X).update(q($)).digest(),U=F({});return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=$=>F($),W}function B(F=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(F));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(F);throw new Error("crypto.getRandomValues must be defined")}}(k_)),k_}var aT;function AH(){if(aT)return Jn;aT=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.shake256=Jn.shake128=Jn.keccak_512=Jn.keccak_384=Jn.keccak_256=Jn.keccak_224=Jn.sha3_512=Jn.sha3_384=Jn.sha3_256=Jn.sha3_224=Jn.Keccak=void 0,Jn.keccakP=I;const t=zP(),e=TH(),n=RH(),r=[],i=[],s=[],o=BigInt(0),l=BigInt(1),c=BigInt(2),d=BigInt(7),f=BigInt(256),h=BigInt(113);for(let j=0,D=l,L=1,z=0;j<24;j++){[L,z]=[z,(2*L+3*z)%5],r.push(2*(5*z+L)),i.push((j+1)*(j+2)/2%64);let P=o;for(let R=0;R<7;R++)D=(D<<l^(D>>d)*h)%f,D&c&&(P^=l<<(l<<BigInt(R))-l);s.push(P)}const[b,x]=(0,e.split)(s,!0),_=(j,D,L)=>L>32?(0,e.rotlBH)(j,D,L):(0,e.rotlSH)(j,D,L),N=(j,D,L)=>L>32?(0,e.rotlBL)(j,D,L):(0,e.rotlSL)(j,D,L);function I(j,D=24){const L=new Uint32Array(10);for(let z=24-D;z<24;z++){for(let B=0;B<10;B++)L[B]=j[B]^j[B+10]^j[B+20]^j[B+30]^j[B+40];for(let B=0;B<10;B+=2){const F=(B+8)%10,W=(B+2)%10,U=L[W],$=L[W+1],X=_(U,$,1)^L[F],Z=N(U,$,1)^L[F+1];for(let ae=0;ae<50;ae+=10)j[B+ae]^=X,j[B+ae+1]^=Z}let P=j[2],R=j[3];for(let B=0;B<24;B++){const F=i[B],W=_(P,R,F),U=N(P,R,F),$=r[B];P=j[$],R=j[$+1],j[$]=W,j[$+1]=U}for(let B=0;B<50;B+=10){for(let F=0;F<10;F++)L[F]=j[B+F];for(let F=0;F<10;F++)j[B+F]^=~L[(F+2)%10]&L[(F+4)%10]}j[0]^=b[z],j[1]^=x[z]}L.fill(0)}class T extends n.Hash{constructor(D,L,z,P=!1,R=24){if(super(),this.blockLen=D,this.suffix=L,this.outputLen=z,this.enableXOF=P,this.rounds=R,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),I(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(D){(0,t.aexists)(this);const{blockLen:L,state:z}=this;D=(0,n.toBytes)(D);const P=D.length;for(let R=0;R<P;){const B=Math.min(L-this.pos,P-R);for(let F=0;F<B;F++)z[this.pos++]^=D[R++];this.pos===L&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:D,suffix:L,pos:z,blockLen:P}=this;D[z]^=L,L&128&&z===P-1&&this.keccak(),D[P-1]^=128,this.keccak()}writeInto(D){(0,t.aexists)(this,!1),(0,t.abytes)(D),this.finish();const L=this.state,{blockLen:z}=this;for(let P=0,R=D.length;P<R;){this.posOut>=z&&this.keccak();const B=Math.min(z-this.posOut,R-P);D.set(L.subarray(this.posOut,this.posOut+B),P),this.posOut+=B,P+=B}return D}xofInto(D){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(D)}xof(D){return(0,t.anumber)(D),this.xofInto(new Uint8Array(D))}digestInto(D){if((0,t.aoutput)(D,this),this.finished)throw new Error("digest() was already called");return this.writeInto(D),this.destroy(),D}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(D){const{blockLen:L,suffix:z,outputLen:P,rounds:R,enableXOF:B}=this;return D||(D=new T(L,z,P,B,R)),D.state32.set(this.state32),D.pos=this.pos,D.posOut=this.posOut,D.finished=this.finished,D.rounds=R,D.suffix=z,D.outputLen=P,D.enableXOF=B,D.destroyed=this.destroyed,D}}Jn.Keccak=T;const O=(j,D,L)=>(0,n.wrapConstructor)(()=>new T(D,j,L));Jn.sha3_224=O(6,144,224/8),Jn.sha3_256=O(6,136,256/8),Jn.sha3_384=O(6,104,384/8),Jn.sha3_512=O(6,72,512/8),Jn.keccak_224=O(1,144,224/8),Jn.keccak_256=O(1,136,256/8),Jn.keccak_384=O(1,104,384/8),Jn.keccak_512=O(1,72,512/8);const q=(j,D,L)=>(0,n.wrapXOFConstructorWithOpts)((z={})=>new T(D,j,z.dkLen===void 0?L:z.dkLen,!0));return Jn.shake128=q(31,168,128/8),Jn.shake256=q(31,136,256/8),Jn}var lT;function jH(){if(lT)return wa;lT=1;const{sha3_512:t}=AH(),e=24,n=32,r=(_=4,N=Math.random)=>{let I="";for(;I.length<_;)I=I+Math.floor(N()*36).toString(36);return I};function i(_){let N=8n,I=0n;for(const T of _.values()){const O=BigInt(T);I=(I<<N)+O}return I}const s=(_="")=>i(t(_)).toString(36).slice(1),o=Array.from({length:26},(_,N)=>String.fromCharCode(N+97)),l=_=>o[Math.floor(_()*o.length)],c=({globalObj:_=typeof Tu<"u"?Tu:typeof window<"u"?window:{},random:N=Math.random}={})=>{const I=Object.keys(_).toString(),T=I.length?I+r(n,N):r(n,N);return s(T).substring(0,n)},d=_=>()=>_++,f=0x1c6b1f1f,h=({random:_=Math.random,counter:N=d(Math.floor(_()*f)),length:I=e,fingerprint:T=c({random:_})}={})=>function(){const q=l(_),j=Date.now().toString(36),D=N().toString(36),L=r(I,_),z=`${j+L+D+T}`;return`${q+s(z).substring(1,I)}`},b=h(),x=(_,{minLength:N=2,maxLength:I=n}={})=>{const T=_.length,O=/^[0-9a-z]+$/;try{if(typeof _=="string"&&T>=N&&T<=I&&O.test(_))return!0}finally{}return!1};return wa.getConstants=()=>({defaultLength:e,bigLength:n}),wa.init=h,wa.createId=b,wa.bufToBigInt=i,wa.createCounter=d,wa.createFingerprint=c,wa.isCuid=x,wa}var uT;function PH(){if(uT)return Wc;uT=1;const{createId:t,init:e,getConstants:n,isCuid:r}=jH();return Wc.createId=t,Wc.init=e,Wc.getConstants=n,Wc.isCuid=r,Wc}var FH=PH();const Kn=FH.createId;var I_,cT;function DH(){if(cT)return I_;cT=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(O){O!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(q){try{var j=t.call(q);return i.test(j)}catch{return!1}},o=function(q){try{return s(q)?!1:(t.call(q),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",d="[object Function]",f="[object GeneratorFunction]",h="[object HTMLAllCollection]",b="[object HTML document.all class]",x="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,N=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var T=document.all;l.call(T)===l.call(document.all)&&(I=function(q){if((N||!q)&&(typeof q>"u"||typeof q=="object"))try{var j=l.call(q);return(j===h||j===b||j===x||j===c)&&q("")==null}catch{}return!1})}return I_=e?function(q){if(I(q))return!0;if(!q||typeof q!="function"&&typeof q!="object")return!1;try{e(q,null,n)}catch(j){if(j!==r)return!1}return!s(q)&&o(q)}:function(q){if(I(q))return!0;if(!q||typeof q!="function"&&typeof q!="object")return!1;if(_)return o(q);if(s(q))return!1;var j=l.call(q);return j!==d&&j!==f&&!/^\[object HTML/.test(j)?!1:o(q)},I_}var LH=DH();const MH=zs(LH),$H=t=>MH(t);var iy={exports:{}},BH=iy.exports,dT;function zH(){return dT||(dT=1,function(t){(function(e,n){t.exports=n()})(BH,function(){var e=Object.prototype.toString;function n(h,b){return h==null?!1:Object.prototype.hasOwnProperty.call(h,b)}function r(h){if(!h||o(h)&&h.length===0)return!0;if(typeof h!="string"){for(var b in h)if(n(h,b))return!1;return!0}return!1}function i(h){return e.call(h)}function s(h){return typeof h=="object"&&i(h)==="[object Object]"}var o=Array.isArray||function(h){return e.call(h)==="[object Array]"};function l(h){return typeof h=="boolean"||i(h)==="[object Boolean]"}function c(h){var b=parseInt(h);return b.toString()===h?b:h}function d(h){h=h||{};var b=function(T){return Object.keys(b).reduce(function(O,q){return q==="create"||typeof b[q]=="function"&&(O[q]=b[q].bind(b,T)),O},{})},x;h.includeInheritedProps?x=function(){return!0}:x=function(T,O){return typeof O=="number"&&Array.isArray(T)||n(T,O)};function _(T,O){if(x(T,O))return T[O]}var N;h.includeInheritedProps?N=function(T,O){typeof O!="string"&&typeof O!="number"&&(O=String(O));var q=_(T,O);if(O==="__proto__"||O==="prototype"||O==="constructor"&&typeof q=="function")throw new Error("For security reasons, object's magic properties cannot be set");return q}:N=function(T,O){return _(T,O)};function I(T,O,q,j){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return T;if(typeof O=="string")return I(T,O.split(".").map(c),q,j);var D=O[0],L=N(T,D);return O.length===1?((L===void 0||!j)&&(T[D]=q),L):(L===void 0&&(typeof O[1]=="number"?T[D]=[]:T[D]={}),I(T[D],O.slice(1),q,j))}return b.has=function(T,O){if(typeof O=="number"?O=[O]:typeof O=="string"&&(O=O.split(".")),!O||O.length===0)return!!T;for(var q=0;q<O.length;q++){var j=c(O[q]);if(typeof j=="number"&&o(T)&&j<T.length||(h.includeInheritedProps?j in Object(T):n(T,j)))T=T[j];else return!1}return!0},b.ensureExists=function(T,O,q){return I(T,O,q,!0)},b.set=function(T,O,q,j){return I(T,O,q,j)},b.insert=function(T,O,q,j){var D=b.get(T,O);j=~~j,o(D)||(D=[],b.set(T,O,D)),D.splice(j,0,q)},b.empty=function(T,O){if(!r(O)&&T!=null){var q,j;if(q=b.get(T,O)){if(typeof q=="string")return b.set(T,O,"");if(l(q))return b.set(T,O,!1);if(typeof q=="number")return b.set(T,O,0);if(o(q))q.length=0;else if(s(q))for(j in q)x(q,j)&&delete q[j];else return b.set(T,O,null)}}},b.push=function(T,O){var q=b.get(T,O);o(q)||(q=[],b.set(T,O,q)),q.push.apply(q,Array.prototype.slice.call(arguments,2))},b.coalesce=function(T,O,q){for(var j,D=0,L=O.length;D<L;D++)if((j=b.get(T,O[D]))!==void 0)return j;return q},b.get=function(T,O,q){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return T;if(T==null)return q;if(typeof O=="string")return b.get(T,O.split("."),q);var j=c(O[0]),D=N(T,j);return D===void 0?q:O.length===1?D:b.get(T[j],O.slice(1),q)},b.del=function(O,q){if(typeof q=="number"&&(q=[q]),O==null||r(q))return O;if(typeof q=="string")return b.del(O,q.split("."));var j=c(q[0]);if(N(O,j),!x(O,j))return O;if(q.length===1)o(O)?O.splice(j,1):delete O[j];else return b.del(O[j],q.slice(1));return O},b}var f=d();return f.create=d,f.withInheritedProps=d({includeInheritedProps:!0}),f})}(iy)),iy.exports}var WH=zH();const fT=zs(WH);function Ln({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const m1=({error:t,errors:e,onError:n})=>{const r=e.some(s=>s),i=t instanceof Error;return!r&&i&&n(t),r||i},WP=mn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),UH=mn({use:WP,slot:{},variant:{},defaults:{}}),US=({icon:t,iconProps:e,variant:n,tva:r=UH,css:i,children:s,...o})=>{const l=r({...n,css:i}).slots;return m.jsxs("div",{className:l.base(),...o,children:[Qv(t)?m.jsx(Xt,{icon:t,...e}):t,s]})};function nb(){return typeof window<"u"}function Yl(t){return UP(t)?(t.nodeName||"").toLowerCase():"#document"}function Ki(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ra(t){var e;return(e=(UP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function UP(t){return nb()?t instanceof Node||t instanceof Ki(t).Node:!1}function Xn(t){return nb()?t instanceof Element||t instanceof Ki(t).Element:!1}function Pr(t){return nb()?t instanceof HTMLElement||t instanceof Ki(t).HTMLElement:!1}function VS(t){return!nb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ki(t).ShadowRoot}function Hp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function VH(t){return["table","td","th"].includes(Yl(t))}function rb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function g1(t){const e=ib(),n=Xn(t)?Bs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function HH(t){let e=Ma(t);for(;Pr(e)&&!Ra(e);){if(g1(e))return e;if(rb(e))return null;e=Ma(e)}return null}function ib(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ra(t){return["html","body","#document"].includes(Yl(t))}function Bs(t){return Ki(t).getComputedStyle(t)}function sb(t){return Xn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ma(t){if(Yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VS(t)&&t.host||ra(t);return VS(e)?e.host:e}function VP(t){const e=Ma(t);return Ra(e)?t.ownerDocument?t.ownerDocument.body:t.body:Pr(e)&&Hp(e)?e:VP(e)}function Pl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=VP(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ki(i);if(s){const l=HS(o);return e.concat(o,o.visualViewport||[],Hp(i)?i:[],l&&n?Pl(l):[])}return e.concat(i,Pl(i,[],n))}function HS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fo(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function ei(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&VS(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function y1(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function HP(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function QP(t){return t.mozInputSource===0&&t.isTrusted?!0:QS()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function v1(t){return KH()?!1:!QS()&&t.width===0&&t.height===0||QS()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function KP(){return/apple/i.test(navigator.vendor)}function QS(){const t=/android/i;return t.test(y1())||t.test(HP())}function QH(){return y1().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function KH(){return HP().includes("jsdom/")}function mp(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function GH(t){return"nativeEvent"in t}function ZH(t){return t.matches("html,body")}function ti(t){return t?.ownerDocument||document}function C_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function kl(t){return"composedPath"in t?t.composedPath()[0]:t.target}const JH="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function b1(t){return Pr(t)&&t.matches(JH)}function wi(t){t.preventDefault(),t.stopPropagation()}function GP(t){return t?t.getAttribute("role")==="combobox"&&b1(t):!1}const jd=Math.min,as=Math.max,Zy=Math.round,nd=Math.floor,Qo=t=>({x:t,y:t}),YH={left:"right",right:"left",bottom:"top",top:"bottom"},XH={start:"end",end:"start"};function hT(t,e,n){return as(t,jd(e,n))}function Qp(t,e){return typeof t=="function"?t(e):t}function Gl(t){return t.split("-")[0]}function Kp(t){return t.split("-")[1]}function ZP(t){return t==="x"?"y":"x"}function JP(t){return t==="y"?"height":"width"}function Ju(t){return["top","bottom"].includes(Gl(t))?"y":"x"}function YP(t){return ZP(Ju(t))}function e9(t,e,n){n===void 0&&(n=!1);const r=Kp(t),i=YP(t),s=JP(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Jy(o)),[o,Jy(o)]}function t9(t){const e=Jy(t);return[KS(t),e,KS(e)]}function KS(t){return t.replace(/start|end/g,e=>XH[e])}function n9(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function r9(t,e,n,r){const i=Kp(t);let s=n9(Gl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(KS)))),s}function Jy(t){return t.replace(/left|right|bottom|top/g,e=>YH[e])}function i9(t){return{top:0,right:0,bottom:0,left:0,...t}}function s9(t){return typeof t!="number"?i9(t):{top:t,right:t,bottom:t,left:t}}function Yy(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var o9=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Xy=o9.join(","),XP=typeof Element>"u",Pd=XP?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ev=!XP&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},tv=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},a9=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},l9=function(e,n,r){if(tv(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Xy));return n&&Pd.call(e,Xy)&&i.unshift(e),i=i.filter(r),i},u9=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!tv(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),c=l.length?l:o.children,d=t(c,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:o,candidates:d})}else{var f=Pd.call(o,Xy);f&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),b=!tv(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&b){var x=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:o,candidates:x})}else s.unshift.apply(s,o.children)}}return i},eF=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},tF=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||a9(e))&&!eF(e)?0:e.tabIndex},c9=function(e,n){var r=tF(e);return r<0&&n&&!eF(e)?0:r},d9=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},nF=function(e){return e.tagName==="INPUT"},f9=function(e){return nF(e)&&e.type==="hidden"},h9=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},p9=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},m9=function(e){if(!e.name)return!0;var n=e.form||ev(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=p9(i,e.form);return!s||s===e},g9=function(e){return nF(e)&&e.type==="radio"},y9=function(e){return g9(e)&&!m9(e)},v9=function(e){var n,r=e&&ev(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,l,c;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&i;){var d,f,h;r=ev(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((f=i)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},pT=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},b9=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Pd.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Pd.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var c=e.parentElement,d=ev(e);if(c&&!c.shadowRoot&&i(c)===!0)return pT(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=l}if(v9(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return pT(e);return!1},x9=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Pd.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},w9=function(e,n){return!(n.disabled||tv(n)||f9(n)||b9(n,e)||h9(n)||x9(n))},GS=function(e,n){return!(y9(n)||tF(n)<0||!w9(e,n))},_9=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},S9=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,c=c9(l,o),d=o?t(i.candidates):l;c===0?o?n.push.apply(n,d):n.push(l):r.push({documentOrder:s,tabIndex:c,item:i,isScope:o,content:d})}),r.sort(d9).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},ob=function(e,n){n=n||{};var r;return n.getShadowRoot?r=u9([e],n.includeContainer,{filter:GS.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:_9}):r=l9(e,n.includeContainer,GS.bind(null,n)),S9(r)},E9=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Pd.call(e,Xy)===!1?!1:GS(n,e)};function mT(t,e,n){let{reference:r,floating:i}=t;const s=Ju(e),o=YP(e),l=JP(o),c=Gl(e),d=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:f,y:r.y-i.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(Kp(e)){case"start":x[o]-=b*(n&&d?-1:1);break;case"end":x[o]+=b*(n&&d?-1:1);break}return x}const N9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await (o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=mT(d,r,c),b=r,x={},_=0;for(let N=0;N<l.length;N++){const{name:I,fn:T}=l[N],{x:O,y:q,data:j,reset:D}=await T({x:f,y:h,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=O??f,h=q??h,x={...x,[I]:{...x[I],...j}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:h}=mT(d,b,c)),N=-1)}return{x:f,y:h,placement:b,strategy:i,middlewareData:x}};async function x1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:b=!1,padding:x=0}=Qp(e,t),_=s9(x),I=l[b?h==="floating"?"reference":"floating":h],T=Yy(await s.getClippingRect({element:(n=await (s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await (s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),O=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,q=await (s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await (s.isElement==null?void 0:s.isElement(q))?await (s.getScale==null?void 0:s.getScale(q))||{x:1,y:1}:{x:1,y:1},D=Yy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:O,offsetParent:q,strategy:c}):O);return{top:(T.top-D.top+_.top)/j.y,bottom:(D.bottom-T.bottom+_.bottom)/j.y,left:(T.left-D.left+_.left)/j.x,right:(D.right-T.right+_.right)/j.x}}const k9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:N=!0,...I}=Qp(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Gl(i),O=Ju(l),q=Gl(l)===l,j=await (c.isRTL==null?void 0:c.isRTL(d.floating)),D=b||(q||!N?[Jy(l)]:t9(l)),L=_!=="none";!b&&L&&D.push(...r9(l,N,_,j));const z=[l,...D],P=await x1(e,I),R=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&R.push(P[T]),h){const $=e9(i,o,j);R.push(P[$[0]],P[$[1]])}if(B=[...B,{placement:i,overflows:R}],!R.every($=>$<=0)){var F,W;const $=(((F=s.flip)==null?void 0:F.index)||0)+1,X=z[$];if(X)return{data:{index:$,overflows:B},reset:{placement:X}};let Z=(W=B.filter(ae=>ae.overflows[0]<=0).sort((ae,ie)=>ae.overflows[1]-ie.overflows[1])[0])==null?void 0:W.placement;if(!Z)switch(x){case"bestFit":{var U;const ae=(U=B.filter(ie=>{if(L){const ee=Ju(ie.placement);return ee===O||ee==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ee=>ee>0).reduce((ee,se)=>ee+se,0)]).sort((ie,ee)=>ie[1]-ee[1])[0])==null?void 0:U[0];ae&&(Z=ae);break}case"initialPlacement":Z=l;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};async function I9(t,e){const{placement:n,platform:r,elements:i}=t,s=await (r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gl(n),l=Kp(n),c=Ju(n)==="y",d=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,h=Qp(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof _=="number"&&(x=l==="end"?_*-1:_),c?{x:x*f,y:b*d}:{x:b*d,y:x*f}}const C9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await I9(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},O9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:I=>{let{x:T,y:O}=I;return{x:T,y:O}}},...c}=Qp(t,e),d={x:n,y:r},f=await x1(e,c),h=Ju(Gl(i)),b=ZP(h);let x=d[b],_=d[h];if(s){const I=b==="y"?"top":"left",T=b==="y"?"bottom":"right",O=x+f[I],q=x-f[T];x=hT(O,x,q)}if(o){const I=h==="y"?"top":"left",T=h==="y"?"bottom":"right",O=_+f[I],q=_-f[T];_=hT(O,_,q)}const N=l.fn({...e,[b]:x,[h]:_});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[b]:s,[h]:o}}}}}},T9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Qp(t,e),f=await x1(e,d),h=Gl(i),b=Kp(i),x=Ju(i)==="y",{width:_,height:N}=s.floating;let I,T;h==="top"||h==="bottom"?(I=h,T=b===(await (o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(T=h,I=b==="end"?"top":"bottom");const O=N-f.top-f.bottom,q=_-f.left-f.right,j=jd(N-f[I],O),D=jd(_-f[T],q),L=!e.middlewareData.shift;let z=j,P=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=q),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=O),L&&!b){const B=as(f.left,0),F=as(f.right,0),W=as(f.top,0),U=as(f.bottom,0);x?P=_-2*(B!==0||F!==0?B+F:as(f.left,f.right)):z=N-2*(W!==0||U!==0?W+U:as(f.top,f.bottom))}await c({...e,availableWidth:P,availableHeight:z});const R=await o.getDimensions(l.floating);return _!==R.width||N!==R.height?{reset:{rects:!0}}:{}}}};function rF(t){const e=Bs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Pr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Zy(n)!==s||Zy(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function w1(t){return Xn(t)?t:t.contextElement}function _d(t){const e=w1(t);if(!Pr(e))return Qo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=rF(e);let o=(s?Zy(n.width):n.width)/r,l=(s?Zy(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const q9=Qo(0);function iF(t){const e=Ki(t);return!ib()||!e.visualViewport?q9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ki(t)?!1:e}function Yu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=w1(t);let o=Qo(1);e&&(r?Xn(r)&&(o=_d(r)):o=_d(t));const l=R9(s,n,r)?iF(s):Qo(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const b=Ki(s),x=r&&Xn(r)?Ki(r):r;let _=b,N=HS(_);for(;N&&r&&x!==_;){const I=_d(N),T=N.getBoundingClientRect(),O=Bs(N),q=T.left+(N.clientLeft+parseFloat(O.paddingLeft))*I.x,j=T.top+(N.clientTop+parseFloat(O.paddingTop))*I.y;c*=I.x,d*=I.y,f*=I.x,h*=I.y,c+=q,d+=j,_=Ki(N),N=HS(_)}}return Yy({width:f,height:h,x:c,y:d})}function _1(t,e){const n=sb(t).scrollLeft;return e?e.left+n:Yu(ra(t)).left+n}function sF(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:_1(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function A9(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ra(r),l=e?rb(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Qo(1);const f=Qo(0),h=Pr(r);if((h||!h&&!s)&&((Yl(r)!=="body"||Hp(o))&&(c=sb(r)),Pr(r))){const x=Yu(r);d=_d(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const b=o&&!h&&!s?sF(o,c,!0):Qo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+b.x,y:n.y*d.y-c.scrollTop*d.y+f.y+b.y}}function j9(t){return Array.from(t.getClientRects())}function P9(t){const e=ra(t),n=sb(t),r=t.ownerDocument.body,i=as(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=as(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_1(t);const l=-n.scrollTop;return Bs(r).direction==="rtl"&&(o+=as(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function F9(t,e){const n=Ki(t),r=ra(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=ib();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function D9(t,e){const n=Yu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Pr(t)?_d(t):Qo(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function gT(t,e,n){let r;if(e==="viewport")r=F9(t,n);else if(e==="document")r=P9(ra(t));else if(Xn(e))r=D9(e,n);else{const i=iF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Yy(r)}function oF(t,e){const n=Ma(t);return n===e||!Xn(n)||Ra(n)?!1:Bs(n).position==="fixed"||oF(n,e)}function L9(t,e){const n=e.get(t);if(n)return n;let r=Pl(t,[],!1).filter(l=>Xn(l)&&Yl(l)!=="body"),i=null;const s=Bs(t).position==="fixed";let o=s?Ma(t):t;for(;Xn(o)&&!Ra(o);){const l=Bs(o),c=g1(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Hp(o)&&!c&&oF(t,o))?r=r.filter(f=>f!==o):i=l,o=Ma(o)}return e.set(t,r),r}function M9(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?rb(e)?[]:L9(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const h=gT(e,f,i);return d.top=as(h.top,d.top),d.right=jd(h.right,d.right),d.bottom=jd(h.bottom,d.bottom),d.left=as(h.left,d.left),d},gT(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $9(t){const{width:e,height:n}=rF(t);return{width:e,height:n}}function B9(t,e,n){const r=Pr(e),i=ra(e),s=n==="fixed",o=Yu(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Qo(0);if(r||!r&&!s)if((Yl(e)!=="body"||Hp(i))&&(l=sb(e)),r){const b=Yu(e,!0,s,e);c.x=b.x+e.clientLeft,c.y=b.y+e.clientTop}else i&&(c.x=_1(i));const d=i&&!r&&!s?sF(i,l):Qo(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function O_(t){return Bs(t).position==="static"}function yT(t,e){if(!Pr(t)||Bs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ra(t)===n&&(n=n.ownerDocument.body),n}function aF(t,e){const n=Ki(t);if(rb(t))return n;if(!Pr(t)){let i=Ma(t);for(;i&&!Ra(i);){if(Xn(i)&&!O_(i))return i;i=Ma(i)}return n}let r=yT(t,e);for(;r&&VH(r)&&O_(r);)r=yT(r,e);return r&&Ra(r)&&O_(r)&&!g1(r)?n:r||HH(t)||n}const z9=async function(t){const e=this.getOffsetParent||aF,n=this.getDimensions,r=await n(t.floating);return{reference:B9(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function W9(t){return Bs(t).direction==="rtl"}const U9={convertOffsetParentRelativeRectToViewportRelativeRect:A9,getDocumentElement:ra,getClippingRect:M9,getOffsetParent:aF,getElementRects:z9,getClientRects:j9,getDimensions:$9,getScale:_d,isElement:Xn,isRTL:W9};function lF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function V9(t,e){let n=null,r;const i=ra(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:h,width:b,height:x}=d;if(l||e(),!b||!x)return;const _=nd(h),N=nd(i.clientWidth-(f+b)),I=nd(i.clientHeight-(h+x)),T=nd(f),q={rootMargin:-_+"px "+-N+"px "+-I+"px "+-T+"px",threshold:as(0,jd(1,c))||1};let j=!0;function D(L){const z=L[0].intersectionRatio;if(z!==c){if(!j)return o();z?o(!1,z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}z===1&&!lF(d,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(D,{...q,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,q)}n.observe(t)}return o(!0),s}function uF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=w1(t),f=i||s?[...d?Pl(d):[],...Pl(e)]:[];f.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const h=d&&l?V9(d,n):null;let b=-1,x=null;o&&(x=new ResizeObserver(T=>{let[O]=T;O&&O.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var q;(q=x)==null||q.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let _,N=c?Yu(t):null;c&&I();function I(){const T=Yu(t);N&&!lF(N,T)&&n(),N=T,_=requestAnimationFrame(I)}return n(),()=>{var T;f.forEach(O=>{i&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),h?.(),(T=x)==null||T.disconnect(),x=null,c&&cancelAnimationFrame(_)}}const H9=C9,Q9=O9,K9=k9,G9=T9,Z9=(t,e,n)=>{const r=new Map,i={platform:U9,...n},s={...i.platform,_c:r};return N9(t,e,{...i,platform:s})};var sy=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function nv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!nv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!nv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function cF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function vT(t,e){const n=cF(t);return Math.round(e*n)/n}function T_(t){const e=Q.useRef(t);return sy(()=>{e.current=t}),e}function J9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,h]=Q.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=Q.useState(r);nv(b,r)||x(r);const[_,N]=Q.useState(null),[I,T]=Q.useState(null),O=Q.useCallback(ie=>{ie!==L.current&&(L.current=ie,N(ie))},[]),q=Q.useCallback(ie=>{ie!==z.current&&(z.current=ie,T(ie))},[]),j=s||_,D=o||I,L=Q.useRef(null),z=Q.useRef(null),P=Q.useRef(f),R=c!=null,B=T_(c),F=T_(i),W=T_(d),U=Q.useCallback(()=>{if(!L.current||!z.current)return;const ie={placement:e,strategy:n,middleware:b};F.current&&(ie.platform=F.current),Z9(L.current,z.current,ie).then(ee=>{const se={...ee,isPositioned:W.current!==!1};$.current&&!nv(P.current,se)&&(P.current=se,Av.flushSync(()=>{h(se)}))})},[b,e,n,F,W]);sy(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(ie=>({...ie,isPositioned:!1})))},[d]);const $=Q.useRef(!1);sy(()=>($.current=!0,()=>{$.current=!1}),[]),sy(()=>{if(j&&(L.current=j),D&&(z.current=D),j&&D){if(B.current)return B.current(j,D,U);U()}},[j,D,U,B,R]);const X=Q.useMemo(()=>({reference:L,floating:z,setReference:O,setFloating:q}),[O,q]),Z=Q.useMemo(()=>({reference:j,floating:D}),[j,D]),ae=Q.useMemo(()=>{const ie={position:n,left:0,top:0};if(!Z.floating)return ie;const ee=vT(Z.floating,f.x),se=vT(Z.floating,f.y);return l?{...ie,transform:"translate("+ee+"px, "+se+"px)",...cF(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:se}},[n,l,Z.floating,f.x,f.y]);return Q.useMemo(()=>({...f,update:U,refs:X,elements:Z,floatingStyles:ae}),[f,U,X,Z,ae])}const dF=(t,e)=>({...H9(t),options:[t,e]}),Y9=(t,e)=>({...Q9(t),options:[t,e]}),fF=(t,e)=>({...K9(t),options:[t,e]}),X9=(t,e)=>({...G9(t),options:[t,e]});function bT(t){return Q.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const hF={...g4},e7=hF.useInsertionEffect,t7=e7||(t=>t());function Ei(t){const e=Q.useRef(()=>{});return t7(()=>{e.current=t}),Q.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const S1="ArrowUp",Gp="ArrowDown",Fl="ArrowLeft",Dl="ArrowRight";function wg(t,e,n){return Math.floor(t/e)!==n}function Dh(t,e){return e<0||e>=t.current.length}function q_(t,e){return li(t,{disabledIndices:e})}function xT(t,e){return li(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function li(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e;const o=t.current;let l=n;do l+=r?-s:s;while(l>=0&&l<=o.length-1&&oy(o,l,i));return l}function n7(t,e){let{event:n,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:l,minIndex:c,maxIndex:d,prevIndex:f,stopEvent:h=!1}=e,b=f;if(n.key===S1){if(h&&wi(n),f===-1)b=d;else if(b=li(t,{startingIndex:b,amount:o,decrement:!0,disabledIndices:l}),i&&(f-o<c||b<0)){const x=f%o,_=d%o,N=d-(_-x);_===x?b=d:b=_>x?N:N-o}Dh(t,b)&&(b=f)}if(n.key===Gp&&(h&&wi(n),f===-1?b=c:(b=li(t,{startingIndex:f,amount:o,disabledIndices:l}),i&&f+o>d&&(b=li(t,{startingIndex:f%o-o,amount:o,disabledIndices:l}))),Dh(t,b)&&(b=f)),r==="both"){const x=nd(f/o);n.key===(s?Fl:Dl)&&(h&&wi(n),f%o!==o-1?(b=li(t,{startingIndex:f,disabledIndices:l}),i&&wg(b,o,x)&&(b=li(t,{startingIndex:f-f%o-1,disabledIndices:l}))):i&&(b=li(t,{startingIndex:f-f%o-1,disabledIndices:l})),wg(b,o,x)&&(b=f)),n.key===(s?Dl:Fl)&&(h&&wi(n),f%o!==0?(b=li(t,{startingIndex:f,decrement:!0,disabledIndices:l}),i&&wg(b,o,x)&&(b=li(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l}))):i&&(b=li(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l})),wg(b,o,x)&&(b=f));const _=nd(d/o)===x;Dh(t,b)&&(i&&_?b=n.key===(s?Dl:Fl)?d:li(t,{startingIndex:f-f%o-1,disabledIndices:l}):b=f)}return b}function r7(t,e,n){const r=[];let i=0;return t.forEach((s,o)=>{let{width:l,height:c}=s,d=!1;for(n&&(i=0);!d;){const f=[];for(let h=0;h<l;h++)for(let b=0;b<c;b++)f.push(i+h+b*e);i%e+l<=e&&f.every(h=>r[h]==null)?(f.forEach(h=>{r[h]=o}),d=!0):i++}}),[...r]}function i7(t,e,n,r,i){if(t===-1)return-1;const s=n.indexOf(t),o=e[t];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return n.lastIndexOf(t)}}function s7(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function oy(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var lr=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;let wT=!1,o7=0;const _T=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+o7++;function a7(){const[t,e]=Q.useState(()=>wT?_T():void 0);return lr(()=>{t==null&&e(_T())},[]),Q.useEffect(()=>{wT=!0},[]),t}const l7=hF.useId,E1=l7||a7;function pF(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const mF=Q.createContext(null),gF=Q.createContext(null),Zp=()=>{var t;return((t=Q.useContext(mF))==null?void 0:t.id)||null},nf=()=>Q.useContext(gF);function u7(t){const e=E1(),n=nf(),i=Zp();return lr(()=>{if(!e)return;const s={id:e,parentId:i};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,e,i]),e}function c7(t){const{children:e,id:n}=t,r=Zp();return m.jsx(mF.Provider,{value:Q.useMemo(()=>({id:n,parentId:r}),[n,r]),children:e})}function d7(t){const{children:e}=t,n=Q.useRef([]),r=Q.useCallback(o=>{n.current=[...n.current,o]},[]),i=Q.useCallback(o=>{n.current=n.current.filter(l=>l!==o)},[]),s=Q.useState(()=>pF())[0];return m.jsx(gF.Provider,{value:Q.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:s}),[r,i,s]),children:e})}function Xu(t){return"data-floating-ui-"+t}function Ni(t){const e=Q.useRef(t);return lr(()=>{e.current=t}),e}const ST=Xu("safe-polygon");function R_(t,e,n){return n&&!mp(n)?0:typeof t=="number"?t:t?.[e]}function f7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:l=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:h=0,move:b=!0}=e,x=nf(),_=Zp(),N=Ni(d),I=Ni(c),T=Ni(n),O=Q.useRef(),q=Q.useRef(-1),j=Q.useRef(),D=Q.useRef(-1),L=Q.useRef(!0),z=Q.useRef(!1),P=Q.useRef(()=>{}),R=Q.useRef(!1),B=Q.useCallback(()=>{var ae;const ie=(ae=i.current.openEvent)==null?void 0:ae.type;return ie?.includes("mouse")&&ie!=="mousedown"},[i]);Q.useEffect(()=>{if(!l)return;function ae(ie){let{open:ee}=ie;ee||(clearTimeout(q.current),clearTimeout(D.current),L.current=!0,R.current=!1)}return s.on("openchange",ae),()=>{s.off("openchange",ae)}},[l,s]),Q.useEffect(()=>{if(!l||!N.current||!n)return;function ae(ee){B()&&r(!1,ee,"hover")}const ie=ti(o.floating).documentElement;return ie.addEventListener("mouseleave",ae),()=>{ie.removeEventListener("mouseleave",ae)}},[o.floating,n,r,l,N,B]);const F=Q.useCallback(function(ae,ie,ee){ie===void 0&&(ie=!0),ee===void 0&&(ee="hover");const se=R_(I.current,"close",O.current);se&&!j.current?(clearTimeout(q.current),q.current=window.setTimeout(()=>r(!1,ae,ee),se)):ie&&(clearTimeout(q.current),r(!1,ae,ee))},[I,r]),W=Ei(()=>{P.current(),j.current=void 0}),U=Ei(()=>{if(z.current){const ae=ti(o.floating).body;ae.style.pointerEvents="",ae.removeAttribute(ST),z.current=!1}}),$=Ei(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);Q.useEffect(()=>{if(!l)return;function ae(Y){if(clearTimeout(q.current),L.current=!1,f&&!mp(O.current)||h>0&&!R_(I.current,"open"))return;const ce=R_(I.current,"open",O.current);ce?q.current=window.setTimeout(()=>{T.current||r(!0,Y,"hover")},ce):n||r(!0,Y,"hover")}function ie(Y){if($())return;P.current();const ce=ti(o.floating);if(clearTimeout(D.current),R.current=!1,N.current&&i.current.floatingContext){n||clearTimeout(q.current),j.current=N.current({...i.current.floatingContext,tree:x,x:Y.clientX,y:Y.clientY,onClose(){U(),W(),$()||F(Y,!0,"safe-polygon")}});const ye=j.current;ce.addEventListener("mousemove",ye),P.current=()=>{ce.removeEventListener("mousemove",ye)};return}(O.current==="touch"?!ei(o.floating,Y.relatedTarget):!0)&&F(Y)}function ee(Y){$()||i.current.floatingContext&&(N.current==null||N.current({...i.current.floatingContext,tree:x,x:Y.clientX,y:Y.clientY,onClose(){U(),W(),$()||F(Y)}})(Y))}if(Xn(o.domReference)){var se;const Y=o.domReference;return n&&Y.addEventListener("mouseleave",ee),(se=o.floating)==null||se.addEventListener("mouseleave",ee),b&&Y.addEventListener("mousemove",ae,{once:!0}),Y.addEventListener("mouseenter",ae),Y.addEventListener("mouseleave",ie),()=>{var ce;n&&Y.removeEventListener("mouseleave",ee),(ce=o.floating)==null||ce.removeEventListener("mouseleave",ee),b&&Y.removeEventListener("mousemove",ae),Y.removeEventListener("mouseenter",ae),Y.removeEventListener("mouseleave",ie)}}},[o,l,t,f,h,b,F,W,U,r,n,T,x,I,N,i,$]),lr(()=>{var ae;if(l&&n&&(ae=N.current)!=null&&ae.__options.blockPointerEvents&&B()){z.current=!0;const ee=o.floating;if(Xn(o.domReference)&&ee){var ie;const se=ti(o.floating).body;se.setAttribute(ST,"");const Y=o.domReference,ce=x==null||(ie=x.nodesRef.current.find(de=>de.id===_))==null||(ie=ie.context)==null?void 0:ie.elements.floating;return ce&&(ce.style.pointerEvents=""),se.style.pointerEvents="none",Y.style.pointerEvents="auto",ee.style.pointerEvents="auto",()=>{se.style.pointerEvents="",Y.style.pointerEvents="",ee.style.pointerEvents=""}}}},[l,n,_,o,x,N,B]),lr(()=>{n||(O.current=void 0,R.current=!1,W(),U())},[n,W,U]),Q.useEffect(()=>()=>{W(),clearTimeout(q.current),clearTimeout(D.current),U()},[l,o.domReference,W,U]);const X=Q.useMemo(()=>{function ae(ie){O.current=ie.pointerType}return{onPointerDown:ae,onPointerEnter:ae,onMouseMove(ie){const{nativeEvent:ee}=ie;function se(){!L.current&&!T.current&&r(!0,ee,"hover")}f&&!mp(O.current)||n||h===0||R.current&&ie.movementX**2+ie.movementY**2<2||(clearTimeout(D.current),O.current==="touch"?se():(R.current=!0,D.current=window.setTimeout(se,h)))}}},[f,r,n,T,h]),Z=Q.useMemo(()=>({onMouseEnter(){clearTimeout(q.current)},onMouseLeave(ae){$()||F(ae.nativeEvent,!1)}}),[F,$]);return Q.useMemo(()=>l?{reference:X,floating:Z}:{},[l,X,Z])}let ET=0;function Eu(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(ET);const s=()=>t?.focus({preventScroll:n});i?s():ET=requestAnimationFrame(s)}function NT(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s?.parentId,s&&(r=r.concat(s))}return r}function Sd(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var l;return i.parentId===o.id&&((l=i.context)==null?void 0:l.open)})}),n=n.concat(r);return n}function h7(t,e){let n,r=-1;function i(s,o){o>r&&(n=s,r=o),Sd(t,s).forEach(c=>{i(c.id,o+1)})}return i(e,0),t.find(s=>s.id===n)}let Uc=new WeakMap,_g=new WeakSet,Sg={},A_=0;const p7=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,yF=t=>t&&(t.host||yF(t.parentNode)),m7=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=yF(n);return t.contains(r)?r:null}).filter(n=>n!=null);function g7(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=m7(e,t),l=new Set,c=new Set(o),d=[];Sg[i]||(Sg[i]=new WeakMap);const f=Sg[i];o.forEach(h),b(e),l.clear();function h(x){!x||l.has(x)||(l.add(x),x.parentNode&&h(x.parentNode))}function b(x){!x||c.has(x)||[].forEach.call(x.children,_=>{if(Yl(_)!=="script")if(l.has(_))b(_);else{const N=s?_.getAttribute(s):null,I=N!==null&&N!=="false",T=Uc.get(_)||0,O=s?T+1:T,q=(f.get(_)||0)+1;Uc.set(_,O),f.set(_,q),d.push(_),O===1&&I&&_g.add(_),q===1&&_.setAttribute(i,""),!I&&s&&_.setAttribute(s,"true")}})}return A_++,()=>{d.forEach(x=>{const _=Uc.get(x)||0,N=s?_-1:_,I=(f.get(x)||0)-1;Uc.set(x,N),f.set(x,I),N||(!_g.has(x)&&s&&x.removeAttribute(s),_g.delete(x)),I||x.removeAttribute(i)}),A_--,A_||(Uc=new WeakMap,Uc=new WeakMap,_g=new WeakSet,Sg={})}}function kT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=ti(t[0]).body;return g7(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const ab=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function vF(t,e){const n=ob(t,ab());e==="prev"&&n.reverse();const r=n.indexOf(fo(ti(t)));return n.slice(r+1)[0]}function bF(){return vF(document.body,"next")}function xF(){return vF(document.body,"prev")}function Lh(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!ei(n,r)}function y7(t){ob(t,ab()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function IT(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const lb={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let v7;function CT(t){t.key==="Tab"&&(t.target,clearTimeout(v7))}const rv=Q.forwardRef(function(e,n){const[r,i]=Q.useState();lr(()=>(KP()&&i("button"),document.addEventListener("keydown",CT),()=>{document.removeEventListener("keydown",CT)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Xu("focus-guard")]:"",style:lb};return m.jsx("span",{...e,...s})}),wF=Q.createContext(null),OT=Xu("portal");function b7(t){t===void 0&&(t={});const{id:e,root:n}=t,r=E1(),i=_F(),[s,o]=Q.useState(null),l=Q.useRef(null);return lr(()=>()=>{s?.remove(),queueMicrotask(()=>{l.current=null})},[s]),lr(()=>{if(!r||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=r,d.setAttribute(OT,""),c.appendChild(d),l.current=d,o(d)},[e,r]),lr(()=>{if(n===null||!r||l.current)return;let c=n||i?.portalNode;c&&!Xn(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const f=document.createElement("div");f.id=r,f.setAttribute(OT,""),c=d||c,c.appendChild(f),l.current=f,o(f)},[e,n,r,i]),s}function N1(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,s=b7({id:n,root:r}),[o,l]=Q.useState(null),c=Q.useRef(null),d=Q.useRef(null),f=Q.useRef(null),h=Q.useRef(null),b=o?.modal,x=o?.open,_=!!o&&!o.modal&&o.open&&i&&!!(r||s);return Q.useEffect(()=>{if(!s||!i||b)return;function N(I){s&&Lh(I)&&(I.type==="focusin"?IT:y7)(s)}return s.addEventListener("focusin",N,!0),s.addEventListener("focusout",N,!0),()=>{s.removeEventListener("focusin",N,!0),s.removeEventListener("focusout",N,!0)}},[s,i,b]),Q.useEffect(()=>{s&&(x||IT(s))},[x,s]),m.jsxs(wF.Provider,{value:Q.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:h,portalNode:s,setFocusManagerState:l}),[i,s]),children:[_&&s&&m.jsx(rv,{"data-type":"outside",ref:c,onFocus:N=>{if(Lh(N,s)){var I;(I=f.current)==null||I.focus()}else{const T=xF()||o?.domReference;T?.focus()}}}),_&&s&&m.jsx("span",{"aria-owns":s.id,style:lb}),s&&Av.createPortal(e,s),_&&s&&m.jsx(rv,{"data-type":"outside",ref:d,onFocus:N=>{if(Lh(N,s)){var I;(I=h.current)==null||I.focus()}else{const T=bF()||o?.domReference;T?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,N.nativeEvent,"focus-out")}}})]})}const _F=()=>Q.useContext(wF),ZS="data-floating-ui-focusable";function JS(t){return t?t.hasAttribute(ZS)?t:t.querySelector("["+ZS+"]")||t:null}const x7=20;let Nu=[];function j_(t){Nu=Nu.filter(e=>e.isConnected),t&&Yl(t)!=="body"&&(Nu.push(t),Nu.length>x7&&(Nu=Nu.slice(-20)))}function TT(){return Nu.slice().reverse().find(t=>t.isConnected)}function w7(t){const e=ab();return E9(t,e)?t:ob(t,e)[0]||t}const _7=Q.forwardRef(function(e,n){return m.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:lb})});function SF(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:c=!1,modal:d=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:h=!0,outsideElementsInert:b=!1}=t,{open:x,onOpenChange:_,events:N,dataRef:I,elements:{domReference:T,floating:O}}=e,q=Ei(()=>{var De;return(De=I.current.floatingContext)==null?void 0:De.nodeId}),j=typeof o=="number"&&o<0,D=GP(T)&&j,L=p7(),z=L?s:!0,P=!z||L&&b,R=Ni(i),B=Ni(o),F=Ni(l),W=nf(),U=_F(),$=Q.useRef(null),X=Q.useRef(null),Z=Q.useRef(!1),ae=Q.useRef(!1),ie=Q.useRef(-1),ee=U!=null,se=JS(O),Y=Ei(function(De){return De===void 0&&(De=se),De?ob(De,ab()):[]}),ce=Ei(De=>{const Ze=Y(De);return R.current.map(Xe=>T&&Xe==="reference"?T:se&&Xe==="floating"?se:Ze).filter(Boolean).flat()});Q.useEffect(()=>{if(r||!d)return;function De(Xe){if(Xe.key==="Tab"){ei(se,fo(ti(se)))&&Y().length===0&&!D&&wi(Xe);const Ue=ce(),ut=kl(Xe);R.current[0]==="reference"&&ut===T&&(wi(Xe),Xe.shiftKey?Eu(Ue[Ue.length-1]):Eu(Ue[1])),R.current[1]==="floating"&&ut===se&&Xe.shiftKey&&(wi(Xe),Eu(Ue[0]))}}const Ze=ti(se);return Ze.addEventListener("keydown",De),()=>{Ze.removeEventListener("keydown",De)}},[r,T,se,d,R,D,Y,ce]),Q.useEffect(()=>{if(r||!O)return;function De(Ze){const Xe=kl(Ze),ut=Y().indexOf(Xe);ut!==-1&&(ie.current=ut)}return O.addEventListener("focusin",De),()=>{O.removeEventListener("focusin",De)}},[r,O,Y]),Q.useEffect(()=>{if(r||!h)return;function De(){ae.current=!0,setTimeout(()=>{ae.current=!1})}function Ze(Xe){const Ue=Xe.relatedTarget;queueMicrotask(()=>{const ut=q(),_t=!(ei(T,Ue)||ei(O,Ue)||ei(Ue,O)||ei(U?.portalNode,Ue)||Ue!=null&&Ue.hasAttribute(Xu("focus-guard"))||W&&(Sd(W.nodesRef.current,ut).find(Ot=>{var Wt,en;return ei((Wt=Ot.context)==null?void 0:Wt.elements.floating,Ue)||ei((en=Ot.context)==null?void 0:en.elements.domReference,Ue)})||NT(W.nodesRef.current,ut).find(Ot=>{var Wt,en,xe;return[(Wt=Ot.context)==null?void 0:Wt.elements.floating,JS((en=Ot.context)==null?void 0:en.elements.floating)].includes(Ue)||((xe=Ot.context)==null?void 0:xe.elements.domReference)===Ue})));if(c&&_t&&fo(ti(se))===ti(se).body){Pr(se)&&se.focus();const Ot=ie.current,Wt=Y(),en=Wt[Ot]||Wt[Wt.length-1]||se;Pr(en)&&en.focus()}(D||!d)&&Ue&&_t&&!ae.current&&Ue!==TT()&&(Z.current=!0,_(!1,Xe,"focus-out"))})}if(O&&Pr(T))return T.addEventListener("focusout",Ze),T.addEventListener("pointerdown",De),O.addEventListener("focusout",Ze),()=>{T.removeEventListener("focusout",Ze),T.removeEventListener("pointerdown",De),O.removeEventListener("focusout",Ze)}},[r,T,O,se,d,W,U,_,h,c,Y,D,q]);const de=Q.useRef(null),ye=Q.useRef(null),we=bT([de,U?.beforeInsideRef]),Ne=bT([ye,U?.afterInsideRef]);Q.useEffect(()=>{var De;if(r||!O)return;const Ze=Array.from((U==null||(De=U.portalNode)==null?void 0:De.querySelectorAll("["+Xu("portal")+"]"))||[]),Xe=W&&!d?NT(W?.nodesRef.current,q()).map(_t=>{var Ot;return(Ot=_t.context)==null?void 0:Ot.elements.floating}):[],Ue=[O,...Ze,...Xe,$.current,X.current,de.current,ye.current,U?.beforeOutsideRef.current,U?.afterOutsideRef.current,R.current.includes("reference")||D?T:null].filter(_t=>_t!=null),ut=d||D?kT(Ue,!P,P):kT(Ue);return()=>{ut()}},[r,T,O,d,R,U,D,z,P,W,q]),lr(()=>{if(r||!Pr(se))return;const De=ti(se),Ze=fo(De);queueMicrotask(()=>{const Xe=ce(se),Ue=B.current,ut=(typeof Ue=="number"?Xe[Ue]:Ue.current)||se,_t=ei(se,Ze);!j&&!_t&&x&&Eu(ut,{preventScroll:ut===se})})},[r,x,se,j,ce,B]),lr(()=>{if(r||!se)return;let De=!1;const Ze=ti(se),Xe=fo(Ze);let ut=I.current.openEvent;j_(Xe);function _t(en){let{open:xe,reason:ve,event:ke,nested:je}=en;xe&&(ut=ke),ve==="escape-key"&&T&&j_(T),["hover","safe-polygon"].includes(ve)&&ke.type==="mouseleave"&&(Z.current=!0),ve==="outside-press"&&(je?(Z.current=!1,De=!0):Z.current=!(QP(ke)||v1(ke)))}N.on("openchange",_t);const Ot=Ze.createElement("span");Ot.setAttribute("tabindex","-1"),Ot.setAttribute("aria-hidden","true"),Object.assign(Ot.style,lb),ee&&T&&T.insertAdjacentElement("afterend",Ot);function Wt(){return typeof F.current=="boolean"?TT()||Ot:F.current.current||Ot}return()=>{N.off("openchange",_t);const en=fo(Ze),xe=ei(O,en)||W&&Sd(W.nodesRef.current,q()).some(je=>{var Ve;return ei((Ve=je.context)==null?void 0:Ve.elements.floating,en)});(xe||ut&&["click","mousedown"].includes(ut.type))&&T&&j_(T);const ke=Wt();queueMicrotask(()=>{const je=w7(ke);F.current&&!Z.current&&Pr(je)&&(!(je!==en&&en!==Ze.body)||xe)&&je.focus({preventScroll:De}),Ot.remove()})}},[r,O,se,F,I,N,W,ee,T,q]),Q.useEffect(()=>{queueMicrotask(()=>{Z.current=!1})},[r]),lr(()=>{if(!r&&U)return U.setFocusManagerState({modal:d,closeOnFocusOut:h,open:x,onOpenChange:_,domReference:T}),()=>{U.setFocusManagerState(null)}},[r,U,d,x,_,h,T]),lr(()=>{if(r||!se||typeof MutationObserver!="function"||j)return;const De=()=>{const Xe=se.getAttribute("tabindex"),Ue=Y(),ut=fo(ti(O)),_t=Ue.indexOf(ut);_t!==-1&&(ie.current=_t),R.current.includes("floating")||ut!==T&&Ue.length===0?Xe!=="0"&&se.setAttribute("tabindex","0"):Xe!=="-1"&&se.setAttribute("tabindex","-1")};De();const Ze=new MutationObserver(De);return Ze.observe(se,{childList:!0,subtree:!0,attributes:!0}),()=>{Ze.disconnect()}},[r,O,se,T,R,Y,j]);function ze(De){return r||!f||!d?null:m.jsx(_7,{ref:De==="start"?$:X,onClick:Ze=>_(!1,Ze.nativeEvent),children:typeof f=="string"?f:"Dismiss"})}const qe=!r&&z&&(d?!D:!0)&&(ee||d);return m.jsxs(m.Fragment,{children:[qe&&m.jsx(rv,{"data-type":"inside",ref:we,onFocus:De=>{if(d){const Xe=ce();Eu(i[0]==="reference"?Xe[0]:Xe[Xe.length-1])}else if(U!=null&&U.preserveTabOrder&&U.portalNode)if(Z.current=!1,Lh(De,U.portalNode)){const Xe=bF()||T;Xe?.focus()}else{var Ze;(Ze=U.beforeOutsideRef.current)==null||Ze.focus()}}}),!D&&ze("start"),n,ze("end"),qe&&m.jsx(rv,{"data-type":"inside",ref:Ne,onFocus:De=>{if(d)Eu(ce()[0]);else if(U!=null&&U.preserveTabOrder&&U.portalNode)if(h&&(Z.current=!0),Lh(De,U.portalNode)){const Xe=xF()||T;Xe?.focus()}else{var Ze;(Ze=U.afterOutsideRef.current)==null||Ze.focus()}}})]})}let Eg=0;function S7(){const t=/iP(hone|ad|od)|iOS/.test(y1()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=e.left?parseFloat(e.left):window.scrollX,o=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var l,c;const d=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,f=((c=window.visualViewport)==null?void 0:c.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(o-Math.floor(f))+"px",left:-(s-Math.floor(d))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o))}}let qT=()=>{};const E7=Q.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return lr(()=>{if(r)return Eg++,Eg===1&&(qT=S7()),()=>{Eg--,Eg===0&&qT()}},[r]),m.jsx("div",{ref:n,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});function RT(t){return Pr(t.target)&&t.target.tagName==="BUTTON"}function AT(t){return b1(t)}function k1(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:d=!1,keyboardHandlers:f=!0,stickIfOpen:h=!0}=e,b=Q.useRef(),x=Q.useRef(!1),_=Q.useMemo(()=>({onPointerDown(N){b.current=N.pointerType},onMouseDown(N){const I=b.current;N.button===0&&l!=="click"&&(mp(I,!0)&&d||(n&&c&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="mousedown")?r(!1,N.nativeEvent,"click"):(N.preventDefault(),r(!0,N.nativeEvent,"click"))))},onClick(N){const I=b.current;if(l==="mousedown"&&b.current){b.current=void 0;return}mp(I,!0)&&d||(n&&c&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="click")?r(!1,N.nativeEvent,"click"):r(!0,N.nativeEvent,"click"))},onKeyDown(N){b.current=void 0,!(N.defaultPrevented||!f||RT(N))&&(N.key===" "&&!AT(s)&&(N.preventDefault(),x.current=!0),N.key==="Enter"&&r(!(n&&c),N.nativeEvent,"click"))},onKeyUp(N){N.defaultPrevented||!f||RT(N)||AT(s)||N.key===" "&&x.current&&(x.current=!1,r(!(n&&c),N.nativeEvent,"click"))}}),[i,s,l,d,f,r,n,h,c]);return Q.useMemo(()=>o?{reference:_}:{},[o,_])}const N7={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},k7={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},jT=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function I1(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:b=!1,bubbles:x,capture:_}=e,N=nf(),I=Ei(typeof c=="function"?c:()=>!1),T=typeof c=="function"?I:c,O=Q.useRef(!1),q=Q.useRef(!1),{escapeKey:j,outsidePress:D}=jT(x),{escapeKey:L,outsidePress:z}=jT(_),P=Q.useRef(!1),R=Ei(X=>{var Z;if(!n||!o||!l||X.key!=="Escape"||P.current)return;const ae=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,ie=N?Sd(N.nodesRef.current,ae):[];if(!j&&(X.stopPropagation(),ie.length>0)){let ee=!0;if(ie.forEach(se=>{var Y;if((Y=se.context)!=null&&Y.open&&!se.context.dataRef.current.__escapeKeyBubbles){ee=!1;return}}),!ee)return}r(!1,GH(X)?X.nativeEvent:X,"escape-key")}),B=Ei(X=>{var Z;const ae=()=>{var ie;R(X),(ie=kl(X))==null||ie.removeEventListener("keydown",ae)};(Z=kl(X))==null||Z.addEventListener("keydown",ae)}),F=Ei(X=>{var Z;const ae=O.current;O.current=!1;const ie=q.current;if(q.current=!1,d==="click"&&ie||ae||typeof T=="function"&&!T(X))return;const ee=kl(X),se="["+Xu("inert")+"]",Y=ti(i.floating).querySelectorAll(se);let ce=Xn(ee)?ee:null;for(;ce&&!Ra(ce);){const Ne=Ma(ce);if(Ra(Ne)||!Xn(Ne))break;ce=Ne}if(Y.length&&Xn(ee)&&!ZH(ee)&&!ei(ee,i.floating)&&Array.from(Y).every(Ne=>!ei(ce,Ne)))return;if(Pr(ee)&&$){const Ne=Ra(ee),ze=Bs(ee),qe=/auto|scroll/,De=Ne||qe.test(ze.overflowX),Ze=Ne||qe.test(ze.overflowY),Xe=De&&ee.clientWidth>0&&ee.scrollWidth>ee.clientWidth,Ue=Ze&&ee.clientHeight>0&&ee.scrollHeight>ee.clientHeight,ut=ze.direction==="rtl",_t=Ue&&(ut?X.offsetX<=ee.offsetWidth-ee.clientWidth:X.offsetX>ee.clientWidth),Ot=Xe&&X.offsetY>ee.clientHeight;if(_t||Ot)return}const de=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,ye=N&&Sd(N.nodesRef.current,de).some(Ne=>{var ze;return C_(X,(ze=Ne.context)==null?void 0:ze.elements.floating)});if(C_(X,i.floating)||C_(X,i.domReference)||ye)return;const we=N?Sd(N.nodesRef.current,de):[];if(we.length>0){let Ne=!0;if(we.forEach(ze=>{var qe;if((qe=ze.context)!=null&&qe.open&&!ze.context.dataRef.current.__outsidePressBubbles){Ne=!1;return}}),!Ne)return}r(!1,X,"outside-press")}),W=Ei(X=>{var Z;const ae=()=>{var ie;F(X),(ie=kl(X))==null||ie.removeEventListener(d,ae)};(Z=kl(X))==null||Z.addEventListener(d,ae)});Q.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=j,s.current.__outsidePressBubbles=D;let X=-1;function Z(Y){r(!1,Y,"ancestor-scroll")}function ae(){window.clearTimeout(X),P.current=!0}function ie(){X=window.setTimeout(()=>{P.current=!1},ib()?5:0)}const ee=ti(i.floating);l&&(ee.addEventListener("keydown",L?B:R,L),ee.addEventListener("compositionstart",ae),ee.addEventListener("compositionend",ie)),T&&ee.addEventListener(d,z?W:F,z);let se=[];return b&&(Xn(i.domReference)&&(se=Pl(i.domReference)),Xn(i.floating)&&(se=se.concat(Pl(i.floating))),!Xn(i.reference)&&i.reference&&i.reference.contextElement&&(se=se.concat(Pl(i.reference.contextElement)))),se=se.filter(Y=>{var ce;return Y!==((ce=ee.defaultView)==null?void 0:ce.visualViewport)}),se.forEach(Y=>{Y.addEventListener("scroll",Z,{passive:!0})}),()=>{l&&(ee.removeEventListener("keydown",L?B:R,L),ee.removeEventListener("compositionstart",ae),ee.removeEventListener("compositionend",ie)),T&&ee.removeEventListener(d,z?W:F,z),se.forEach(Y=>{Y.removeEventListener("scroll",Z)}),window.clearTimeout(X)}},[s,i,l,T,d,n,r,b,o,j,D,R,L,B,F,z,W]),Q.useEffect(()=>{O.current=!1},[T,d]);const U=Q.useMemo(()=>({onKeyDown:R,...f&&{[N7[h]]:X=>{r(!1,X.nativeEvent,"reference-press")},...h!=="click"&&{onClick(X){r(!1,X.nativeEvent,"reference-press")}}}}),[R,r,f,h]),$=Q.useMemo(()=>({onKeyDown:R,onMouseDown(){q.current=!0},onMouseUp(){q.current=!0},[k7[d]]:()=>{O.current=!0}}),[R,d]);return Q.useMemo(()=>o?{reference:U,floating:$}:{},[o,U,$])}function I7(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=E1(),s=Q.useRef({}),[o]=Q.useState(()=>pF()),l=Zp()!=null,[c,d]=Q.useState(r.reference),f=Ei((x,_,N)=>{s.current.openEvent=x?_:void 0,o.emit("openchange",{open:x,event:_,reason:N,nested:l}),n?.(x,_,N)}),h=Q.useMemo(()=>({setPositionReference:d}),[]),b=Q.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return Q.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:b,events:o,floatingId:i,refs:h}),[e,f,b,o,i,h])}function C1(t){t===void 0&&(t={});const{nodeId:e}=t,n=I7({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=Q.useState(null),[l,c]=Q.useState(null),f=i?.domReference||s,h=Q.useRef(null),b=nf();lr(()=>{f&&(h.current=f)},[f]);const x=J9({...t,elements:{...i,...l&&{reference:l}}}),_=Q.useCallback(q=>{const j=Xn(q)?{getBoundingClientRect:()=>q.getBoundingClientRect(),contextElement:q}:q;c(j),x.refs.setReference(j)},[x.refs]),N=Q.useCallback(q=>{(Xn(q)||q===null)&&(h.current=q,o(q)),(Xn(x.refs.reference.current)||x.refs.reference.current===null||q!==null&&!Xn(q))&&x.refs.setReference(q)},[x.refs]),I=Q.useMemo(()=>({...x.refs,setReference:N,setPositionReference:_,domReference:h}),[x.refs,N,_]),T=Q.useMemo(()=>({...x.elements,domReference:f}),[x.elements,f]),O=Q.useMemo(()=>({...x,...r,refs:I,elements:T,nodeId:e}),[x,I,T,e,r]);return lr(()=>{r.dataRef.current.floatingContext=O;const q=b?.nodesRef.current.find(j=>j.id===e);q&&(q.context=O)}),Q.useMemo(()=>({...x,context:O,refs:I,elements:T}),[x,I,T,O])}function C7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:l=!0,visibleOnly:c=!0}=e,d=Q.useRef(!1),f=Q.useRef(),h=Q.useRef(!0);Q.useEffect(()=>{if(!l)return;const x=Ki(o.domReference);function _(){!n&&Pr(o.domReference)&&o.domReference===fo(ti(o.domReference))&&(d.current=!0)}function N(){h.current=!0}return x.addEventListener("blur",_),x.addEventListener("keydown",N,!0),()=>{x.removeEventListener("blur",_),x.removeEventListener("keydown",N,!0)}},[o.domReference,n,l]),Q.useEffect(()=>{if(!l)return;function x(_){let{reason:N}=_;(N==="reference-press"||N==="escape-key")&&(d.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[i,l]),Q.useEffect(()=>()=>{clearTimeout(f.current)},[]);const b=Q.useMemo(()=>({onPointerDown(x){v1(x.nativeEvent)||(h.current=!1)},onMouseLeave(){d.current=!1},onFocus(x){if(d.current)return;const _=kl(x.nativeEvent);if(c&&Xn(_))try{if(KP()&&QH())throw Error();if(!_.matches(":focus-visible"))return}catch{if(!h.current&&!b1(_))return}r(!0,x.nativeEvent,"focus")},onBlur(x){d.current=!1;const _=x.relatedTarget,N=x.nativeEvent,I=Xn(_)&&_.hasAttribute(Xu("focus-guard"))&&_.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var T;const O=fo(o.domReference?o.domReference.ownerDocument:document);!_&&O===o.domReference||ei((T=s.current.floatingContext)==null?void 0:T.refs.floating.current,O)||ei(o.domReference,O)||I||r(!1,N,"focus")})}}),[s,o.domReference,r,c]);return Q.useMemo(()=>l?{reference:b}:{},[l,b])}const PT="active",FT="selected";function P_(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[PT]:o,[FT]:l,...c}=t;s=c}return{...n==="floating"&&{tabIndex:-1,[ZS]:""},...s,...e.map(o=>{const l=o?o[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((o,l)=>(l&&Object.entries(l).forEach(c=>{let[d,f]=c;if(!(i&&[PT,FT].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var h;(h=r.get(d))==null||h.push(f),o[d]=function(){for(var b,x=arguments.length,_=new Array(x),N=0;N<x;N++)_[N]=arguments[N];return(b=r.get(d))==null?void 0:b.map(I=>I(..._)).find(I=>I!==void 0)}}}else o[d]=f}),o),{})}}function O1(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),r=t.map(l=>l?.item),i=Q.useCallback(l=>P_(l,t,"reference"),e),s=Q.useCallback(l=>P_(l,t,"floating"),n),o=Q.useCallback(l=>P_(l,t,"item"),r);return Q.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function ub(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function DT(t,e){return ub(e,t===S1||t===Gp,t===Fl||t===Dl)}function F_(t,e,n){return ub(e,t===Gp,n?t===Fl:t===Dl)||t==="Enter"||t===" "||t===""}function O7(t,e,n){return ub(e,n?t===Fl:t===Dl,t===Gp)}function LT(t,e,n){return ub(e,n?t===Dl:t===Fl,t===S1)}function T7(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:d=null,allowEscape:f=!1,loop:h=!1,nested:b=!1,rtl:x=!1,virtual:_=!1,focusItemOnOpen:N="auto",focusItemOnHover:I=!0,openOnArrowKeyDown:T=!0,disabledIndices:O=void 0,orientation:q="vertical",cols:j=1,scrollItemIntoView:D=!0,virtualItemRef:L,itemSizes:z,dense:P=!1}=e,R=JS(i.floating),B=Ni(R),F=Zp(),W=nf(),U=Ei(()=>{l(Z.current===-1?null:Z.current)}),$=GP(i.domReference),X=Q.useRef(N),Z=Q.useRef(d??-1),ae=Q.useRef(null),ie=Q.useRef(!0),ee=Q.useRef(U),se=Q.useRef(!!i.floating),Y=Q.useRef(n),ce=Q.useRef(!1),de=Q.useRef(!1),ye=Ni(O),we=Ni(n),Ne=Ni(D),ze=Ni(d),[qe,De]=Q.useState(),[Ze,Xe]=Q.useState(),Ue=Ei(()=>{function ve(Ve){_?(De(Ve.id),W?.events.emit("virtualfocus",Ve),L&&(L.current=Ve)):Eu(Ve,{sync:ce.current,preventScroll:!0})}const ke=s.current[Z.current];ke&&ve(ke),(ce.current?Ve=>Ve():requestAnimationFrame)(()=>{const Ve=s.current[Z.current]||ke;if(!Ve)return;ke||ve(Ve);const rt=Ne.current;rt&&_t&&(de.current||!ie.current)&&(Ve.scrollIntoView==null||Ve.scrollIntoView(typeof rt=="boolean"?{block:"nearest",inline:"nearest"}:rt))})});lr(()=>{c&&(n&&i.floating?X.current&&d!=null&&(de.current=!0,Z.current=d,U()):se.current&&(Z.current=-1,ee.current()))},[c,n,i.floating,d,U]),lr(()=>{if(c&&n&&i.floating)if(o==null){if(ce.current=!1,ze.current!=null)return;if(se.current&&(Z.current=-1,Ue()),(!Y.current||!se.current)&&X.current&&(ae.current!=null||X.current===!0&&ae.current==null)){let ve=0;const ke=()=>{s.current[0]==null?(ve<2&&(ve?requestAnimationFrame:queueMicrotask)(ke),ve++):(Z.current=ae.current==null||F_(ae.current,q,x)||b?q_(s,ye.current):xT(s,ye.current),ae.current=null,U())};ke()}}else Dh(s,o)||(Z.current=o,Ue(),de.current=!1)},[c,n,i.floating,o,ze,b,s,q,x,U,Ue,ye]),lr(()=>{var ve;if(!c||i.floating||!W||_||!se.current)return;const ke=W.nodesRef.current,je=(ve=ke.find(Me=>Me.id===F))==null||(ve=ve.context)==null?void 0:ve.elements.floating,Ve=fo(ti(i.floating)),rt=ke.some(Me=>Me.context&&ei(Me.context.elements.floating,Ve));je&&!rt&&ie.current&&je.focus({preventScroll:!0})},[c,i.floating,W,F,_]),lr(()=>{if(!c||!W||!_||F)return;function ve(ke){Xe(ke.id),L&&(L.current=ke)}return W.events.on("virtualfocus",ve),()=>{W.events.off("virtualfocus",ve)}},[c,W,_,F,L]),lr(()=>{ee.current=U,Y.current=n,se.current=!!i.floating}),lr(()=>{n||(ae.current=null)},[n]);const ut=o!=null,_t=Q.useMemo(()=>{function ve(je){if(!n)return;const Ve=s.current.indexOf(je);Ve!==-1&&Z.current!==Ve&&(Z.current=Ve,U())}return{onFocus(je){let{currentTarget:Ve}=je;ce.current=!0,ve(Ve)},onClick:je=>{let{currentTarget:Ve}=je;return Ve.focus({preventScroll:!0})},...I&&{onMouseMove(je){let{currentTarget:Ve}=je;ce.current=!0,de.current=!1,ve(Ve)},onPointerLeave(je){let{pointerType:Ve}=je;if(!(!ie.current||Ve==="touch")&&(ce.current=!0,Z.current=-1,U(),!_)){var rt;(rt=B.current)==null||rt.focus({preventScroll:!0})}}}}},[n,B,I,s,U,_]),Ot=Ei(ve=>{if(ie.current=!1,ce.current=!0,ve.which===229||!we.current&&ve.currentTarget===B.current)return;if(b&&LT(ve.key,q,x)){wi(ve),r(!1,ve.nativeEvent,"list-navigation"),Pr(i.domReference)&&(_?W?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ke=Z.current,je=q_(s,O),Ve=xT(s,O);if($||(ve.key==="Home"&&(wi(ve),Z.current=je,U()),ve.key==="End"&&(wi(ve),Z.current=Ve,U())),j>1){const rt=z||Array.from({length:s.current.length},()=>({width:1,height:1})),Me=r7(rt,j,P),ct=Me.findIndex(cn=>cn!=null&&!oy(s.current,cn,O)),Ht=Me.reduce((cn,er,Tn)=>er!=null&&!oy(s.current,er,O)?Tn:cn,-1),Qt=Me[n7({current:Me.map(cn=>cn!=null?s.current[cn]:null)},{event:ve,orientation:q,loop:h,rtl:x,cols:j,disabledIndices:s7([...O||s.current.map((cn,er)=>oy(s.current,er)?er:void 0),void 0],Me),minIndex:ct,maxIndex:Ht,prevIndex:i7(Z.current>Ve?je:Z.current,rt,Me,j,ve.key===Gp?"bl":ve.key===(x?Fl:Dl)?"tr":"tl"),stopEvent:!0})];if(Qt!=null&&(Z.current=Qt,U()),q==="both")return}if(DT(ve.key,q)){if(wi(ve),n&&!_&&fo(ve.currentTarget.ownerDocument)===ve.currentTarget){Z.current=F_(ve.key,q,x)?je:Ve,U();return}F_(ve.key,q,x)?h?Z.current=ke>=Ve?f&&ke!==s.current.length?-1:je:li(s,{startingIndex:ke,disabledIndices:O}):Z.current=Math.min(Ve,li(s,{startingIndex:ke,disabledIndices:O})):h?Z.current=ke<=je?f&&ke!==-1?s.current.length:Ve:li(s,{startingIndex:ke,decrement:!0,disabledIndices:O}):Z.current=Math.max(je,li(s,{startingIndex:ke,decrement:!0,disabledIndices:O})),Dh(s,Z.current)&&(Z.current=-1),U()}}),Wt=Q.useMemo(()=>_&&n&&ut&&{"aria-activedescendant":Ze||qe},[_,n,ut,Ze,qe]),en=Q.useMemo(()=>({"aria-orientation":q==="both"?void 0:q,...$?{}:Wt,onKeyDown:Ot,onPointerMove(){ie.current=!0}}),[Wt,Ot,q,$]),xe=Q.useMemo(()=>{function ve(je){N==="auto"&&QP(je.nativeEvent)&&(X.current=!0)}function ke(je){X.current=N,N==="auto"&&v1(je.nativeEvent)&&(X.current=!0)}return{...Wt,onKeyDown(je){ie.current=!1;const Ve=je.key.startsWith("Arrow"),rt=["Home","End"].includes(je.key),Me=Ve||rt,ct=O7(je.key,q,x),Ht=LT(je.key,q,x),Qt=DT(je.key,q),cn=(b?ct:Qt)||je.key==="Enter"||je.key.trim()==="";if(_&&n){const yi=W?.nodesRef.current.find(Kt=>Kt.parentId==null),fr=W&&yi?h7(W.nodesRef.current,yi.id):null;if(Me&&fr&&L){const Kt=new KeyboardEvent("keydown",{key:je.key,bubbles:!0});if(ct||Ht){var er,Tn;const Oi=((er=fr.context)==null?void 0:er.elements.domReference)===je.currentTarget,Ti=Ht&&!Oi?(Tn=fr.context)==null?void 0:Tn.elements.domReference:ct?s.current.find(qi=>qi?.id===qe):null;Ti&&(wi(je),Ti.dispatchEvent(Kt),Xe(void 0))}if((Qt||rt)&&fr.context&&fr.context.open&&fr.parentId&&je.currentTarget!==fr.context.elements.domReference){var Tr;wi(je),(Tr=fr.context.elements.domReference)==null||Tr.dispatchEvent(Kt);return}}return Ot(je)}if(!(!n&&!T&&Ve)){if(cn&&(ae.current=b&&Qt?null:je.key),b){ct&&(wi(je),n?(Z.current=q_(s,ye.current),U()):r(!0,je.nativeEvent,"list-navigation"));return}Qt&&(d!=null&&(Z.current=d),wi(je),!n&&T?r(!0,je.nativeEvent,"list-navigation"):Ot(je),n&&U())}},onFocus(){n&&!_&&(Z.current=-1,U())},onPointerDown:ke,onPointerEnter:ke,onMouseDown:ve,onClick:ve}},[qe,Wt,Ot,ye,N,s,b,U,r,n,T,q,x,d,W,_,L]);return Q.useMemo(()=>c?{reference:xe,floating:en,item:_t}:{},[c,xe,en,_t])}const MT=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Vc(t,e){return typeof t=="function"?t(e):t}function q7(t,e){const[n,r]=Q.useState(t);return t&&!n&&r(!0),Q.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function R7(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,o=(typeof i=="number"?i:i.close)||0,[l,c]=Q.useState("unmounted"),d=q7(n,o);return!d&&l==="close"&&c("unmounted"),lr(()=>{if(r){if(n){c("initial");const f=requestAnimationFrame(()=>{c("open")});return()=>{cancelAnimationFrame(f)}}c("close")}},[n,r]),{isMounted:d,status:l}}function T1(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:o=250}=e,l=t.placement,c=l.split("-")[0],d=Q.useMemo(()=>({side:c,placement:l}),[c,l]),f=typeof o=="number",h=(f?o:o.open)||0,b=(f?o:o.close)||0,[x,_]=Q.useState(()=>({...Vc(s,d),...Vc(n,d)})),{isMounted:N,status:I}=R7(t,{duration:o}),T=Ni(n),O=Ni(r),q=Ni(i),j=Ni(s);return lr(()=>{const D=Vc(T.current,d),L=Vc(q.current,d),z=Vc(j.current,d),P=Vc(O.current,d)||Object.keys(D).reduce((R,B)=>(R[B]="",R),{});if(I==="initial"&&_(R=>({transitionProperty:R.transitionProperty,...z,...D})),I==="open"&&_({transitionProperty:Object.keys(P).map(MT).join(","),transitionDuration:h+"ms",...z,...P}),I==="close"){const R=L||D;_({transitionProperty:Object.keys(R).map(MT).join(","),transitionDuration:b+"ms",...z,...R})}},[b,q,T,O,j,h,I,d]),{isMounted:N,styles:x}}const A7=Q.createContext({close(){}}),j7=mn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),P7=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:s,variant:o,tva:l=j7,css:c,children:d})=>{const[f,h]=Q.useState(!1),{refs:b,floatingStyles:x,context:_}=C1({open:f,onOpenChange:h,placement:"top",whileElementsMounted:uF,middleware:[dF(10),fF({fallbackAxisSideDirection:"start"}),Y9()],...s}),{getReferenceProps:N,getFloatingProps:I}=O1([f7(_,{enabled:e==="hover",delay:i}),k1(_,{enabled:e==="click"}),C7(_),I1(_)]),{isMounted:T,styles:O}=T1(_),q=l({mounted:T,...o,css:c}).slots;return m.jsxs(m.Fragment,{children:[m.jsx("button",{type:"button",ref:b.setReference,...N(),disabled:n,className:q.target(),children:t}),m.jsx(N1,{children:m.jsx("div",{ref:b.setFloating,style:{...x,...O},className:q.portal(),...I(),onClick:r?()=>{h(!1)}:void 0,children:m.jsx(A7.Provider,{value:{close(){h(!1)}},children:d})})})]})},EF="icon-[system-uicons--menu-hamburger]",NF=mn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),Xt=({icon:t,variant:e,tva:n=NF,css:r,...i})=>{const s=n({...e,css:r}).slots;return t?m.jsx("div",{className:s.base({css:[t]}),...i}):null},F7=mn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),Or=({icon:t=EF,iconProps:e,children:n,variant:r,tva:i=F7,css:s,...o})=>{const l=i({...r,css:s}).slots;return m.jsx(d7,{children:m.jsx(P7,{action:"click",target:m.jsx(Xt,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...o,children:m.jsx("div",{className:l.base(),children:n})})})},kF="icon-[svg-spinners--90-ring-with-bg]",D7=mn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),Tl=({iconEnabled:t,iconDisabled:e,iconLoading:n=kF,disabled:r=!1,loading:i=!1,onClick:s,variant:o,tva:l=D7,css:c,children:d,...f})=>{const h=l({disabled:r,loading:i,...o,css:c}).slots;return m.jsxs("div",{className:h.base(),onClick:r?void 0:s,...f,children:[r?m.jsx(Xt,{icon:i?n:e??t}):m.jsx(Xt,{icon:i?n:t}),d]})},IF="icon-[iconamoon--close-light]",cb=Q.createContext(void 0),L7=mn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),Uo=({target:t,icon:e,textTitle:n,disabled:r=!1,defaultOpen:i=!1,outside:s=!1,variant:o,css:l,tva:c=L7,children:d})=>{const[f,h]=Q.useState(i),b=u7(),{refs:x,context:_}=C1({nodeId:b,open:f,onOpenChange:h}),N=k1(_),I=I1(_,{outsidePress:s}),{getReferenceProps:T,getFloatingProps:O}=O1([N,I]),{isMounted:q,styles:j}=T1(_),D=c({disabled:r,...o,css:l}).slots;return m.jsxs(cb.Provider,{value:{close(){h(!1)}},children:[m.jsx("div",{ref:x.setReference,...T({disabled:r}),className:D.target(),children:t}),m.jsx(c7,{id:b,children:q&&m.jsx(m.Fragment,{children:m.jsx(N1,{children:m.jsx(E7,{lockScroll:!0,style:j,className:D.base(),children:m.jsx(SF,{context:_,children:m.jsxs("div",{ref:x.setFloating,...O(),className:D.modal(),children:[m.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Qv(e)?m.jsx(Xt,{icon:e,variant:{size:"xl"}}):e),n&&m.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),m.jsx(Tl,{iconEnabled:IF,onClick:()=>h(!1)})]}),$H(d)?m.jsx(d,{close:()=>h(!1)}):d]})})})})})})]})},M7=mn({use:WP,slot:{},variant:{},defaults:{}}),jn=({icon:t,iconProps:e,label:n,disabled:r=!1,hidden:i=!1,variant:s,tva:o=M7,css:l,...c})=>{const d=o({...s,disabled:r,css:l}).slots;return i?null:m.jsxs("div",{className:d.base(),children:[Qv(t)?m.jsx(Xt,{icon:t,...e}):t,m.jsx(Uo,{icon:t,target:n,disabled:r,css:{modal:["w-1/2"]},...c})]})},$7=mn({slot:{base:["flex","flex-row","gap-2","items-center","rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),Ko=({variant:t,tva:e=$7,css:n,...r})=>{const i=e({...t,css:n}).slots;return m.jsx("div",{className:i.base(),...r})},B7="icon-[material-symbols-light--check-small]",z7="icon-[material-symbols-light--close-small]",W7="icon-[material-symbols-light--check-indeterminate-small]",U7=mn({use:NF,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),CF=({value:t,checkIcon:e=B7,unCheckIcon:n=z7,undefinedIcon:r=W7,tva:i=U7,...s})=>t==null?m.jsx(Xt,{icon:r,tva:i,...s}):m.jsx(Xt,{icon:t?e:n,tva:o=>i({...o,value:t}),...s}),V7=mn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),OF=({value:t,onChange:e,variant:n,tva:r=V7,css:i,...s})=>{const o=r({...n,css:i}).slots;return m.jsx("div",{className:o.base(),children:m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:l=>{e(l.target.checked)},...s}),m.jsx("div",{className:o.switch()})]})})},H7=mn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),On=({iconEnabled:t,iconDisabled:e,iconLoading:n=kF,iconProps:r,loading:i,variant:s,tva:o=H7,css:l,children:c,...d})=>{const f=o({disabled:d.disabled,...s,css:l}).slots;return m.jsxs("button",{type:"button",className:f.base({disabled:d.disabled}),...d,children:[d.disabled?m.jsx(Xt,{icon:i===!0?n:e,variant:{size:"xl"},...r}):m.jsx(Xt,{icon:i===!0?n:t,variant:{size:"xl"},...r}),c]})},q1=Q.createContext({inline:!1}),Q7=mn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),K7=({inline:t,label:e,value:n,variant:r,tva:i=Q7,css:s})=>{const o=Q.useContext(q1),l=t??o?.inline,c=i({inline:l,...r,css:s}).slots;return m.jsxs("div",{className:c.base(),children:[e?m.jsx("div",{className:c.label(),children:e}):null,m.jsx("div",{className:c.value(),children:n})]})},G7=mn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),Z7=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:s=G7,css:o,inline:l=!1})=>{const c=s({inline:l,...i,css:o}).slots;return m.jsx(q1.Provider,{value:{inline:l},children:m.jsx("div",{className:c.base(),children:t.filter(({id:d})=>!e.includes(d)).map(({id:d,render:f,...h})=>m.jsx(K7,{value:m.jsx(f,{entity:r}),...n,...h},d))})})},J7=mn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),$T="icon-[tabler--dots]",Y7=mn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),X7=mn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),D_=({pages:t,page:e,onPage:n,variant:r,tva:i=X7,css:s})=>{const o=i({...r,css:s}).slots;return m.jsx("nav",{className:o.base(),children:m.jsx("ul",{className:o.list(),children:t.map((l,c)=>m.jsx("li",{className:o.page({current:e===l-1}),onClick:()=>n(l-1),children:l},`page-${l}-${c}`))})})},eQ=mn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),tQ=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:s=!1,onItem:o,onSelect:l,onChange:c,value:d,variant:f,tva:h=eQ,css:b})=>{const[x,_]=Q.useState(!1),[N,I]=Q.useState(null),[T,O]=Q.useState(t.findIndex(ee=>ee.id===n));Q.useEffect(()=>{O(t.findIndex(ee=>ee.id===d))},[d]);const{refs:q,floatingStyles:j,context:D}=C1({placement:"bottom-start",open:x,onOpenChange:_,whileElementsMounted:uF,middleware:[dF(5),fF({padding:10}),X9({apply({rects:ee,elements:se,availableHeight:Y}){Object.assign(se.floating.style,{maxHeight:`${Y}px`,minWidth:`${ee.reference.width}px`})},padding:10})]}),L=Q.useRef([]),z=Q.useRef(!1),P=k1(D,{event:"mousedown"}),R=I1(D),B=T7(D,{listRef:L,activeIndex:N,selectedIndex:T,onNavigate:I,loop:!0}),{getReferenceProps:F,getFloatingProps:W,getItemProps:U}=O1([R,B,P]),{isMounted:$,styles:X}=T1(D),Z=ee=>{O(ee),_(!1);const se=t[ee];se&&o?.(se),l?.(se),c?.(se?.id)},ae=T===null?void 0:t[T],ie=h({disabled:s,...f,css:b}).slots;return m.jsxs(m.Fragment,{children:[m.jsx("div",{tabIndex:s?-1:0,ref:s?void 0:q.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...s?{}:F(),className:ie.base(),children:m.jsxs("div",{className:ie.input(),children:[e?m.jsx(Xt,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,ae?m.jsx(r,{entity:ae}):i||$l.rich("Select item"),m.jsx(Xt,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!x&&"text-slate-400",x&&"text-slate-600","group-hover:text-slate-600"]}})]})}),$&&m.jsx(N1,{children:m.jsx(SF,{context:D,modal:!1,children:m.jsx("div",{ref:q.setFloating,style:{...j,...X},className:ie.popup(),...W(),children:t.map((ee,se)=>m.jsxs("div",{ref:Y=>{L.current[se]=Y},role:"option",tabIndex:se===N?0:-1,"aria-selected":se===T&&se===N,className:ie.item({selected:se===T,active:se===N}),...U({onClick(){Z(se)},onKeyDown(Y){Y.key==="Enter"&&(Y.preventDefault(),Z(se)),Y.key===" "&&!z.current&&(Y.preventDefault(),Z(se))}}),children:[m.jsx(r,{entity:ee}),se===T&&m.jsx(Xt,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},ee.id))})})})]})},nQ=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>m.jsx(tQ,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),BT=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:s,tva:o=Y7,css:l})=>{const c=Q.useMemo(()=>OH({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),d=o({...s,css:l}).slots;return m.jsxs("div",{className:d.base(),children:[c.total>1?m.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(c.type)&&m.jsxs(m.Fragment,{children:[m.jsx(D_,{page:t.page,pages:c.start,onPage:r}),m.jsx(Xt,{icon:$T})]}),m.jsx(D_,{page:t.page,pages:c.pages,onPage:r}),["both","end"].includes(c.type)&&m.jsxs(m.Fragment,{children:[m.jsx(Xt,{icon:$T}),m.jsx(D_,{page:t.page,pages:c.end,onPage:r})]})]}):null,m.jsxs("div",{className:d.sums(),children:[m.jsx("div",{children:n}),m.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&m.jsxs(m.Fragment,{children:[m.jsx("div",{children:"/"}),m.jsx("div",{className:"font-semibold",children:e.where})]})]}),m.jsx(nQ,{size:t.size,onSize:i})]})},zT="function",rd="64e10b34-2bf7-4616-9668-f99de5aa046e",rQ="get",iQ="has",sQ="set",{isArray:ay}=Array;let{SharedArrayBuffer:iv,window:oQ}=globalThis,{notify:TF,wait:qF,waitAsync:sv}=Atomics,RF=null;sv||(sv=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new iv(4)}catch{iv=ArrayBuffer;const e=new WeakMap;if(oQ){const n=new Map,{prototype:{postMessage:r}}=Worker,i=s=>{const o=s.data?.[rd];if(!ay(o)){s.stopImmediatePropagation();const{id:l,sb:c}=o;n.get(l)(c)}};RF=function(s,...o){const l=s?.[rd];if(ay(l)){const[c,d]=l;e.set(d,c),this.addEventListener("message",i)}return r.call(this,s,...o)},sv=s=>({value:new Promise(o=>{n.set(e.get(s),o)}).then(o=>{n.delete(e.get(s)),e.delete(s);for(let l=0;l<o.length;l++)s[l]=o[l];return"ok"})})}else{const n=(r,i)=>({[rd]:{id:r,sb:i}});TF=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[rd];if(ay(i)){const[s,o]=i;e.set(o,s)}})}}const{Int32Array:YS,Map:WT,Uint16Array:XS}=globalThis,{BYTES_PER_ELEMENT:UT}=YS,{BYTES_PER_ELEMENT:aQ}=XS,lQ=(t,e,n)=>{for(;qF(t,0,0,e)==="timed-out";)n()},eE=new WeakSet,L_=new WeakMap,uQ={value:{then:t=>t()}};let cQ=0;const R1=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!L_.has(t)){const s=RF||t.postMessage,o=(b,...x)=>s.call(t,{[rd]:x},{transfer:b}),l=typeof i===zT?i:i?.handler,c=i?.delay||42,d=new TextDecoder("utf-16"),f=(b,x)=>b?sv(x,0):(l?lQ(x,c,l):qF(x,0),uQ);let h=!1;L_.set(t,new Proxy(new WT,{[iQ]:(b,x)=>typeof x=="string"&&!x.startsWith("_"),[rQ]:(b,x)=>x==="then"?null:(..._)=>{const N=cQ++;let I=new YS(new iv(UT*2)),T=[];eE.has(_.at(-1)||T)&&eE.delete(T=_.pop()),o(T,N,I,x,r?_.map(r):_);const O=t!==globalThis;let q=0;return h&&O&&(q=setTimeout(console.warn,1e3,`💀🔒 - Possible deadlock if proxy.${x}(...args) is awaited`)),f(O,I).value.then(()=>{clearTimeout(q);const j=I[1];if(!j)return;const D=aQ*j;return I=new YS(new iv(D+D%UT)),o([],N,I),f(O,I).value.then(()=>e(d.decode(new XS(I.buffer).slice(0,j))))})},[sQ](b,x,_){const N=typeof _;if(N!==zT)throw new Error(`Unable to assign ${x} as ${N}`);if(!b.size){const I=new WT;t.addEventListener("message",async T=>{const O=T.data?.[rd];if(ay(O)){T.stopImmediatePropagation();const[q,j,...D]=O;let L;if(D.length){const[z,P]=D;if(b.has(z)){h=!0;try{const R=await b.get(z)(...P);if(R!==void 0){const B=n(r?r(R):R);I.set(q,B),j[1]=B.length}}catch(R){L=R}finally{h=!1}}else L=new Error(`Unsupported action: ${z}`);j[0]=1}else{const z=I.get(q);I.delete(q);for(let P=new XS(j.buffer),R=0;R<z.length;R++)P[R]=z.charCodeAt(R)}if(TF(j,0),L)throw L}})}return!!b.set(x,_)}}))}return L_.get(t)};R1.transfer=(...t)=>(eE.add(t),t);var A1=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,s,o=new Promise((g,y)=>{i=g,s=y}),l=typeof window=="object",c=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const d=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,d.debugModule("globalThis.location =",globalThis.location);var f=Object.assign({},r),h="./this.program",b="";function x(g){return r.locateFile?r.locateFile(g,b):b+g}var _,N;(l||c)&&(c?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),t&&(b=t),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),c&&(N=g=>{var y=new XMLHttpRequest;return y.open("GET",g,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),_=g=>fetch(g,{credentials:"same-origin"}).then(y=>y.ok?y.arrayBuffer():Promise.reject(new Error(y.status+" : "+y.url))));var I=r.print||console.log.bind(console),T=r.printErr||console.error.bind(console);Object.assign(r,f),f=null,r.arguments&&r.arguments,r.thisProgram&&(h=r.thisProgram);var O=r.wasmBinary,q,j=!1,D,L,z,P,R,B;function F(){var g=q.buffer;r.HEAP8=D=new Int8Array(g),r.HEAP16=z=new Int16Array(g),r.HEAPU8=L=new Uint8Array(g),r.HEAPU16=new Uint16Array(g),r.HEAP32=P=new Int32Array(g),r.HEAPU32=R=new Uint32Array(g),r.HEAPF32=new Float32Array(g),r.HEAPF64=new Float64Array(g),r.HEAP64=B=new BigInt64Array(g),r.HEAPU64=new BigUint64Array(g)}if(r.wasmMemory)q=r.wasmMemory;else{var W=r.INITIAL_MEMORY||0x1000000;q=new WebAssembly.Memory({initial:W/65536,maximum:32768})}F();var U=[],$=[],X=[];function Z(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)ee(r.preRun.shift());xe(U)}function ae(){!r.noFSInit&&!V.initialized&&V.init(),V.ignorePermissions=!1,xe($)}function ie(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Y(r.postRun.shift());xe(X)}function ee(g){U.unshift(g)}function se(g){$.unshift(g)}function Y(g){X.unshift(g)}var ce=0,de=null;function ye(g){return g}function we(g){ce++,r.monitorRunDependencies?.(ce)}function Ne(g){if(ce--,r.monitorRunDependencies?.(ce),ce==0&&de){var y=de;de=null,y()}}function ze(g){r.onAbort?.(g),g="Aborted("+g+")",T(g),j=!0,g+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(g);throw s(y),y}var qe="data:application/octet-stream;base64,",De=g=>g.startsWith(qe);function Ze(){if(r.locateFile){var g="sqlite3.wasm";return De(g)?g:x(g)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var Xe;function Ue(g){if(g==Xe&&O)return new Uint8Array(O);if(N)return N(g);throw"both async and sync fetching of the wasm failed"}function ut(g){return O?Promise.resolve().then(()=>Ue(g)):_(g).then(y=>new Uint8Array(y),()=>Ue(g))}function _t(g,y,S){return ut(g).then(E=>WebAssembly.instantiate(E,y)).then(S,E=>{T(`failed to asynchronously prepare wasm: ${E}`),ze(E)})}function Ot(g,y,S,E){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!De(y)&&typeof fetch=="function"?fetch(y,{credentials:"same-origin"}).then(C=>{var M=WebAssembly.instantiateStreaming(C,S);return M.then(E,function(fe){return T(`wasm streaming compile failed: ${fe}`),T("falling back to ArrayBuffer instantiation"),_t(y,S,E)})}):_t(y,S,E)}function Wt(){return{env:Sf,wasi_snapshot_preview1:Sf}}function en(){var g=Wt();function y(E,C){return pe=E.exports,se(pe.__wasm_call_ctors),Ne(),pe}we();function S(E){y(E.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(g,y)}catch(E){T(`Module.instantiateWasm callback failed with error: ${E}`),s(E)}return Xe||(Xe=Ze()),Ot(O,Xe,g,S).catch(s),{}}var xe=g=>{for(;g.length>0;)g.shift()(r)};r.noExitRuntime;var ve={isAbs:g=>g.charAt(0)==="/",splitPath:g=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(g).slice(1)},normalizeArray:(g,y)=>{for(var S=0,E=g.length-1;E>=0;E--){var C=g[E];C==="."?g.splice(E,1):C===".."?(g.splice(E,1),S++):S&&(g.splice(E,1),S--)}if(y)for(;S;S--)g.unshift("..");return g},normalize:g=>{var y=ve.isAbs(g),S=g.substr(-1)==="/";return g=ve.normalizeArray(g.split("/").filter(E=>!!E),!y).join("/"),!g&&!y&&(g="."),g&&S&&(g+="/"),(y?"/":"")+g},dirname:g=>{var y=ve.splitPath(g),S=y[0],E=y[1];return!S&&!E?".":(E&&(E=E.substr(0,E.length-1)),S+E)},basename:g=>{if(g==="/")return"/";g=ve.normalize(g),g=g.replace(/\/$/,"");var y=g.lastIndexOf("/");return y===-1?g:g.substr(y+1)},join:(...g)=>ve.normalize(g.join("/")),join2:(g,y)=>ve.normalize(g+"/"+y)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return g=>crypto.getRandomValues(g);ze("initRandomDevice")},je=g=>(je=ke())(g),Ve={resolve:(...g)=>{for(var y="",S=!1,E=g.length-1;E>=-1&&!S;E--){var C=E>=0?g[E]:V.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,S=ve.isAbs(C)}return y=ve.normalizeArray(y.split("/").filter(M=>!!M),!S).join("/"),(S?"/":"")+y||"."},relative:(g,y)=>{g=Ve.resolve(g).substr(1),y=Ve.resolve(y).substr(1);function S(tt){for(var at=0;at<tt.length&&tt[at]==="";at++);for(var mt=tt.length-1;mt>=0&&tt[mt]==="";mt--);return at>mt?[]:tt.slice(at,mt-at+1)}for(var E=S(g.split("/")),C=S(y.split("/")),M=Math.min(E.length,C.length),fe=M,me=0;me<M;me++)if(E[me]!==C[me]){fe=me;break}for(var Qe=[],me=fe;me<E.length;me++)Qe.push("..");return Qe=Qe.concat(C.slice(fe)),Qe.join("/")}},rt=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(g,y,S)=>{for(var E=y+S,C=y;g[C]&&!(C>=E);)++C;if(C-y>16&&g.buffer&&rt)return rt.decode(g.subarray(y,C));for(var M="";y<C;){var fe=g[y++];if(!(fe&128)){M+=String.fromCharCode(fe);continue}var me=g[y++]&63;if((fe&224)==192){M+=String.fromCharCode((fe&31)<<6|me);continue}var Qe=g[y++]&63;if((fe&240)==224?fe=(fe&15)<<12|me<<6|Qe:fe=(fe&7)<<18|me<<12|Qe<<6|g[y++]&63,fe<65536)M+=String.fromCharCode(fe);else{var tt=fe-65536;M+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return M},ct=[],Ht=g=>{for(var y=0,S=0;S<g.length;++S){var E=g.charCodeAt(S);E<=127?y++:E<=2047?y+=2:E>=55296&&E<=57343?(y+=4,++S):y+=3}return y},Qt=(g,y,S,E)=>{if(!(E>0))return 0;for(var C=S,M=S+E-1,fe=0;fe<g.length;++fe){var me=g.charCodeAt(fe);if(me>=55296&&me<=57343){var Qe=g.charCodeAt(++fe);me=65536+((me&1023)<<10)|Qe&1023}if(me<=127){if(S>=M)break;y[S++]=me}else if(me<=2047){if(S+1>=M)break;y[S++]=192|me>>6,y[S++]=128|me&63}else if(me<=65535){if(S+2>=M)break;y[S++]=224|me>>12,y[S++]=128|me>>6&63,y[S++]=128|me&63}else{if(S+3>=M)break;y[S++]=240|me>>18,y[S++]=128|me>>12&63,y[S++]=128|me>>6&63,y[S++]=128|me&63}}return y[S]=0,S-C};function cn(g,y,S){var E=Ht(g)+1,C=new Array(E),M=Qt(g,C,0,C.length);return C.length=M,C}var er=()=>{if(!ct.length){var g=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(g=window.prompt("Input: "),g!==null&&(g+=`
`)),!g)return null;ct=cn(g)}return ct.shift()},Tn={ttys:[],init(){},shutdown(){},register(g,y){Tn.ttys[g]={input:[],output:[],ops:y},V.registerDevice(g,Tn.stream_ops)},stream_ops:{open(g){var y=Tn.ttys[g.node.rdev];if(!y)throw new V.ErrnoError(43);g.tty=y,g.seekable=!1},close(g){g.tty.ops.fsync(g.tty)},fsync(g){g.tty.ops.fsync(g.tty)},read(g,y,S,E,C){if(!g.tty||!g.tty.ops.get_char)throw new V.ErrnoError(60);for(var M=0,fe=0;fe<E;fe++){var me;try{me=g.tty.ops.get_char(g.tty)}catch{throw new V.ErrnoError(29)}if(me===void 0&&M===0)throw new V.ErrnoError(6);if(me==null)break;M++,y[S+fe]=me}return M&&(g.node.timestamp=Date.now()),M},write(g,y,S,E,C){if(!g.tty||!g.tty.ops.put_char)throw new V.ErrnoError(60);try{for(var M=0;M<E;M++)g.tty.ops.put_char(g.tty,y[S+M])}catch{throw new V.ErrnoError(29)}return E&&(g.node.timestamp=Date.now()),M}},default_tty_ops:{get_char(g){return er()},put_char(g,y){y===null||y===10?(I(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(I(Me(g.output,0)),g.output=[])},ioctl_tcgets(g){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(g,y,S){return 0},ioctl_tiocgwinsz(g){return[24,80]}},default_tty1_ops:{put_char(g,y){y===null||y===10?(T(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(T(Me(g.output,0)),g.output=[])}}},Tr=(g,y)=>(L.fill(0,g,g+y),g),yi=(g,y)=>Math.ceil(g/y)*y,fr=g=>{g=yi(g,65536);var y=Ef(65536,g);return y?Tr(y,g):0},Kt={ops_table:null,mount(g){return Kt.createNode(null,"/",16895,0)},createNode(g,y,S,E){if(V.isBlkdev(S)||V.isFIFO(S))throw new V.ErrnoError(63);Kt.ops_table||={dir:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr,lookup:Kt.node_ops.lookup,mknod:Kt.node_ops.mknod,rename:Kt.node_ops.rename,unlink:Kt.node_ops.unlink,rmdir:Kt.node_ops.rmdir,readdir:Kt.node_ops.readdir,symlink:Kt.node_ops.symlink},stream:{llseek:Kt.stream_ops.llseek}},file:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr},stream:{llseek:Kt.stream_ops.llseek,read:Kt.stream_ops.read,write:Kt.stream_ops.write,allocate:Kt.stream_ops.allocate,mmap:Kt.stream_ops.mmap,msync:Kt.stream_ops.msync}},link:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr,readlink:Kt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr},stream:V.chrdev_stream_ops}};var C=V.createNode(g,y,S,E);return V.isDir(C.mode)?(C.node_ops=Kt.ops_table.dir.node,C.stream_ops=Kt.ops_table.dir.stream,C.contents={}):V.isFile(C.mode)?(C.node_ops=Kt.ops_table.file.node,C.stream_ops=Kt.ops_table.file.stream,C.usedBytes=0,C.contents=null):V.isLink(C.mode)?(C.node_ops=Kt.ops_table.link.node,C.stream_ops=Kt.ops_table.link.stream):V.isChrdev(C.mode)&&(C.node_ops=Kt.ops_table.chrdev.node,C.stream_ops=Kt.ops_table.chrdev.stream),C.timestamp=Date.now(),g&&(g.contents[y]=C,g.timestamp=C.timestamp),C},getFileDataAsTypedArray(g){return g.contents?g.contents.subarray?g.contents.subarray(0,g.usedBytes):new Uint8Array(g.contents):new Uint8Array(0)},expandFileStorage(g,y){var S=g.contents?g.contents.length:0;if(!(S>=y)){var E=1024*1024;y=Math.max(y,S*(S<E?2:1.125)>>>0),S!=0&&(y=Math.max(y,256));var C=g.contents;g.contents=new Uint8Array(y),g.usedBytes>0&&g.contents.set(C.subarray(0,g.usedBytes),0)}},resizeFileStorage(g,y){if(g.usedBytes!=y)if(y==0)g.contents=null,g.usedBytes=0;else{var S=g.contents;g.contents=new Uint8Array(y),S&&g.contents.set(S.subarray(0,Math.min(y,g.usedBytes))),g.usedBytes=y}},node_ops:{getattr(g){var y={};return y.dev=V.isChrdev(g.mode)?g.id:1,y.ino=g.id,y.mode=g.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=g.rdev,V.isDir(g.mode)?y.size=4096:V.isFile(g.mode)?y.size=g.usedBytes:V.isLink(g.mode)?y.size=g.link.length:y.size=0,y.atime=new Date(g.timestamp),y.mtime=new Date(g.timestamp),y.ctime=new Date(g.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr(g,y){y.mode!==void 0&&(g.mode=y.mode),y.timestamp!==void 0&&(g.timestamp=y.timestamp),y.size!==void 0&&Kt.resizeFileStorage(g,y.size)},lookup(g,y){throw V.genericErrors[44]},mknod(g,y,S,E){return Kt.createNode(g,y,S,E)},rename(g,y,S){if(V.isDir(g.mode)){var E;try{E=V.lookupNode(y,S)}catch{}if(E)for(var C in E.contents)throw new V.ErrnoError(55)}delete g.parent.contents[g.name],g.parent.timestamp=Date.now(),g.name=S,y.contents[S]=g,y.timestamp=g.parent.timestamp},unlink(g,y){delete g.contents[y],g.timestamp=Date.now()},rmdir(g,y){var S=V.lookupNode(g,y);for(var E in S.contents)throw new V.ErrnoError(55);delete g.contents[y],g.timestamp=Date.now()},readdir(g){var y=[".",".."];for(var S of Object.keys(g.contents))y.push(S);return y},symlink(g,y,S){var E=Kt.createNode(g,y,41471,0);return E.link=S,E},readlink(g){if(!V.isLink(g.mode))throw new V.ErrnoError(28);return g.link}},stream_ops:{read(g,y,S,E,C){var M=g.node.contents;if(C>=g.node.usedBytes)return 0;var fe=Math.min(g.node.usedBytes-C,E);if(fe>8&&M.subarray)y.set(M.subarray(C,C+fe),S);else for(var me=0;me<fe;me++)y[S+me]=M[C+me];return fe},write(g,y,S,E,C,M){if(y.buffer===D.buffer&&(M=!1),!E)return 0;var fe=g.node;if(fe.timestamp=Date.now(),y.subarray&&(!fe.contents||fe.contents.subarray)){if(M)return fe.contents=y.subarray(S,S+E),fe.usedBytes=E,E;if(fe.usedBytes===0&&C===0)return fe.contents=y.slice(S,S+E),fe.usedBytes=E,E;if(C+E<=fe.usedBytes)return fe.contents.set(y.subarray(S,S+E),C),E}if(Kt.expandFileStorage(fe,C+E),fe.contents.subarray&&y.subarray)fe.contents.set(y.subarray(S,S+E),C);else for(var me=0;me<E;me++)fe.contents[C+me]=y[S+me];return fe.usedBytes=Math.max(fe.usedBytes,C+E),E},llseek(g,y,S){var E=y;if(S===1?E+=g.position:S===2&&V.isFile(g.node.mode)&&(E+=g.node.usedBytes),E<0)throw new V.ErrnoError(28);return E},allocate(g,y,S){Kt.expandFileStorage(g.node,y+S),g.node.usedBytes=Math.max(g.node.usedBytes,y+S)},mmap(g,y,S,E,C){if(!V.isFile(g.node.mode))throw new V.ErrnoError(43);var M,fe,me=g.node.contents;if(!(C&2)&&me&&me.buffer===D.buffer)fe=!1,M=me.byteOffset;else{if(fe=!0,M=fr(y),!M)throw new V.ErrnoError(48);me&&((S>0||S+y<me.length)&&(me.subarray?me=me.subarray(S,S+y):me=Array.prototype.slice.call(me,S,S+y)),D.set(me,M))}return{ptr:M,allocated:fe}},msync(g,y,S,E,C){return Kt.stream_ops.write(g,y,0,E,S,!1),0}}},Oi=(g,y,S,E)=>{var C=`al ${g}`;_(g).then(M=>{y(new Uint8Array(M)),C&&Ne()},M=>{if(S)S();else throw`Loading data file "${g}" failed.`}),C&&we()},Ti=(g,y,S,E,C,M)=>{V.createDataFile(g,y,S,E,C,M)},qi=r.preloadPlugins||[],Ys=(g,y,S,E)=>{typeof Browser<"u"&&Browser.init();var C=!1;return qi.forEach(M=>{C||M.canHandle(y)&&(M.handle(g,y,S,E),C=!0)}),C},sa=(g,y,S,E,C,M,fe,me,Qe,tt)=>{var at=y?Ve.resolve(ve.join2(g,y)):g;function mt(Be){function Re(et){tt?.(),me||Ti(g,y,et,E,C,Qe),M?.(),Ne()}Ys(Be,at,Re,()=>{fe?.(),Ne()})||Re(Be)}we(),typeof S=="string"?Oi(S,mt,fe):mt(S)},eu=g=>{var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},S=y[g];if(typeof S>"u")throw new Error(`Unknown file open mode: ${g}`);return S},xs=(g,y)=>{var S=0;return g&&(S|=365),y&&(S|=146),S},V={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(g){this.name="ErrnoError",this.errno=g}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(g){this.node=g}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(g){this.shared.flags=g}get position(){return this.shared.position}set position(g){this.shared.position=g}},FSNode:class{constructor(g,y,S,E){g||(g=this),this.parent=g,this.mount=g.mount,this.mounted=null,this.id=V.nextInode++,this.name=y,this.mode=S,this.node_ops={},this.stream_ops={},this.rdev=E,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(g){g?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(g){g?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return V.isDir(this.mode)}get isDevice(){return V.isChrdev(this.mode)}},lookupPath(g,y={}){if(g=Ve.resolve(g),!g)return{path:"",node:null};var S={follow_mount:!0,recurse_count:0};if(y=Object.assign(S,y),y.recurse_count>8)throw new V.ErrnoError(32);for(var E=g.split("/").filter(mt=>!!mt),C=V.root,M="/",fe=0;fe<E.length;fe++){var me=fe===E.length-1;if(me&&y.parent)break;if(C=V.lookupNode(C,E[fe]),M=ve.join2(M,E[fe]),V.isMountpoint(C)&&(!me||me&&y.follow_mount)&&(C=C.mounted.root),!me||y.follow)for(var Qe=0;V.isLink(C.mode);){var tt=V.readlink(M);M=Ve.resolve(ve.dirname(M),tt);var at=V.lookupPath(M,{recurse_count:y.recurse_count+1});if(C=at.node,Qe++>40)throw new V.ErrnoError(32)}}return{path:M,node:C}},getPath(g){for(var y;;){if(V.isRoot(g)){var S=g.mount.mountpoint;return y?S[S.length-1]!=="/"?`${S}/${y}`:S+y:S}y=y?`${g.name}/${y}`:g.name,g=g.parent}},hashName(g,y){for(var S=0,E=0;E<y.length;E++)S=(S<<5)-S+y.charCodeAt(E)|0;return(g+S>>>0)%V.nameTable.length},hashAddNode(g){var y=V.hashName(g.parent.id,g.name);g.name_next=V.nameTable[y],V.nameTable[y]=g},hashRemoveNode(g){var y=V.hashName(g.parent.id,g.name);if(V.nameTable[y]===g)V.nameTable[y]=g.name_next;else for(var S=V.nameTable[y];S;){if(S.name_next===g){S.name_next=g.name_next;break}S=S.name_next}},lookupNode(g,y){var S=V.mayLookup(g);if(S)throw new V.ErrnoError(S);for(var E=V.hashName(g.id,y),C=V.nameTable[E];C;C=C.name_next){var M=C.name;if(C.parent.id===g.id&&M===y)return C}return V.lookup(g,y)},createNode(g,y,S,E){var C=new V.FSNode(g,y,S,E);return V.hashAddNode(C),C},destroyNode(g){V.hashRemoveNode(g)},isRoot(g){return g===g.parent},isMountpoint(g){return!!g.mounted},isFile(g){return(g&61440)===32768},isDir(g){return(g&61440)===16384},isLink(g){return(g&61440)===40960},isChrdev(g){return(g&61440)===8192},isBlkdev(g){return(g&61440)===24576},isFIFO(g){return(g&61440)===4096},isSocket(g){return(g&49152)===49152},flagsToPermissionString(g){var y=["r","w","rw"][g&3];return g&512&&(y+="w"),y},nodePermissions(g,y){return V.ignorePermissions?0:y.includes("r")&&!(g.mode&292)||y.includes("w")&&!(g.mode&146)||y.includes("x")&&!(g.mode&73)?2:0},mayLookup(g){if(!V.isDir(g.mode))return 54;var y=V.nodePermissions(g,"x");return y||(g.node_ops.lookup?0:2)},mayCreate(g,y){try{var S=V.lookupNode(g,y);return 20}catch{}return V.nodePermissions(g,"wx")},mayDelete(g,y,S){var E;try{E=V.lookupNode(g,y)}catch(M){return M.errno}var C=V.nodePermissions(g,"wx");if(C)return C;if(S){if(!V.isDir(E.mode))return 54;if(V.isRoot(E)||V.getPath(E)===V.cwd())return 10}else if(V.isDir(E.mode))return 31;return 0},mayOpen(g,y){return g?V.isLink(g.mode)?32:V.isDir(g.mode)&&(V.flagsToPermissionString(y)!=="r"||y&512)?31:V.nodePermissions(g,V.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd(){for(var g=0;g<=V.MAX_OPEN_FDS;g++)if(!V.streams[g])return g;throw new V.ErrnoError(33)},getStreamChecked(g){var y=V.getStream(g);if(!y)throw new V.ErrnoError(8);return y},getStream:g=>V.streams[g],createStream(g,y=-1){return g=Object.assign(new V.FSStream,g),y==-1&&(y=V.nextfd()),g.fd=y,V.streams[y]=g,g},closeStream(g){V.streams[g]=null},dupStream(g,y=-1){var S=V.createStream(g,y);return S.stream_ops?.dup?.(S),S},chrdev_stream_ops:{open(g){var y=V.getDevice(g.node.rdev);g.stream_ops=y.stream_ops,g.stream_ops.open?.(g)},llseek(){throw new V.ErrnoError(70)}},major:g=>g>>8,minor:g=>g&255,makedev:(g,y)=>g<<8|y,registerDevice(g,y){V.devices[g]={stream_ops:y}},getDevice:g=>V.devices[g],getMounts(g){for(var y=[],S=[g];S.length;){var E=S.pop();y.push(E),S.push(...E.mounts)}return y},syncfs(g,y){typeof g=="function"&&(y=g,g=!1),V.syncFSRequests++,V.syncFSRequests>1&&T(`warning: ${V.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var S=V.getMounts(V.root.mount),E=0;function C(fe){return V.syncFSRequests--,y(fe)}function M(fe){if(fe)return M.errored?void 0:(M.errored=!0,C(fe));++E>=S.length&&C(null)}S.forEach(fe=>{if(!fe.type.syncfs)return M(null);fe.type.syncfs(fe,g,M)})},mount(g,y,S){var E=S==="/",C=!S,M;if(E&&V.root)throw new V.ErrnoError(10);if(!E&&!C){var fe=V.lookupPath(S,{follow_mount:!1});if(S=fe.path,M=fe.node,V.isMountpoint(M))throw new V.ErrnoError(10);if(!V.isDir(M.mode))throw new V.ErrnoError(54)}var me={type:g,opts:y,mountpoint:S,mounts:[]},Qe=g.mount(me);return Qe.mount=me,me.root=Qe,E?V.root=Qe:M&&(M.mounted=me,M.mount&&M.mount.mounts.push(me)),Qe},unmount(g){var y=V.lookupPath(g,{follow_mount:!1});if(!V.isMountpoint(y.node))throw new V.ErrnoError(28);var S=y.node,E=S.mounted,C=V.getMounts(E);Object.keys(V.nameTable).forEach(fe=>{for(var me=V.nameTable[fe];me;){var Qe=me.name_next;C.includes(me.mount)&&V.destroyNode(me),me=Qe}}),S.mounted=null;var M=S.mount.mounts.indexOf(E);S.mount.mounts.splice(M,1)},lookup(g,y){return g.node_ops.lookup(g,y)},mknod(g,y,S){var E=V.lookupPath(g,{parent:!0}),C=E.node,M=ve.basename(g);if(!M||M==="."||M==="..")throw new V.ErrnoError(28);var fe=V.mayCreate(C,M);if(fe)throw new V.ErrnoError(fe);if(!C.node_ops.mknod)throw new V.ErrnoError(63);return C.node_ops.mknod(C,M,y,S)},create(g,y){return y=y!==void 0?y:438,y&=4095,y|=32768,V.mknod(g,y,0)},mkdir(g,y){return y=y!==void 0?y:511,y&=1023,y|=16384,V.mknod(g,y,0)},mkdirTree(g,y){for(var S=g.split("/"),E="",C=0;C<S.length;++C)if(S[C]){E+="/"+S[C];try{V.mkdir(E,y)}catch(M){if(M.errno!=20)throw M}}},mkdev(g,y,S){return typeof S>"u"&&(S=y,y=438),y|=8192,V.mknod(g,y,S)},symlink(g,y){if(!Ve.resolve(g))throw new V.ErrnoError(44);var S=V.lookupPath(y,{parent:!0}),E=S.node;if(!E)throw new V.ErrnoError(44);var C=ve.basename(y),M=V.mayCreate(E,C);if(M)throw new V.ErrnoError(M);if(!E.node_ops.symlink)throw new V.ErrnoError(63);return E.node_ops.symlink(E,C,g)},rename(g,y){var S=ve.dirname(g),E=ve.dirname(y),C=ve.basename(g),M=ve.basename(y),fe,me,Qe;if(fe=V.lookupPath(g,{parent:!0}),me=fe.node,fe=V.lookupPath(y,{parent:!0}),Qe=fe.node,!me||!Qe)throw new V.ErrnoError(44);if(me.mount!==Qe.mount)throw new V.ErrnoError(75);var tt=V.lookupNode(me,C),at=Ve.relative(g,E);if(at.charAt(0)!==".")throw new V.ErrnoError(28);if(at=Ve.relative(y,S),at.charAt(0)!==".")throw new V.ErrnoError(55);var mt;try{mt=V.lookupNode(Qe,M)}catch{}if(tt!==mt){var Be=V.isDir(tt.mode),Re=V.mayDelete(me,C,Be);if(Re)throw new V.ErrnoError(Re);if(Re=mt?V.mayDelete(Qe,M,Be):V.mayCreate(Qe,M),Re)throw new V.ErrnoError(Re);if(!me.node_ops.rename)throw new V.ErrnoError(63);if(V.isMountpoint(tt)||mt&&V.isMountpoint(mt))throw new V.ErrnoError(10);if(Qe!==me&&(Re=V.nodePermissions(me,"w"),Re))throw new V.ErrnoError(Re);V.hashRemoveNode(tt);try{me.node_ops.rename(tt,Qe,M),tt.parent=Qe}catch(et){throw et}finally{V.hashAddNode(tt)}}},rmdir(g){var y=V.lookupPath(g,{parent:!0}),S=y.node,E=ve.basename(g),C=V.lookupNode(S,E),M=V.mayDelete(S,E,!0);if(M)throw new V.ErrnoError(M);if(!S.node_ops.rmdir)throw new V.ErrnoError(63);if(V.isMountpoint(C))throw new V.ErrnoError(10);S.node_ops.rmdir(S,E),V.destroyNode(C)},readdir(g){var y=V.lookupPath(g,{follow:!0}),S=y.node;if(!S.node_ops.readdir)throw new V.ErrnoError(54);return S.node_ops.readdir(S)},unlink(g){var y=V.lookupPath(g,{parent:!0}),S=y.node;if(!S)throw new V.ErrnoError(44);var E=ve.basename(g),C=V.lookupNode(S,E),M=V.mayDelete(S,E,!1);if(M)throw new V.ErrnoError(M);if(!S.node_ops.unlink)throw new V.ErrnoError(63);if(V.isMountpoint(C))throw new V.ErrnoError(10);S.node_ops.unlink(S,E),V.destroyNode(C)},readlink(g){var y=V.lookupPath(g),S=y.node;if(!S)throw new V.ErrnoError(44);if(!S.node_ops.readlink)throw new V.ErrnoError(28);return Ve.resolve(V.getPath(S.parent),S.node_ops.readlink(S))},stat(g,y){var S=V.lookupPath(g,{follow:!y}),E=S.node;if(!E)throw new V.ErrnoError(44);if(!E.node_ops.getattr)throw new V.ErrnoError(63);return E.node_ops.getattr(E)},lstat(g){return V.stat(g,!0)},chmod(g,y,S){var E;if(typeof g=="string"){var C=V.lookupPath(g,{follow:!S});E=C.node}else E=g;if(!E.node_ops.setattr)throw new V.ErrnoError(63);E.node_ops.setattr(E,{mode:y&4095|E.mode&-4096,timestamp:Date.now()})},lchmod(g,y){V.chmod(g,y,!0)},fchmod(g,y){var S=V.getStreamChecked(g);V.chmod(S.node,y)},chown(g,y,S,E){var C;if(typeof g=="string"){var M=V.lookupPath(g,{follow:!E});C=M.node}else C=g;if(!C.node_ops.setattr)throw new V.ErrnoError(63);C.node_ops.setattr(C,{timestamp:Date.now()})},lchown(g,y,S){V.chown(g,y,S,!0)},fchown(g,y,S){var E=V.getStreamChecked(g);V.chown(E.node,y,S)},truncate(g,y){if(y<0)throw new V.ErrnoError(28);var S;if(typeof g=="string"){var E=V.lookupPath(g,{follow:!0});S=E.node}else S=g;if(!S.node_ops.setattr)throw new V.ErrnoError(63);if(V.isDir(S.mode))throw new V.ErrnoError(31);if(!V.isFile(S.mode))throw new V.ErrnoError(28);var C=V.nodePermissions(S,"w");if(C)throw new V.ErrnoError(C);S.node_ops.setattr(S,{size:y,timestamp:Date.now()})},ftruncate(g,y){var S=V.getStreamChecked(g);if(!(S.flags&2097155))throw new V.ErrnoError(28);V.truncate(S.node,y)},utime(g,y,S){var E=V.lookupPath(g,{follow:!0}),C=E.node;C.node_ops.setattr(C,{timestamp:Math.max(y,S)})},open(g,y,S){if(g==="")throw new V.ErrnoError(44);y=typeof y=="string"?eu(y):y,y&64?(S=typeof S>"u"?438:S,S=S&4095|32768):S=0;var E;if(typeof g=="object")E=g;else{g=ve.normalize(g);try{var C=V.lookupPath(g,{follow:!(y&131072)});E=C.node}catch{}}var M=!1;if(y&64)if(E){if(y&128)throw new V.ErrnoError(20)}else E=V.mknod(g,S,0),M=!0;if(!E)throw new V.ErrnoError(44);if(V.isChrdev(E.mode)&&(y&=-513),y&65536&&!V.isDir(E.mode))throw new V.ErrnoError(54);if(!M){var fe=V.mayOpen(E,y);if(fe)throw new V.ErrnoError(fe)}y&512&&!M&&V.truncate(E,0),y&=-131713;var me=V.createStream({node:E,path:V.getPath(E),flags:y,seekable:!0,position:0,stream_ops:E.stream_ops,ungotten:[],error:!1});return me.stream_ops.open&&me.stream_ops.open(me),r.logReadFiles&&!(y&1)&&(V.readFiles||(V.readFiles={}),g in V.readFiles||(V.readFiles[g]=1)),me},close(g){if(V.isClosed(g))throw new V.ErrnoError(8);g.getdents&&(g.getdents=null);try{g.stream_ops.close&&g.stream_ops.close(g)}catch(y){throw y}finally{V.closeStream(g.fd)}g.fd=null},isClosed(g){return g.fd===null},llseek(g,y,S){if(V.isClosed(g))throw new V.ErrnoError(8);if(!g.seekable||!g.stream_ops.llseek)throw new V.ErrnoError(70);if(S!=0&&S!=1&&S!=2)throw new V.ErrnoError(28);return g.position=g.stream_ops.llseek(g,y,S),g.ungotten=[],g.position},read(g,y,S,E,C){if(E<0||C<0)throw new V.ErrnoError(28);if(V.isClosed(g))throw new V.ErrnoError(8);if((g.flags&2097155)===1)throw new V.ErrnoError(8);if(V.isDir(g.node.mode))throw new V.ErrnoError(31);if(!g.stream_ops.read)throw new V.ErrnoError(28);var M=typeof C<"u";if(!M)C=g.position;else if(!g.seekable)throw new V.ErrnoError(70);var fe=g.stream_ops.read(g,y,S,E,C);return M||(g.position+=fe),fe},write(g,y,S,E,C,M){if(E<0||C<0)throw new V.ErrnoError(28);if(V.isClosed(g))throw new V.ErrnoError(8);if(!(g.flags&2097155))throw new V.ErrnoError(8);if(V.isDir(g.node.mode))throw new V.ErrnoError(31);if(!g.stream_ops.write)throw new V.ErrnoError(28);g.seekable&&g.flags&1024&&V.llseek(g,0,2);var fe=typeof C<"u";if(!fe)C=g.position;else if(!g.seekable)throw new V.ErrnoError(70);var me=g.stream_ops.write(g,y,S,E,C,M);return fe||(g.position+=me),me},allocate(g,y,S){if(V.isClosed(g))throw new V.ErrnoError(8);if(y<0||S<=0)throw new V.ErrnoError(28);if(!(g.flags&2097155))throw new V.ErrnoError(8);if(!V.isFile(g.node.mode)&&!V.isDir(g.node.mode))throw new V.ErrnoError(43);if(!g.stream_ops.allocate)throw new V.ErrnoError(138);g.stream_ops.allocate(g,y,S)},mmap(g,y,S,E,C){if(E&2&&!(C&2)&&(g.flags&2097155)!==2)throw new V.ErrnoError(2);if((g.flags&2097155)===1)throw new V.ErrnoError(2);if(!g.stream_ops.mmap)throw new V.ErrnoError(43);if(!y)throw new V.ErrnoError(28);return g.stream_ops.mmap(g,y,S,E,C)},msync(g,y,S,E,C){return g.stream_ops.msync?g.stream_ops.msync(g,y,S,E,C):0},ioctl(g,y,S){if(!g.stream_ops.ioctl)throw new V.ErrnoError(59);return g.stream_ops.ioctl(g,y,S)},readFile(g,y={}){if(y.flags=y.flags||0,y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error(`Invalid encoding type "${y.encoding}"`);var S,E=V.open(g,y.flags),C=V.stat(g),M=C.size,fe=new Uint8Array(M);return V.read(E,fe,0,M,0),y.encoding==="utf8"?S=Me(fe,0):y.encoding==="binary"&&(S=fe),V.close(E),S},writeFile(g,y,S={}){S.flags=S.flags||577;var E=V.open(g,S.flags,S.mode);if(typeof y=="string"){var C=new Uint8Array(Ht(y)+1),M=Qt(y,C,0,C.length);V.write(E,C,0,M,void 0,S.canOwn)}else if(ArrayBuffer.isView(y))V.write(E,y,0,y.byteLength,void 0,S.canOwn);else throw new Error("Unsupported data type");V.close(E)},cwd:()=>V.currentPath,chdir(g){var y=V.lookupPath(g,{follow:!0});if(y.node===null)throw new V.ErrnoError(44);if(!V.isDir(y.node.mode))throw new V.ErrnoError(54);var S=V.nodePermissions(y.node,"x");if(S)throw new V.ErrnoError(S);V.currentPath=y.path},createDefaultDirectories(){V.mkdir("/tmp"),V.mkdir("/home"),V.mkdir("/home/web_user")},createDefaultDevices(){V.mkdir("/dev"),V.registerDevice(V.makedev(1,3),{read:()=>0,write:(E,C,M,fe,me)=>fe}),V.mkdev("/dev/null",V.makedev(1,3)),Tn.register(V.makedev(5,0),Tn.default_tty_ops),Tn.register(V.makedev(6,0),Tn.default_tty1_ops),V.mkdev("/dev/tty",V.makedev(5,0)),V.mkdev("/dev/tty1",V.makedev(6,0));var g=new Uint8Array(1024),y=0,S=()=>(y===0&&(y=je(g).byteLength),g[--y]);V.createDevice("/dev","random",S),V.createDevice("/dev","urandom",S),V.mkdir("/dev/shm"),V.mkdir("/dev/shm/tmp")},createSpecialDirectories(){V.mkdir("/proc");var g=V.mkdir("/proc/self");V.mkdir("/proc/self/fd"),V.mount({mount(){var y=V.createNode(g,"fd",16895,73);return y.node_ops={lookup(S,E){var C=+E,M=V.getStreamChecked(C),fe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>M.path}};return fe.parent=fe,fe}},y}},{},"/proc/self/fd")},createStandardStreams(g,y,S){g?V.createDevice("/dev","stdin",g):V.symlink("/dev/tty","/dev/stdin"),y?V.createDevice("/dev","stdout",null,y):V.symlink("/dev/tty","/dev/stdout"),S?V.createDevice("/dev","stderr",null,S):V.symlink("/dev/tty1","/dev/stderr"),V.open("/dev/stdin",0),V.open("/dev/stdout",1),V.open("/dev/stderr",1)},staticInit(){[44].forEach(g=>{V.genericErrors[g]=new V.ErrnoError(g),V.genericErrors[g].stack="<generic error, no stack>"}),V.nameTable=new Array(4096),V.mount(Kt,{},"/"),V.createDefaultDirectories(),V.createDefaultDevices(),V.createSpecialDirectories(),V.filesystems={MEMFS:Kt}},init(g,y,S){V.initialized=!0,g??=r.stdin,y??=r.stdout,S??=r.stderr,V.createStandardStreams(g,y,S)},quit(){V.initialized=!1;for(var g=0;g<V.streams.length;g++){var y=V.streams[g];y&&V.close(y)}},findObject(g,y){var S=V.analyzePath(g,y);return S.exists?S.object:null},analyzePath(g,y){try{var S=V.lookupPath(g,{follow:!y});g=S.path}catch{}var E={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var S=V.lookupPath(g,{parent:!0});E.parentExists=!0,E.parentPath=S.path,E.parentObject=S.node,E.name=ve.basename(g),S=V.lookupPath(g,{follow:!y}),E.exists=!0,E.path=S.path,E.object=S.node,E.name=S.node.name,E.isRoot=S.path==="/"}catch(C){E.error=C.errno}return E},createPath(g,y,S,E){g=typeof g=="string"?g:V.getPath(g);for(var C=y.split("/").reverse();C.length;){var M=C.pop();if(M){var fe=ve.join2(g,M);try{V.mkdir(fe)}catch{}g=fe}}return fe},createFile(g,y,S,E,C){var M=ve.join2(typeof g=="string"?g:V.getPath(g),y),fe=xs(E,C);return V.create(M,fe)},createDataFile(g,y,S,E,C,M){var fe=y;g&&(g=typeof g=="string"?g:V.getPath(g),fe=y?ve.join2(g,y):g);var me=xs(E,C),Qe=V.create(fe,me);if(S){if(typeof S=="string"){for(var tt=new Array(S.length),at=0,mt=S.length;at<mt;++at)tt[at]=S.charCodeAt(at);S=tt}V.chmod(Qe,me|146);var Be=V.open(Qe,577);V.write(Be,S,0,S.length,0,M),V.close(Be),V.chmod(Qe,me)}},createDevice(g,y,S,E){var C=ve.join2(typeof g=="string"?g:V.getPath(g),y),M=xs(!!S,!!E);V.createDevice.major||(V.createDevice.major=64);var fe=V.makedev(V.createDevice.major++,0);return V.registerDevice(fe,{open(me){me.seekable=!1},close(me){E?.buffer?.length&&E(10)},read(me,Qe,tt,at,mt){for(var Be=0,Re=0;Re<at;Re++){var et;try{et=S()}catch{throw new V.ErrnoError(29)}if(et===void 0&&Be===0)throw new V.ErrnoError(6);if(et==null)break;Be++,Qe[tt+Re]=et}return Be&&(me.node.timestamp=Date.now()),Be},write(me,Qe,tt,at,mt){for(var Be=0;Be<at;Be++)try{E(Qe[tt+Be])}catch{throw new V.ErrnoError(29)}return at&&(me.node.timestamp=Date.now()),Be}}),V.mkdev(C,M,fe)},forceLoadFile(g){if(g.isDevice||g.isFolder||g.link||g.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{g.contents=N(g.url),g.usedBytes=g.contents.length}catch{throw new V.ErrnoError(29)}},createLazyFile(g,y,S,E,C){class M{constructor(){this.lengthKnown=!1,this.chunks=[]}get(Re){if(!(Re>this.length-1||Re<0)){var et=Re%this.chunkSize,be=Re/this.chunkSize|0;return this.getter(be)[et]}}setDataGetter(Re){this.getter=Re}cacheLength(){var Re=new XMLHttpRequest;if(Re.open("HEAD",S,!1),Re.send(null),!(Re.status>=200&&Re.status<300||Re.status===304))throw new Error("Couldn't load "+S+". Status: "+Re.status);var et=Number(Re.getResponseHeader("Content-length")),be,Ie=(be=Re.getResponseHeader("Accept-Ranges"))&&be==="bytes",Oe=(be=Re.getResponseHeader("Content-Encoding"))&&be==="gzip",Je=1024*1024;Ie||(Je=et);var Ge=(Ke,St)=>{if(Ke>St)throw new Error("invalid range ("+Ke+", "+St+") or no bytes requested!");if(St>et-1)throw new Error("only "+et+" bytes available! programmer error!");var J=new XMLHttpRequest;if(J.open("GET",S,!1),et!==Je&&J.setRequestHeader("Range","bytes="+Ke+"-"+St),J.responseType="arraybuffer",J.overrideMimeType&&J.overrideMimeType("text/plain; charset=x-user-defined"),J.send(null),!(J.status>=200&&J.status<300||J.status===304))throw new Error("Couldn't load "+S+". Status: "+J.status);return J.response!==void 0?new Uint8Array(J.response||[]):cn(J.responseText||"")},Te=this;Te.setDataGetter(Ke=>{var St=Ke*Je,J=(Ke+1)*Je-1;if(J=Math.min(J,et-1),typeof Te.chunks[Ke]>"u"&&(Te.chunks[Ke]=Ge(St,J)),typeof Te.chunks[Ke]>"u")throw new Error("doXHR failed!");return Te.chunks[Ke]}),(Oe||!et)&&(Je=et=1,et=this.getter(0).length,Je=et,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=et,this._chunkSize=Je,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!c)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var fe=new M,me={isDevice:!1,contents:fe}}else var me={isDevice:!1,url:S};var Qe=V.createFile(g,y,me,E,C);me.contents?Qe.contents=me.contents:me.url&&(Qe.contents=null,Qe.url=me.url),Object.defineProperties(Qe,{usedBytes:{get:function(){return this.contents.length}}});var tt={},at=Object.keys(Qe.stream_ops);at.forEach(Be=>{var Re=Qe.stream_ops[Be];tt[Be]=(...et)=>(V.forceLoadFile(Qe),Re(...et))});function mt(Be,Re,et,be,Ie){var Oe=Be.node.contents;if(Ie>=Oe.length)return 0;var Je=Math.min(Oe.length-Ie,be);if(Oe.slice)for(var Ge=0;Ge<Je;Ge++)Re[et+Ge]=Oe[Ie+Ge];else for(var Ge=0;Ge<Je;Ge++)Re[et+Ge]=Oe.get(Ie+Ge);return Je}return tt.read=(Be,Re,et,be,Ie)=>(V.forceLoadFile(Qe),mt(Be,Re,et,be,Ie)),tt.mmap=(Be,Re,et,be,Ie)=>{V.forceLoadFile(Qe);var Oe=fr(Re);if(!Oe)throw new V.ErrnoError(48);return mt(Be,D,Oe,Re,et),{ptr:Oe,allocated:!0}},Qe.stream_ops=tt,Qe}},ac=(g,y)=>g?Me(L,g,y):"",on={DEFAULT_POLLMASK:5,calculateAt(g,y,S){if(ve.isAbs(y))return y;var E;if(g===-100)E=V.cwd();else{var C=on.getStreamFromFD(g);E=C.path}if(y.length==0){if(!S)throw new V.ErrnoError(44);return E}return ve.join2(E,y)},doStat(g,y,S){var E=g(y);P[S>>2]=E.dev,P[S+4>>2]=E.mode,R[S+8>>2]=E.nlink,P[S+12>>2]=E.uid,P[S+16>>2]=E.gid,P[S+20>>2]=E.rdev,B[S+24>>3]=BigInt(E.size),P[S+32>>2]=4096,P[S+36>>2]=E.blocks;var C=E.atime.getTime(),M=E.mtime.getTime(),fe=E.ctime.getTime();return B[S+40>>3]=BigInt(Math.floor(C/1e3)),R[S+48>>2]=C%1e3*1e3*1e3,B[S+56>>3]=BigInt(Math.floor(M/1e3)),R[S+64>>2]=M%1e3*1e3*1e3,B[S+72>>3]=BigInt(Math.floor(fe/1e3)),R[S+80>>2]=fe%1e3*1e3*1e3,B[S+88>>3]=BigInt(E.ino),0},doMsync(g,y,S,E,C){if(!V.isFile(y.node.mode))throw new V.ErrnoError(43);if(E&2)return 0;var M=L.slice(g,g+S);V.msync(y,M,C,S,E)},getStreamFromFD(g){var y=V.getStreamChecked(g);return y},varargs:void 0,getStr(g){var y=ac(g);return y}};function lc(g,y){try{return g=on.getStr(g),V.chmod(g,y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function uc(g,y,S,E){try{if(y=on.getStr(y),y=on.calculateAt(g,y),S&-8)return-28;var C=V.lookupPath(y,{follow:!0}),M=C.node;if(!M)return-44;var fe="";return S&4&&(fe+="r"),S&2&&(fe+="w"),S&1&&(fe+="x"),fe&&V.nodePermissions(M,fe)?-2:0}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function cc(g,y){try{return V.fchmod(g,y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function tu(g,y,S){try{return V.fchown(g,y,S),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}function oa(){var g=P[+on.varargs>>2];return on.varargs+=4,g}var Ri=oa;function nu(g,y,S){on.varargs=S;try{var E=on.getStreamFromFD(g);switch(y){case 0:{var C=oa();if(C<0)return-28;for(;V.streams[C];)C++;var M;return M=V.dupStream(E,C),M.fd}case 1:case 2:return 0;case 3:return E.flags;case 4:{var C=oa();return E.flags|=C,0}case 12:{var C=Ri(),fe=0;return z[C+fe>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function aa(g,y){try{var S=on.getStreamFromFD(g);return on.doStat(V.stat,S.path,y)}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}var uf=0x20000000000000,la=-0x20000000000000,ws=g=>g<la||g>uf?NaN:Number(g);function Ua(g,y){y=ws(y);try{return isNaN(y)?61:(V.ftruncate(g,y),0)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}var _s=(g,y,S)=>Qt(g,L,y,S);function cf(g,y){try{if(y===0)return-28;var S=V.cwd(),E=Ht(S)+1;return y<E?-68:(_s(S,g,y),E)}catch(C){if(typeof V>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function df(g,y,S){on.varargs=S;try{var E=on.getStreamFromFD(g);switch(y){case 21509:return E.tty?0:-59;case 21505:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tcgets){var C=E.tty.ops.ioctl_tcgets(E),M=Ri();P[M>>2]=C.c_iflag||0,P[M+4>>2]=C.c_oflag||0,P[M+8>>2]=C.c_cflag||0,P[M+12>>2]=C.c_lflag||0;for(var fe=0;fe<32;fe++)D[M+fe+17]=C.c_cc[fe]||0;return 0}return 0}case 21510:case 21511:case 21512:return E.tty?0:-59;case 21506:case 21507:case 21508:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tcsets){for(var M=Ri(),me=P[M>>2],Qe=P[M+4>>2],tt=P[M+8>>2],at=P[M+12>>2],mt=[],fe=0;fe<32;fe++)mt.push(D[M+fe+17]);return E.tty.ops.ioctl_tcsets(E.tty,y,{c_iflag:me,c_oflag:Qe,c_cflag:tt,c_lflag:at,c_cc:mt})}return 0}case 21519:{if(!E.tty)return-59;var M=Ri();return P[M>>2]=0,0}case 21520:return E.tty?-28:-59;case 21531:{var M=Ri();return V.ioctl(E,y,M)}case 21523:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tiocgwinsz){var Be=E.tty.ops.ioctl_tiocgwinsz(E.tty),M=Ri();z[M>>1]=Be[0],z[M+2>>1]=Be[1]}return 0}case 21524:return E.tty?0:-59;case 21515:return E.tty?0:-59;default:return-28}}catch(Re){if(typeof V>"u"||Re.name!=="ErrnoError")throw Re;return-Re.errno}}function dc(g,y){try{return g=on.getStr(g),on.doStat(V.lstat,g,y)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Ss(g,y,S){try{return y=on.getStr(y),y=on.calculateAt(g,y),y=ve.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),V.mkdir(y,S,0),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}function fc(g,y,S,E){try{y=on.getStr(y);var C=E&256,M=E&4096;return E=E&-6401,y=on.calculateAt(g,y,M),on.doStat(C?V.lstat:V.stat,y,S)}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return-fe.errno}}function hc(g,y,S,E){on.varargs=E;try{y=on.getStr(y),y=on.calculateAt(g,y);var C=E?oa():0;return V.open(y,S,C).fd}catch(M){if(typeof V>"u"||M.name!=="ErrnoError")throw M;return-M.errno}}function ff(g,y,S,E){try{if(y=on.getStr(y),y=on.calculateAt(g,y),E<=0)return-28;var C=V.readlink(y),M=Math.min(E,Ht(C)),fe=D[S+M];return _s(C,S,E+1),D[S+M]=fe,M}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function pc(g){try{return g=on.getStr(g),V.rmdir(g),0}catch(y){if(typeof V>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function mc(g,y){try{return g=on.getStr(g),on.doStat(V.stat,g,y)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function gc(g,y,S){try{return y=on.getStr(y),y=on.calculateAt(g,y),S===0?V.unlink(y):S===512?V.rmdir(y):ze("Invalid flags passed to unlinkat"),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}var ru=g=>R[g>>2]+P[g+4>>2]*0x100000000;function yc(g,y,S,E){try{y=on.getStr(y),y=on.calculateAt(g,y,!0);var C=Date.now(),M,fe;if(!S)M=C,fe=C;else{var me=ru(S),Qe=P[S+8>>2];Qe==0x3fffffff?M=C:Qe==0x3ffffffe?M=-1:M=me*1e3+Qe/(1e3*1e3),S+=16,me=ru(S),Qe=P[S+8>>2],Qe==0x3fffffff?fe=C:Qe==0x3ffffffe?fe=-1:fe=me*1e3+Qe/(1e3*1e3)}return(fe!=-1||M!=-1)&&V.utime(y,M,fe),0}catch(tt){if(typeof V>"u"||tt.name!=="ErrnoError")throw tt;return-tt.errno}}var hf=1,tr=()=>hf,pf=g=>g%4===0&&(g%100!==0||g%400===0),iu=[0,31,60,91,121,152,182,213,244,274,305,335],vc=[0,31,59,90,120,151,181,212,243,273,304,334],Va=g=>{var y=pf(g.getFullYear()),S=y?iu:vc,E=S[g.getMonth()]+g.getDate()-1;return E};function mf(g,y){g=ws(g);var S=new Date(g*1e3);P[y>>2]=S.getSeconds(),P[y+4>>2]=S.getMinutes(),P[y+8>>2]=S.getHours(),P[y+12>>2]=S.getDate(),P[y+16>>2]=S.getMonth(),P[y+20>>2]=S.getFullYear()-1900,P[y+24>>2]=S.getDay();var E=Va(S)|0;P[y+28>>2]=E,P[y+36>>2]=-(S.getTimezoneOffset()*60);var C=new Date(S.getFullYear(),0,1),M=new Date(S.getFullYear(),6,1).getTimezoneOffset(),fe=C.getTimezoneOffset(),me=(M!=fe&&S.getTimezoneOffset()==Math.min(fe,M))|0;P[y+32>>2]=me}function su(g,y,S,E,C,M,fe){C=ws(C);try{if(isNaN(C))return 61;var me=on.getStreamFromFD(E),Qe=V.mmap(me,g,C,y,S),tt=Qe.ptr;return P[M>>2]=Qe.allocated,R[fe>>2]=tt,0}catch(at){if(typeof V>"u"||at.name!=="ErrnoError")throw at;return-at.errno}}function Ha(g,y,S,E,C,M){M=ws(M);try{var fe=on.getStreamFromFD(C);S&2&&on.doMsync(g,fe,y,E,M)}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}var Ai=(g,y,S,E)=>{var C=new Date().getFullYear(),M=new Date(C,0,1),fe=new Date(C,6,1),me=M.getTimezoneOffset(),Qe=fe.getTimezoneOffset(),tt=Math.max(me,Qe);R[g>>2]=tt*60,P[y>>2]=+(me!=Qe);var at=Re=>{var et=Re>=0?"-":"+",be=Math.abs(Re),Ie=String(Math.floor(be/60)).padStart(2,"0"),Oe=String(be%60).padStart(2,"0");return`UTC${et}${Ie}${Oe}`},mt=at(me),Be=at(Qe);Qe<me?(_s(mt,S,17),_s(Be,E,17)):(_s(mt,E,17),_s(Be,S,17))},gf=()=>Date.now(),ri;ri=()=>performance.now();var yf=()=>0x80000000,vf=g=>{var y=q.buffer,S=(g-y.byteLength+65535)/65536;try{return q.grow(S),F(),1}catch{}},bf=g=>{var y=L.length;g>>>=0;var S=yf();if(g>S)return!1;for(var E=1;E<=4;E*=2){var C=y*(1+.2/E);C=Math.min(C,g+0x6000000);var M=Math.min(S,yi(Math.max(g,C),65536)),fe=vf(M);if(fe)return!0}return!1},Ao={},Qa=()=>h||"./this.program",vi=()=>{if(!vi.strings){var g=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:g,_:Qa()};for(var S in Ao)Ao[S]===void 0?delete y[S]:y[S]=Ao[S];var E=[];for(var S in y)E.push(`${S}=${y[S]}`);vi.strings=E}return vi.strings},Ka=(g,y)=>{for(var S=0;S<g.length;++S)D[y++]=g.charCodeAt(S);D[y]=0},jb=(g,y)=>{var S=0;return vi().forEach((E,C)=>{var M=y+S;R[g+C*4>>2]=M,Ka(E,M),S+=E.length+1}),0},Pb=(g,y)=>{var S=vi();R[g>>2]=S.length;var E=0;return S.forEach(C=>E+=C.length+1),R[y>>2]=E,0};function xf(g){try{var y=on.getStreamFromFD(g);return V.close(y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return S.errno}}function cm(g,y){try{var S=0,E=0,C=0,M=on.getStreamFromFD(g),fe=M.tty?2:V.isDir(M.mode)?3:V.isLink(M.mode)?7:4;return D[y]=fe,z[y+2>>1]=C,B[y+8>>3]=BigInt(S),B[y+16>>3]=BigInt(E),0}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return me.errno}}var wf=(g,y,S,E)=>{for(var C=0,M=0;M<S;M++){var fe=R[y>>2],me=R[y+4>>2];y+=8;var Qe=V.read(g,D,fe,me,E);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function ou(g,y,S,E){try{var C=on.getStreamFromFD(g),M=wf(C,y,S);return R[E>>2]=M,0}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}function Fb(g,y,S,E){y=ws(y);try{if(isNaN(y))return 61;var C=on.getStreamFromFD(g);return V.llseek(C,y,S),B[E>>3]=BigInt(C.position),C.getdents&&y===0&&S===0&&(C.getdents=null),0}catch(M){if(typeof V>"u"||M.name!=="ErrnoError")throw M;return M.errno}}function _f(g){try{var y=on.getStreamFromFD(g);return y.stream_ops?.fsync?y.stream_ops.fsync(y):0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return S.errno}}var qn=(g,y,S,E)=>{for(var C=0,M=0;M<S;M++){var fe=R[y>>2],me=R[y+4>>2];y+=8;var Qe=V.write(g,D,fe,me,E);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function dm(g,y,S,E){try{var C=on.getStreamFromFD(g),M=qn(C,y,S);return R[E>>2]=M,0}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}V.createPreloadedFile=sa,V.staticInit();var Sf={__syscall_chmod:lc,__syscall_faccessat:uc,__syscall_fchmod:cc,__syscall_fchown32:tu,__syscall_fcntl64:nu,__syscall_fstat64:aa,__syscall_ftruncate64:Ua,__syscall_getcwd:cf,__syscall_ioctl:df,__syscall_lstat64:dc,__syscall_mkdirat:Ss,__syscall_newfstatat:fc,__syscall_openat:hc,__syscall_readlinkat:ff,__syscall_rmdir:pc,__syscall_stat64:mc,__syscall_unlinkat:gc,__syscall_utimensat:yc,_emscripten_get_now_is_monotonic:tr,_localtime_js:mf,_mmap_js:su,_munmap_js:Ha,_tzset_js:Ai,emscripten_date_now:gf,emscripten_get_now:ri,emscripten_resize_heap:bf,environ_get:jb,environ_sizes_get:Pb,fd_close:xf,fd_fdstat_get:cm,fd_read:ou,fd_seek:Fb,fd_sync:_f,fd_write:dm,memory:q},pe=en();r._sqlite3_status64=(g,y,S,E)=>(r._sqlite3_status64=pe.sqlite3_status64)(g,y,S,E),r._sqlite3_status=(g,y,S,E)=>(r._sqlite3_status=pe.sqlite3_status)(g,y,S,E),r._sqlite3_db_status=(g,y,S,E,C)=>(r._sqlite3_db_status=pe.sqlite3_db_status)(g,y,S,E,C),r._sqlite3_msize=g=>(r._sqlite3_msize=pe.sqlite3_msize)(g),r._sqlite3_vfs_find=g=>(r._sqlite3_vfs_find=pe.sqlite3_vfs_find)(g),r._sqlite3_initialize=()=>(r._sqlite3_initialize=pe.sqlite3_initialize)(),r._sqlite3_malloc=g=>(r._sqlite3_malloc=pe.sqlite3_malloc)(g),r._sqlite3_free=g=>(r._sqlite3_free=pe.sqlite3_free)(g),r._sqlite3_vfs_register=(g,y)=>(r._sqlite3_vfs_register=pe.sqlite3_vfs_register)(g,y),r._sqlite3_vfs_unregister=g=>(r._sqlite3_vfs_unregister=pe.sqlite3_vfs_unregister)(g),r._sqlite3_malloc64=g=>(r._sqlite3_malloc64=pe.sqlite3_malloc64)(g),r._sqlite3_realloc=(g,y)=>(r._sqlite3_realloc=pe.sqlite3_realloc)(g,y),r._sqlite3_realloc64=(g,y)=>(r._sqlite3_realloc64=pe.sqlite3_realloc64)(g,y),r._sqlite3_value_text=g=>(r._sqlite3_value_text=pe.sqlite3_value_text)(g),r._sqlite3_randomness=(g,y)=>(r._sqlite3_randomness=pe.sqlite3_randomness)(g,y),r._sqlite3_stricmp=(g,y)=>(r._sqlite3_stricmp=pe.sqlite3_stricmp)(g,y),r._sqlite3_strnicmp=(g,y,S)=>(r._sqlite3_strnicmp=pe.sqlite3_strnicmp)(g,y,S),r._sqlite3_uri_parameter=(g,y)=>(r._sqlite3_uri_parameter=pe.sqlite3_uri_parameter)(g,y),r._sqlite3_uri_boolean=(g,y,S)=>(r._sqlite3_uri_boolean=pe.sqlite3_uri_boolean)(g,y,S),r._sqlite3_serialize=(g,y,S,E)=>(r._sqlite3_serialize=pe.sqlite3_serialize)(g,y,S,E),r._sqlite3_prepare_v2=(g,y,S,E,C)=>(r._sqlite3_prepare_v2=pe.sqlite3_prepare_v2)(g,y,S,E,C),r._sqlite3_step=g=>(r._sqlite3_step=pe.sqlite3_step)(g),r._sqlite3_column_int64=(g,y)=>(r._sqlite3_column_int64=pe.sqlite3_column_int64)(g,y),r._sqlite3_reset=g=>(r._sqlite3_reset=pe.sqlite3_reset)(g),r._sqlite3_exec=(g,y,S,E,C)=>(r._sqlite3_exec=pe.sqlite3_exec)(g,y,S,E,C),r._sqlite3_column_int=(g,y)=>(r._sqlite3_column_int=pe.sqlite3_column_int)(g,y),r._sqlite3_finalize=g=>(r._sqlite3_finalize=pe.sqlite3_finalize)(g),r._sqlite3_file_control=(g,y,S,E)=>(r._sqlite3_file_control=pe.sqlite3_file_control)(g,y,S,E),r._sqlite3_column_name=(g,y)=>(r._sqlite3_column_name=pe.sqlite3_column_name)(g,y),r._sqlite3_column_text=(g,y)=>(r._sqlite3_column_text=pe.sqlite3_column_text)(g,y),r._sqlite3_column_type=(g,y)=>(r._sqlite3_column_type=pe.sqlite3_column_type)(g,y),r._sqlite3_errmsg=g=>(r._sqlite3_errmsg=pe.sqlite3_errmsg)(g),r._sqlite3_deserialize=(g,y,S,E,C,M)=>(r._sqlite3_deserialize=pe.sqlite3_deserialize)(g,y,S,E,C,M),r._sqlite3_clear_bindings=g=>(r._sqlite3_clear_bindings=pe.sqlite3_clear_bindings)(g),r._sqlite3_value_blob=g=>(r._sqlite3_value_blob=pe.sqlite3_value_blob)(g),r._sqlite3_value_bytes=g=>(r._sqlite3_value_bytes=pe.sqlite3_value_bytes)(g),r._sqlite3_value_double=g=>(r._sqlite3_value_double=pe.sqlite3_value_double)(g),r._sqlite3_value_int=g=>(r._sqlite3_value_int=pe.sqlite3_value_int)(g),r._sqlite3_value_int64=g=>(r._sqlite3_value_int64=pe.sqlite3_value_int64)(g),r._sqlite3_value_subtype=g=>(r._sqlite3_value_subtype=pe.sqlite3_value_subtype)(g),r._sqlite3_value_pointer=(g,y)=>(r._sqlite3_value_pointer=pe.sqlite3_value_pointer)(g,y),r._sqlite3_value_type=g=>(r._sqlite3_value_type=pe.sqlite3_value_type)(g),r._sqlite3_value_nochange=g=>(r._sqlite3_value_nochange=pe.sqlite3_value_nochange)(g),r._sqlite3_value_frombind=g=>(r._sqlite3_value_frombind=pe.sqlite3_value_frombind)(g),r._sqlite3_value_dup=g=>(r._sqlite3_value_dup=pe.sqlite3_value_dup)(g),r._sqlite3_value_free=g=>(r._sqlite3_value_free=pe.sqlite3_value_free)(g),r._sqlite3_result_blob=(g,y,S,E)=>(r._sqlite3_result_blob=pe.sqlite3_result_blob)(g,y,S,E),r._sqlite3_result_error_toobig=g=>(r._sqlite3_result_error_toobig=pe.sqlite3_result_error_toobig)(g),r._sqlite3_result_error_nomem=g=>(r._sqlite3_result_error_nomem=pe.sqlite3_result_error_nomem)(g),r._sqlite3_result_double=(g,y)=>(r._sqlite3_result_double=pe.sqlite3_result_double)(g,y),r._sqlite3_result_error=(g,y,S)=>(r._sqlite3_result_error=pe.sqlite3_result_error)(g,y,S),r._sqlite3_result_int=(g,y)=>(r._sqlite3_result_int=pe.sqlite3_result_int)(g,y),r._sqlite3_result_int64=(g,y)=>(r._sqlite3_result_int64=pe.sqlite3_result_int64)(g,y),r._sqlite3_result_null=g=>(r._sqlite3_result_null=pe.sqlite3_result_null)(g),r._sqlite3_result_pointer=(g,y,S,E)=>(r._sqlite3_result_pointer=pe.sqlite3_result_pointer)(g,y,S,E),r._sqlite3_result_subtype=(g,y)=>(r._sqlite3_result_subtype=pe.sqlite3_result_subtype)(g,y),r._sqlite3_result_text=(g,y,S,E)=>(r._sqlite3_result_text=pe.sqlite3_result_text)(g,y,S,E),r._sqlite3_result_zeroblob=(g,y)=>(r._sqlite3_result_zeroblob=pe.sqlite3_result_zeroblob)(g,y),r._sqlite3_result_zeroblob64=(g,y)=>(r._sqlite3_result_zeroblob64=pe.sqlite3_result_zeroblob64)(g,y),r._sqlite3_result_error_code=(g,y)=>(r._sqlite3_result_error_code=pe.sqlite3_result_error_code)(g,y),r._sqlite3_user_data=g=>(r._sqlite3_user_data=pe.sqlite3_user_data)(g),r._sqlite3_context_db_handle=g=>(r._sqlite3_context_db_handle=pe.sqlite3_context_db_handle)(g),r._sqlite3_vtab_nochange=g=>(r._sqlite3_vtab_nochange=pe.sqlite3_vtab_nochange)(g),r._sqlite3_vtab_in_first=(g,y)=>(r._sqlite3_vtab_in_first=pe.sqlite3_vtab_in_first)(g,y),r._sqlite3_vtab_in_next=(g,y)=>(r._sqlite3_vtab_in_next=pe.sqlite3_vtab_in_next)(g,y),r._sqlite3_aggregate_context=(g,y)=>(r._sqlite3_aggregate_context=pe.sqlite3_aggregate_context)(g,y),r._sqlite3_get_auxdata=(g,y)=>(r._sqlite3_get_auxdata=pe.sqlite3_get_auxdata)(g,y),r._sqlite3_set_auxdata=(g,y,S,E)=>(r._sqlite3_set_auxdata=pe.sqlite3_set_auxdata)(g,y,S,E),r._sqlite3_column_count=g=>(r._sqlite3_column_count=pe.sqlite3_column_count)(g),r._sqlite3_data_count=g=>(r._sqlite3_data_count=pe.sqlite3_data_count)(g),r._sqlite3_column_blob=(g,y)=>(r._sqlite3_column_blob=pe.sqlite3_column_blob)(g,y),r._sqlite3_column_bytes=(g,y)=>(r._sqlite3_column_bytes=pe.sqlite3_column_bytes)(g,y),r._sqlite3_column_double=(g,y)=>(r._sqlite3_column_double=pe.sqlite3_column_double)(g,y),r._sqlite3_column_value=(g,y)=>(r._sqlite3_column_value=pe.sqlite3_column_value)(g,y),r._sqlite3_column_decltype=(g,y)=>(r._sqlite3_column_decltype=pe.sqlite3_column_decltype)(g,y),r._sqlite3_bind_blob=(g,y,S,E,C)=>(r._sqlite3_bind_blob=pe.sqlite3_bind_blob)(g,y,S,E,C),r._sqlite3_bind_double=(g,y,S)=>(r._sqlite3_bind_double=pe.sqlite3_bind_double)(g,y,S),r._sqlite3_bind_int=(g,y,S)=>(r._sqlite3_bind_int=pe.sqlite3_bind_int)(g,y,S),r._sqlite3_bind_int64=(g,y,S)=>(r._sqlite3_bind_int64=pe.sqlite3_bind_int64)(g,y,S),r._sqlite3_bind_null=(g,y)=>(r._sqlite3_bind_null=pe.sqlite3_bind_null)(g,y),r._sqlite3_bind_pointer=(g,y,S,E,C)=>(r._sqlite3_bind_pointer=pe.sqlite3_bind_pointer)(g,y,S,E,C),r._sqlite3_bind_text=(g,y,S,E,C)=>(r._sqlite3_bind_text=pe.sqlite3_bind_text)(g,y,S,E,C),r._sqlite3_bind_parameter_count=g=>(r._sqlite3_bind_parameter_count=pe.sqlite3_bind_parameter_count)(g),r._sqlite3_bind_parameter_name=(g,y)=>(r._sqlite3_bind_parameter_name=pe.sqlite3_bind_parameter_name)(g,y),r._sqlite3_bind_parameter_index=(g,y)=>(r._sqlite3_bind_parameter_index=pe.sqlite3_bind_parameter_index)(g,y),r._sqlite3_db_handle=g=>(r._sqlite3_db_handle=pe.sqlite3_db_handle)(g),r._sqlite3_stmt_readonly=g=>(r._sqlite3_stmt_readonly=pe.sqlite3_stmt_readonly)(g),r._sqlite3_stmt_isexplain=g=>(r._sqlite3_stmt_isexplain=pe.sqlite3_stmt_isexplain)(g),r._sqlite3_stmt_explain=(g,y)=>(r._sqlite3_stmt_explain=pe.sqlite3_stmt_explain)(g,y),r._sqlite3_stmt_busy=g=>(r._sqlite3_stmt_busy=pe.sqlite3_stmt_busy)(g),r._sqlite3_stmt_status=(g,y,S)=>(r._sqlite3_stmt_status=pe.sqlite3_stmt_status)(g,y,S),r._sqlite3_sql=g=>(r._sqlite3_sql=pe.sqlite3_sql)(g),r._sqlite3_expanded_sql=g=>(r._sqlite3_expanded_sql=pe.sqlite3_expanded_sql)(g),r._sqlite3_preupdate_old=(g,y,S)=>(r._sqlite3_preupdate_old=pe.sqlite3_preupdate_old)(g,y,S),r._sqlite3_preupdate_count=g=>(r._sqlite3_preupdate_count=pe.sqlite3_preupdate_count)(g),r._sqlite3_preupdate_depth=g=>(r._sqlite3_preupdate_depth=pe.sqlite3_preupdate_depth)(g),r._sqlite3_preupdate_blobwrite=g=>(r._sqlite3_preupdate_blobwrite=pe.sqlite3_preupdate_blobwrite)(g),r._sqlite3_preupdate_new=(g,y,S)=>(r._sqlite3_preupdate_new=pe.sqlite3_preupdate_new)(g,y,S),r._sqlite3_value_numeric_type=g=>(r._sqlite3_value_numeric_type=pe.sqlite3_value_numeric_type)(g),r._sqlite3_set_authorizer=(g,y,S)=>(r._sqlite3_set_authorizer=pe.sqlite3_set_authorizer)(g,y,S),r._sqlite3_strglob=(g,y)=>(r._sqlite3_strglob=pe.sqlite3_strglob)(g,y),r._sqlite3_strlike=(g,y,S)=>(r._sqlite3_strlike=pe.sqlite3_strlike)(g,y,S),r._sqlite3_auto_extension=g=>(r._sqlite3_auto_extension=pe.sqlite3_auto_extension)(g),r._sqlite3_cancel_auto_extension=g=>(r._sqlite3_cancel_auto_extension=pe.sqlite3_cancel_auto_extension)(g),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=pe.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(g,y,S,E,C,M)=>(r._sqlite3_prepare_v3=pe.sqlite3_prepare_v3)(g,y,S,E,C,M),r._sqlite3_create_module=(g,y,S,E)=>(r._sqlite3_create_module=pe.sqlite3_create_module)(g,y,S,E),r._sqlite3_create_module_v2=(g,y,S,E,C)=>(r._sqlite3_create_module_v2=pe.sqlite3_create_module_v2)(g,y,S,E,C),r._sqlite3_drop_modules=(g,y)=>(r._sqlite3_drop_modules=pe.sqlite3_drop_modules)(g,y),r._sqlite3_declare_vtab=(g,y)=>(r._sqlite3_declare_vtab=pe.sqlite3_declare_vtab)(g,y),r._sqlite3_vtab_on_conflict=g=>(r._sqlite3_vtab_on_conflict=pe.sqlite3_vtab_on_conflict)(g),r._sqlite3_vtab_collation=(g,y)=>(r._sqlite3_vtab_collation=pe.sqlite3_vtab_collation)(g,y),r._sqlite3_vtab_in=(g,y,S)=>(r._sqlite3_vtab_in=pe.sqlite3_vtab_in)(g,y,S),r._sqlite3_vtab_rhs_value=(g,y,S)=>(r._sqlite3_vtab_rhs_value=pe.sqlite3_vtab_rhs_value)(g,y,S),r._sqlite3_vtab_distinct=g=>(r._sqlite3_vtab_distinct=pe.sqlite3_vtab_distinct)(g),r._sqlite3_keyword_name=(g,y,S)=>(r._sqlite3_keyword_name=pe.sqlite3_keyword_name)(g,y,S),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=pe.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(g,y)=>(r._sqlite3_keyword_check=pe.sqlite3_keyword_check)(g,y),r._sqlite3_complete=g=>(r._sqlite3_complete=pe.sqlite3_complete)(g),r._sqlite3_libversion=()=>(r._sqlite3_libversion=pe.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=pe.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=pe.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=g=>(r._sqlite3_last_insert_rowid=pe.sqlite3_last_insert_rowid)(g),r._sqlite3_set_last_insert_rowid=(g,y)=>(r._sqlite3_set_last_insert_rowid=pe.sqlite3_set_last_insert_rowid)(g,y),r._sqlite3_changes64=g=>(r._sqlite3_changes64=pe.sqlite3_changes64)(g),r._sqlite3_changes=g=>(r._sqlite3_changes=pe.sqlite3_changes)(g),r._sqlite3_total_changes64=g=>(r._sqlite3_total_changes64=pe.sqlite3_total_changes64)(g),r._sqlite3_total_changes=g=>(r._sqlite3_total_changes=pe.sqlite3_total_changes)(g),r._sqlite3_txn_state=(g,y)=>(r._sqlite3_txn_state=pe.sqlite3_txn_state)(g,y),r._sqlite3_close_v2=g=>(r._sqlite3_close_v2=pe.sqlite3_close_v2)(g),r._sqlite3_busy_handler=(g,y,S)=>(r._sqlite3_busy_handler=pe.sqlite3_busy_handler)(g,y,S),r._sqlite3_progress_handler=(g,y,S,E)=>(r._sqlite3_progress_handler=pe.sqlite3_progress_handler)(g,y,S,E),r._sqlite3_busy_timeout=(g,y)=>(r._sqlite3_busy_timeout=pe.sqlite3_busy_timeout)(g,y),r._sqlite3_interrupt=g=>(r._sqlite3_interrupt=pe.sqlite3_interrupt)(g),r._sqlite3_is_interrupted=g=>(r._sqlite3_is_interrupted=pe.sqlite3_is_interrupted)(g),r._sqlite3_create_function=(g,y,S,E,C,M,fe,me)=>(r._sqlite3_create_function=pe.sqlite3_create_function)(g,y,S,E,C,M,fe,me),r._sqlite3_create_function_v2=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3_create_function_v2=pe.sqlite3_create_function_v2)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3_create_window_function=(g,y,S,E,C,M,fe,me,Qe,tt)=>(r._sqlite3_create_window_function=pe.sqlite3_create_window_function)(g,y,S,E,C,M,fe,me,Qe,tt),r._sqlite3_overload_function=(g,y,S)=>(r._sqlite3_overload_function=pe.sqlite3_overload_function)(g,y,S),r._sqlite3_trace_v2=(g,y,S,E)=>(r._sqlite3_trace_v2=pe.sqlite3_trace_v2)(g,y,S,E),r._sqlite3_commit_hook=(g,y,S)=>(r._sqlite3_commit_hook=pe.sqlite3_commit_hook)(g,y,S),r._sqlite3_update_hook=(g,y,S)=>(r._sqlite3_update_hook=pe.sqlite3_update_hook)(g,y,S),r._sqlite3_rollback_hook=(g,y,S)=>(r._sqlite3_rollback_hook=pe.sqlite3_rollback_hook)(g,y,S),r._sqlite3_preupdate_hook=(g,y,S)=>(r._sqlite3_preupdate_hook=pe.sqlite3_preupdate_hook)(g,y,S),r._sqlite3_error_offset=g=>(r._sqlite3_error_offset=pe.sqlite3_error_offset)(g),r._sqlite3_errcode=g=>(r._sqlite3_errcode=pe.sqlite3_errcode)(g),r._sqlite3_extended_errcode=g=>(r._sqlite3_extended_errcode=pe.sqlite3_extended_errcode)(g),r._sqlite3_errstr=g=>(r._sqlite3_errstr=pe.sqlite3_errstr)(g),r._sqlite3_limit=(g,y,S)=>(r._sqlite3_limit=pe.sqlite3_limit)(g,y,S),r._sqlite3_open=(g,y)=>(r._sqlite3_open=pe.sqlite3_open)(g,y),r._sqlite3_open_v2=(g,y,S,E)=>(r._sqlite3_open_v2=pe.sqlite3_open_v2)(g,y,S,E),r._sqlite3_create_collation=(g,y,S,E,C)=>(r._sqlite3_create_collation=pe.sqlite3_create_collation)(g,y,S,E,C),r._sqlite3_create_collation_v2=(g,y,S,E,C,M)=>(r._sqlite3_create_collation_v2=pe.sqlite3_create_collation_v2)(g,y,S,E,C,M),r._sqlite3_collation_needed=(g,y,S)=>(r._sqlite3_collation_needed=pe.sqlite3_collation_needed)(g,y,S),r._sqlite3_get_autocommit=g=>(r._sqlite3_get_autocommit=pe.sqlite3_get_autocommit)(g),r._sqlite3_table_column_metadata=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3_table_column_metadata=pe.sqlite3_table_column_metadata)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3_extended_result_codes=(g,y)=>(r._sqlite3_extended_result_codes=pe.sqlite3_extended_result_codes)(g,y),r._sqlite3_uri_key=(g,y)=>(r._sqlite3_uri_key=pe.sqlite3_uri_key)(g,y),r._sqlite3_uri_int64=(g,y,S)=>(r._sqlite3_uri_int64=pe.sqlite3_uri_int64)(g,y,S),r._sqlite3_db_name=(g,y)=>(r._sqlite3_db_name=pe.sqlite3_db_name)(g,y),r._sqlite3_db_filename=(g,y)=>(r._sqlite3_db_filename=pe.sqlite3_db_filename)(g,y),r._sqlite3_db_readonly=(g,y)=>(r._sqlite3_db_readonly=pe.sqlite3_db_readonly)(g,y),r._sqlite3_compileoption_used=g=>(r._sqlite3_compileoption_used=pe.sqlite3_compileoption_used)(g),r._sqlite3_compileoption_get=g=>(r._sqlite3_compileoption_get=pe.sqlite3_compileoption_get)(g),r._sqlite3session_diff=(g,y,S,E)=>(r._sqlite3session_diff=pe.sqlite3session_diff)(g,y,S,E),r._sqlite3session_attach=(g,y)=>(r._sqlite3session_attach=pe.sqlite3session_attach)(g,y),r._sqlite3session_create=(g,y,S)=>(r._sqlite3session_create=pe.sqlite3session_create)(g,y,S),r._sqlite3session_delete=g=>(r._sqlite3session_delete=pe.sqlite3session_delete)(g),r._sqlite3session_table_filter=(g,y,S)=>(r._sqlite3session_table_filter=pe.sqlite3session_table_filter)(g,y,S),r._sqlite3session_changeset=(g,y,S)=>(r._sqlite3session_changeset=pe.sqlite3session_changeset)(g,y,S),r._sqlite3session_changeset_strm=(g,y,S)=>(r._sqlite3session_changeset_strm=pe.sqlite3session_changeset_strm)(g,y,S),r._sqlite3session_patchset_strm=(g,y,S)=>(r._sqlite3session_patchset_strm=pe.sqlite3session_patchset_strm)(g,y,S),r._sqlite3session_patchset=(g,y,S)=>(r._sqlite3session_patchset=pe.sqlite3session_patchset)(g,y,S),r._sqlite3session_enable=(g,y)=>(r._sqlite3session_enable=pe.sqlite3session_enable)(g,y),r._sqlite3session_indirect=(g,y)=>(r._sqlite3session_indirect=pe.sqlite3session_indirect)(g,y),r._sqlite3session_isempty=g=>(r._sqlite3session_isempty=pe.sqlite3session_isempty)(g),r._sqlite3session_memory_used=g=>(r._sqlite3session_memory_used=pe.sqlite3session_memory_used)(g),r._sqlite3session_object_config=(g,y,S)=>(r._sqlite3session_object_config=pe.sqlite3session_object_config)(g,y,S),r._sqlite3session_changeset_size=g=>(r._sqlite3session_changeset_size=pe.sqlite3session_changeset_size)(g),r._sqlite3changeset_start=(g,y,S)=>(r._sqlite3changeset_start=pe.sqlite3changeset_start)(g,y,S),r._sqlite3changeset_start_v2=(g,y,S,E)=>(r._sqlite3changeset_start_v2=pe.sqlite3changeset_start_v2)(g,y,S,E),r._sqlite3changeset_start_strm=(g,y,S)=>(r._sqlite3changeset_start_strm=pe.sqlite3changeset_start_strm)(g,y,S),r._sqlite3changeset_start_v2_strm=(g,y,S,E)=>(r._sqlite3changeset_start_v2_strm=pe.sqlite3changeset_start_v2_strm)(g,y,S,E),r._sqlite3changeset_next=g=>(r._sqlite3changeset_next=pe.sqlite3changeset_next)(g),r._sqlite3changeset_op=(g,y,S,E,C)=>(r._sqlite3changeset_op=pe.sqlite3changeset_op)(g,y,S,E,C),r._sqlite3changeset_pk=(g,y,S)=>(r._sqlite3changeset_pk=pe.sqlite3changeset_pk)(g,y,S),r._sqlite3changeset_old=(g,y,S)=>(r._sqlite3changeset_old=pe.sqlite3changeset_old)(g,y,S),r._sqlite3changeset_new=(g,y,S)=>(r._sqlite3changeset_new=pe.sqlite3changeset_new)(g,y,S),r._sqlite3changeset_conflict=(g,y,S)=>(r._sqlite3changeset_conflict=pe.sqlite3changeset_conflict)(g,y,S),r._sqlite3changeset_fk_conflicts=(g,y)=>(r._sqlite3changeset_fk_conflicts=pe.sqlite3changeset_fk_conflicts)(g,y),r._sqlite3changeset_finalize=g=>(r._sqlite3changeset_finalize=pe.sqlite3changeset_finalize)(g),r._sqlite3changeset_invert=(g,y,S,E)=>(r._sqlite3changeset_invert=pe.sqlite3changeset_invert)(g,y,S,E),r._sqlite3changeset_invert_strm=(g,y,S,E)=>(r._sqlite3changeset_invert_strm=pe.sqlite3changeset_invert_strm)(g,y,S,E),r._sqlite3changeset_apply_v2=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3changeset_apply_v2=pe.sqlite3changeset_apply_v2)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3changeset_apply=(g,y,S,E,C,M)=>(r._sqlite3changeset_apply=pe.sqlite3changeset_apply)(g,y,S,E,C,M),r._sqlite3changeset_apply_v2_strm=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3changeset_apply_v2_strm=pe.sqlite3changeset_apply_v2_strm)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3changeset_apply_strm=(g,y,S,E,C,M)=>(r._sqlite3changeset_apply_strm=pe.sqlite3changeset_apply_strm)(g,y,S,E,C,M),r._sqlite3changegroup_new=g=>(r._sqlite3changegroup_new=pe.sqlite3changegroup_new)(g),r._sqlite3changegroup_add=(g,y,S)=>(r._sqlite3changegroup_add=pe.sqlite3changegroup_add)(g,y,S),r._sqlite3changegroup_output=(g,y,S)=>(r._sqlite3changegroup_output=pe.sqlite3changegroup_output)(g,y,S),r._sqlite3changegroup_add_strm=(g,y,S)=>(r._sqlite3changegroup_add_strm=pe.sqlite3changegroup_add_strm)(g,y,S),r._sqlite3changegroup_output_strm=(g,y,S)=>(r._sqlite3changegroup_output_strm=pe.sqlite3changegroup_output_strm)(g,y,S),r._sqlite3changegroup_delete=g=>(r._sqlite3changegroup_delete=pe.sqlite3changegroup_delete)(g),r._sqlite3changeset_concat=(g,y,S,E,C,M)=>(r._sqlite3changeset_concat=pe.sqlite3changeset_concat)(g,y,S,E,C,M),r._sqlite3changeset_concat_strm=(g,y,S,E,C,M)=>(r._sqlite3changeset_concat_strm=pe.sqlite3changeset_concat_strm)(g,y,S,E,C,M),r._sqlite3session_config=(g,y)=>(r._sqlite3session_config=pe.sqlite3session_config)(g,y),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=pe.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=pe.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=g=>(r._sqlite3__wasm_pstack_restore=pe.sqlite3__wasm_pstack_restore)(g),r._sqlite3__wasm_pstack_alloc=g=>(r._sqlite3__wasm_pstack_alloc=pe.sqlite3__wasm_pstack_alloc)(g),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=pe.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=pe.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(g,y,S)=>(r._sqlite3__wasm_db_error=pe.sqlite3__wasm_db_error)(g,y,S),r._sqlite3__wasm_test_struct=g=>(r._sqlite3__wasm_test_struct=pe.sqlite3__wasm_test_struct)(g),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=pe.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(g,y)=>(r._sqlite3__wasm_vfs_unlink=pe.sqlite3__wasm_vfs_unlink)(g,y),r._sqlite3__wasm_db_vfs=(g,y)=>(r._sqlite3__wasm_db_vfs=pe.sqlite3__wasm_db_vfs)(g,y),r._sqlite3__wasm_db_reset=g=>(r._sqlite3__wasm_db_reset=pe.sqlite3__wasm_db_reset)(g),r._sqlite3__wasm_db_export_chunked=(g,y)=>(r._sqlite3__wasm_db_export_chunked=pe.sqlite3__wasm_db_export_chunked)(g,y),r._sqlite3__wasm_db_serialize=(g,y,S,E,C)=>(r._sqlite3__wasm_db_serialize=pe.sqlite3__wasm_db_serialize)(g,y,S,E,C),r._sqlite3__wasm_vfs_create_file=(g,y,S,E)=>(r._sqlite3__wasm_vfs_create_file=pe.sqlite3__wasm_vfs_create_file)(g,y,S,E),r._sqlite3__wasm_posix_create_file=(g,y,S)=>(r._sqlite3__wasm_posix_create_file=pe.sqlite3__wasm_posix_create_file)(g,y,S),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(g,y)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=pe.sqlite3__wasm_kvvfsMakeKeyOnPstack)(g,y),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=pe.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(g,y,S)=>(r._sqlite3__wasm_vtab_config=pe.sqlite3__wasm_vtab_config)(g,y,S),r._sqlite3__wasm_db_config_ip=(g,y,S,E)=>(r._sqlite3__wasm_db_config_ip=pe.sqlite3__wasm_db_config_ip)(g,y,S,E),r._sqlite3__wasm_db_config_pii=(g,y,S,E,C)=>(r._sqlite3__wasm_db_config_pii=pe.sqlite3__wasm_db_config_pii)(g,y,S,E,C),r._sqlite3__wasm_db_config_s=(g,y,S)=>(r._sqlite3__wasm_db_config_s=pe.sqlite3__wasm_db_config_s)(g,y,S),r._sqlite3__wasm_config_i=(g,y)=>(r._sqlite3__wasm_config_i=pe.sqlite3__wasm_config_i)(g,y),r._sqlite3__wasm_config_ii=(g,y,S)=>(r._sqlite3__wasm_config_ii=pe.sqlite3__wasm_config_ii)(g,y,S),r._sqlite3__wasm_config_j=(g,y)=>(r._sqlite3__wasm_config_j=pe.sqlite3__wasm_config_j)(g,y),r._sqlite3__wasm_qfmt_token=(g,y)=>(r._sqlite3__wasm_qfmt_token=pe.sqlite3__wasm_qfmt_token)(g,y),r._sqlite3__wasm_init_wasmfs=g=>(r._sqlite3__wasm_init_wasmfs=pe.sqlite3__wasm_init_wasmfs)(g),r._sqlite3__wasm_test_intptr=g=>(r._sqlite3__wasm_test_intptr=pe.sqlite3__wasm_test_intptr)(g),r._sqlite3__wasm_test_voidptr=g=>(r._sqlite3__wasm_test_voidptr=pe.sqlite3__wasm_test_voidptr)(g),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=pe.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=pe.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=g=>(r._sqlite3__wasm_test_int64_times2=pe.sqlite3__wasm_test_int64_times2)(g),r._sqlite3__wasm_test_int64_minmax=(g,y)=>(r._sqlite3__wasm_test_int64_minmax=pe.sqlite3__wasm_test_int64_minmax)(g,y),r._sqlite3__wasm_test_int64ptr=g=>(r._sqlite3__wasm_test_int64ptr=pe.sqlite3__wasm_test_int64ptr)(g),r._sqlite3__wasm_test_stack_overflow=g=>(r._sqlite3__wasm_test_stack_overflow=pe.sqlite3__wasm_test_stack_overflow)(g),r._sqlite3__wasm_test_str_hello=g=>(r._sqlite3__wasm_test_str_hello=pe.sqlite3__wasm_test_str_hello)(g),r._sqlite3__wasm_SQLTester_strglob=(g,y)=>(r._sqlite3__wasm_SQLTester_strglob=pe.sqlite3__wasm_SQLTester_strglob)(g,y),r._malloc=g=>(r._malloc=pe.malloc)(g),r._free=g=>(r._free=pe.free)(g),r._realloc=(g,y)=>(r._realloc=pe.realloc)(g,y);var Ef=(g,y)=>(Ef=pe.emscripten_builtin_memalign)(g,y);r.wasmMemory=q;var au;de=function g(){au||Nf(),au||(de=g)};function Nf(){if(ce>0||(Z(),ce>0))return;function g(){au||(au=!0,r.calledRun=!0,!j&&(ae(),i(r),r.onRuntimeInitialized?.(),ie()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),g()},1)):g()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Nf(),r.postRun||(r.postRun=[]),r.postRun.push(function(g){if(globalThis.sqlite3ApiBootstrap=function y(S=globalThis.sqlite3ApiConfig||y.defaultConfig){if(y.sqlite3)return(y.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),y.sqlite3;const E=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof g<"u"&&g.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},S||{});Object.assign(E,{allocExportName:E.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:E.useStdAlloc?"free":"sqlite3_free",reallocExportName:E.useStdAlloc?"realloc":"sqlite3_realloc"},E),["exports","memory","wasmfsOpfsDir"].forEach(H=>{typeof E[H]=="function"&&(E[H]=E[H]())}),delete globalThis.sqlite3ApiConfig,delete y.defaultConfig;const C=Object.create(null),M=Object.create(null),fe=H=>C.sqlite3_js_rc_str&&C.sqlite3_js_rc_str(H)||"Unknown result code #"+H,me=H=>typeof H=="number"&&H===(H|0);class Qe extends Error{constructor(...te){let re;if(te.length)if(me(te[0]))if(re=te[0],te.length===1)super(fe(te[0]));else{const Le=fe(re);typeof te[1]=="object"?super(Le,te[1]):(te[0]=Le+":",super(te.join(" ")))}else te.length===2&&typeof te[1]=="object"?super(...te):super(te.join(" "));this.resultCode=re||C.SQLITE_ERROR,this.name="SQLite3Error"}}Qe.toss=(...H)=>{throw new Qe(...H)};const tt=Qe.toss;E.wasmfsOpfsDir&&!/^\/[^/]+$/.test(E.wasmfsOpfsDir)&&tt("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const at=H=>typeof H!="bigint"&&H===(H|0)&&H<=0x7fffffff&&H>=-0x80000000,mt=function H(te){return H._max||(H._max=BigInt("0x7fffffffffffffff"),H._min=~H._max),te>=H._min&&te<=H._max},Be=H=>H>=-2147483647n-1n&&H<=2147483647n,Re=function H(te){return H._min||(H._min=Number.MIN_SAFE_INTEGER,H._max=Number.MAX_SAFE_INTEGER),te>=H._min&&te<=H._max},et=H=>H&&H.constructor&&at(H.constructor.BYTES_PER_ELEMENT)?H:!1,be=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ie=H=>H.buffer instanceof be,Oe=(H,te,re)=>Ie(H)?H.slice(te,re):H.subarray(te,re),Je=H=>H&&(H instanceof Uint8Array||H instanceof Int8Array||H instanceof ArrayBuffer),Ge=H=>H&&(H instanceof Uint8Array||H instanceof Int8Array||H instanceof ArrayBuffer),Te=H=>Je(H)||tt("Value is not of a supported TypedArray type."),Ke=new TextDecoder("utf-8"),St=function(H,te,re){return Ke.decode(Oe(H,te,re))},J=function(H){return Ge(H)?St(H instanceof ArrayBuffer?new Uint8Array(H):H):Array.isArray(H)?H.join(""):(M.isPtr(H)&&(H=M.cstrToJs(H)),H)};class le extends Error{constructor(...te){te.length===2&&typeof te[1]=="object"?super(...te):te.length?super(te.join(" ")):super("Allocation failed."),this.resultCode=C.SQLITE_NOMEM,this.name="WasmAllocError"}}le.toss=(...H)=>{throw new le(...H)},Object.assign(C,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(H,te,re,Le,it,Tt,$t,Gt,lt)=>{},sqlite3_create_function:(H,te,re,Le,it,Tt,$t,Gt)=>{},sqlite3_create_window_function:(H,te,re,Le,it,Tt,$t,Gt,lt,_e)=>{},sqlite3_prepare_v3:(H,te,re,Le,it,Tt)=>{},sqlite3_prepare_v2:(H,te,re,Le,it)=>{},sqlite3_exec:(H,te,re,Le,it)=>{},sqlite3_randomness:(H,te)=>{}});const Ee={affirmBindableTypedArray:Te,flexibleString:J,bigIntFits32:Be,bigIntFits64:mt,bigIntFitsDouble:Re,isBindableTypedArray:Je,isInt32:at,isSQLableTypedArray:Ge,isTypedArray:et,typedArrayToString:St,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:Ie,toss:function(...H){throw new Error(H.join(" "))},toss3:tt,typedArrayPart:Oe,affirmDbHeader:function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));const te="SQLite format 3";te.length>H.byteLength&&tt("Input does not contain an SQLite3 database header.");for(let re=0;re<te.length;++re)te.charCodeAt(re)!==H[re]&&tt("Input does not contain an SQLite3 database header.")},affirmIsDb:function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));const te=H.byteLength;(te<512||te%512!==0)&&tt("Byte array size",te,"is invalid for an SQLite3 db."),Ee.affirmDbHeader(H)}};Object.assign(M,{ptrSizeof:E.wasmPtrSizeof||4,ptrIR:E.wasmPtrIR||"i32",bigIntEnabled:!!E.bigIntEnabled,exports:E.exports||tt("Missing API config.exports (WASM module exports)."),memory:E.memory||E.exports.memory||tt("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),M.allocFromTypedArray=function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H)),Te(H);const te=M.alloc(H.byteLength||1);return M.heapForSize(H.constructor).set(H.byteLength?H:[0],te),te};{const H=E.allocExportName,te=E.deallocExportName,re=E.reallocExportName;for(const Le of[H,te,re])M.exports[Le]instanceof Function||tt("Missing required exports[",Le,"] function.");M.alloc=function Le(it){return Le.impl(it)||le.toss("Failed to allocate",it," bytes.")},M.alloc.impl=M.exports[H],M.realloc=function Le(it,Tt){const $t=Le.impl(it,Tt);return Tt?$t||le.toss("Failed to reallocate",Tt," bytes."):0},M.realloc.impl=M.exports[re],M.dealloc=M.exports[te]}M.compileOptionUsed=function H(te){if(arguments.length){if(Array.isArray(te)){const re={};return te.forEach(Le=>{re[Le]=C.sqlite3_compileoption_used(Le)}),re}else if(typeof te=="object")return Object.keys(te).forEach(re=>{te[re]=C.sqlite3_compileoption_used(re)}),te}else{if(H._result)return H._result;H._opt||(H._rx=/^([^=]+)=(.+)/,H._rxInt=/^-?\d+$/,H._opt=function($t,Gt){const lt=H._rx.exec($t);Gt[0]=lt?lt[1]:$t,Gt[1]=lt?H._rxInt.test(lt[2])?+lt[2]:lt[2]:!0});const re={},Le=[0,0];let it=0,Tt;for(;Tt=C.sqlite3_compileoption_get(it++);)H._opt(Tt,Le),re[Le[0]]=Le[1];return H._result=re}return typeof te=="string"?!!C.sqlite3_compileoption_used(te):!1},M.pstack=Object.assign(Object.create(null),{restore:M.exports.sqlite3__wasm_pstack_restore,alloc:function(H){return typeof H=="string"&&!(H=M.sizeofIR(H))&&le.toss("Invalid value for pstack.alloc(",arguments[0],")"),M.exports.sqlite3__wasm_pstack_alloc(H)||le.toss("Could not allocate",H,"bytes from the pstack.")},allocChunks:function(H,te){typeof te=="string"&&!(te=M.sizeofIR(te))&&le.toss("Invalid size value for allocChunks(",arguments[1],")");const re=M.pstack.alloc(H*te),Le=[];let it=0,Tt=0;for(;it<H;++it,Tt+=te)Le.push(re+Tt);return Le},allocPtr:(H=1,te=!0)=>H===1?M.pstack.alloc(te?8:M.ptrSizeof):M.pstack.allocChunks(H,te?8:M.ptrSizeof),call:function(H){const te=M.pstack.pointer;try{return H(he)}finally{M.pstack.restore(te)}}}),Object.defineProperties(M.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_remaining}}),C.sqlite3_randomness=(...H)=>{if(H.length===1&&Ee.isTypedArray(H[0])&&H[0].BYTES_PER_ELEMENT===1){const te=H[0];if(te.byteLength===0)return M.exports.sqlite3_randomness(0,0),te;const re=M.pstack.pointer;try{let Le=te.byteLength,it=0;const Tt=M.exports.sqlite3_randomness,$t=M.heap8u(),Gt=Le<512?Le:512,lt=M.pstack.alloc(Gt);do{const _e=Le>Gt?Gt:Le;Tt(_e,lt),te.set(Oe($t,lt,lt+_e),it),Le-=_e,it+=_e}while(Le>0)}catch(Le){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Le)}finally{M.pstack.restore(re)}return te}M.exports.sqlite3_randomness(...H)};let st;if(C.sqlite3_wasmfs_opfs_dir=function(){if(st!==void 0)return st;const H=E.wasmfsOpfsDir;if(!H||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return st="";try{return H&&M.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],H)===0?st=H:st=""}catch{return st=""}},C.sqlite3_wasmfs_filename_is_persistent=function(H){const te=C.sqlite3_wasmfs_opfs_dir();return te&&H?H.startsWith(te+"/"):!1},C.sqlite3_js_db_uses_vfs=function(H,te,re=0){try{const Le=C.sqlite3_vfs_find(te);return Le?H?Le===C.sqlite3_js_db_vfs(H,re)?Le:!1:Le===C.sqlite3_vfs_find(0)?Le:!1:!1}catch{return!1}},C.sqlite3_js_vfs_list=function(){const H=[];let te=C.sqlite3_vfs_find(0);for(;te;){const re=new C.sqlite3_vfs(te);H.push(M.cstrToJs(re.$zName)),te=re.$pNext,re.dispose()}return H},C.sqlite3_js_db_export=function(H,te=0){H=M.xWrap.testConvertArg("sqlite3*",H),H||tt("Invalid sqlite3* argument."),M.bigIntEnabled||tt("BigInt64 support is not enabled.");const re=M.scopedAllocPush();let Le;try{const it=M.scopedAlloc(8+M.ptrSizeof),Tt=it+8,$t=te?M.isPtr(te)?te:M.scopedAllocCString(""+te):0;let Gt=M.exports.sqlite3__wasm_db_serialize(H,$t,Tt,it,0);Gt&&tt("Database serialization failed with code",he.capi.sqlite3_js_rc_str(Gt)),Le=M.peekPtr(Tt);const lt=M.peek(it,"i64");return Gt=lt?M.heap8u().slice(Le,Le+Number(lt)):new Uint8Array,Gt}finally{Le&&M.exports.sqlite3_free(Le),M.scopedAllocPop(re)}},C.sqlite3_js_db_vfs=(H,te=0)=>Ee.sqlite3__wasm_db_vfs(H,te),C.sqlite3_js_aggregate_context=(H,te)=>C.sqlite3_aggregate_context(H,te)||(te?le.toss("Cannot allocate",te,"bytes for sqlite3_aggregate_context()"):0),C.sqlite3_js_posix_create_file=function(H,te,re){let Le;te&&M.isPtr(te)?Le=te:te instanceof ArrayBuffer||te instanceof Uint8Array?(Le=M.allocFromTypedArray(te),(arguments.length<3||!Ee.isInt32(re)||re<0)&&(re=te.byteLength)):Qe.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!Ee.isInt32(re)||re<0)&&Qe.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const it=Ee.sqlite3__wasm_posix_create_file(H,Le,re);it&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(it))}finally{M.dealloc(Le)}},C.sqlite3_js_vfs_create_file=function(H,te,re,Le){E.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let it;re?(M.isPtr(re)?it=re:re instanceof ArrayBuffer&&(re=new Uint8Array(re)),re instanceof Uint8Array?(it=M.allocFromTypedArray(re),(arguments.length<4||!Ee.isInt32(Le)||Le<0)&&(Le=re.byteLength)):Qe.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):it=0,(!Ee.isInt32(Le)||Le<0)&&(M.dealloc(it),Qe.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Tt=Ee.sqlite3__wasm_vfs_create_file(H,te,it,Le);Tt&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(Tt))}finally{M.dealloc(it)}},C.sqlite3_js_sql_to_string=H=>{if(typeof H=="string")return H;const te=J(v);return te===v?void 0:te},Ee.isUIThread()){const H=function(te){const re=Object.create(null);return re.prefix="kvvfs-"+te,re.stores=[],(te==="session"||te==="")&&re.stores.push(globalThis.sessionStorage),(te==="local"||te==="")&&re.stores.push(globalThis.localStorage),re};C.sqlite3_js_kvvfs_clear=function(te=""){let re=0;const Le=H(te);return Le.stores.forEach(it=>{const Tt=[];let $t;for($t=0;$t<it.length;++$t){const Gt=it.key($t);Gt.startsWith(Le.prefix)&&Tt.push(Gt)}Tt.forEach(Gt=>it.removeItem(Gt)),re+=Tt.length}),re},C.sqlite3_js_kvvfs_size=function(te=""){let re=0;const Le=H(te);return Le.stores.forEach(it=>{let Tt;for(Tt=0;Tt<it.length;++Tt){const $t=it.key(Tt);$t.startsWith(Le.prefix)&&(re+=$t.length,re+=it.getItem($t).length)}}),re*2}}C.sqlite3_db_config=function(H,te,...re){switch(this.s||(this.s=M.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=M.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=M.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),te){case C.SQLITE_DBCONFIG_ENABLE_FKEY:case C.SQLITE_DBCONFIG_ENABLE_TRIGGER:case C.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case C.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case C.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case C.SQLITE_DBCONFIG_ENABLE_QPSG:case C.SQLITE_DBCONFIG_TRIGGER_EQP:case C.SQLITE_DBCONFIG_RESET_DATABASE:case C.SQLITE_DBCONFIG_DEFENSIVE:case C.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case C.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case C.SQLITE_DBCONFIG_DQS_DML:case C.SQLITE_DBCONFIG_DQS_DDL:case C.SQLITE_DBCONFIG_ENABLE_VIEW:case C.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case C.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case C.SQLITE_DBCONFIG_STMT_SCANSTATUS:case C.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(H,te,re[0],re[1]||0);case C.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(H,te,re[0],re[1],re[2]);case C.SQLITE_DBCONFIG_MAINDBNAME:return this.s(H,te,re[0]);default:return C.SQLITE_MISUSE}}.bind(Object.create(null)),C.sqlite3_value_to_js=function(H,te=!0){let re;const Le=C.sqlite3_value_type(H);switch(Le){case C.SQLITE_INTEGER:M.bigIntEnabled?(re=C.sqlite3_value_int64(H),Ee.bigIntFitsDouble(re)&&(re=Number(re))):re=C.sqlite3_value_double(H);break;case C.SQLITE_FLOAT:re=C.sqlite3_value_double(H);break;case C.SQLITE_TEXT:re=C.sqlite3_value_text(H);break;case C.SQLITE_BLOB:{const it=C.sqlite3_value_bytes(H),Tt=C.sqlite3_value_blob(H);it&&!Tt&&he.WasmAllocError.toss("Cannot allocate memory for blob argument of",it,"byte(s)"),re=it?M.heap8u().slice(Tt,Tt+Number(it)):null;break}case C.SQLITE_NULL:re=null;break;default:te&&tt(C.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Le),re=void 0}return re},C.sqlite3_values_to_js=function(H,te,re=!0){let Le;const it=[];for(Le=0;Le<H;++Le)it.push(C.sqlite3_value_to_js(M.peekPtr(te+M.ptrSizeof*Le),re));return it},C.sqlite3_result_error_js=function(H,te){te instanceof le?C.sqlite3_result_error_nomem(H):C.sqlite3_result_error(H,""+te,-1)},C.sqlite3_result_js=function(H,te){if(te instanceof Error){C.sqlite3_result_error_js(H,te);return}try{switch(typeof te){case"undefined":break;case"boolean":C.sqlite3_result_int(H,te?1:0);break;case"bigint":Ee.bigIntFits32(te)?C.sqlite3_result_int(H,Number(te)):Ee.bigIntFitsDouble(te)?C.sqlite3_result_double(H,Number(te)):M.bigIntEnabled?Ee.bigIntFits64(te)?C.sqlite3_result_int64(H,te):tt("BigInt value",te.toString(),"is too BigInt for int64."):tt("BigInt value",te.toString(),"is too BigInt.");break;case"number":{let re;Ee.isInt32(te)?re=C.sqlite3_result_int:M.bigIntEnabled&&Number.isInteger(te)&&Ee.bigIntFits64(BigInt(te))?re=C.sqlite3_result_int64:re=C.sqlite3_result_double,re(H,te);break}case"string":{const[re,Le]=M.allocCString(te,!0);C.sqlite3_result_text(H,re,Le,C.SQLITE_WASM_DEALLOC);break}case"object":if(te===null){C.sqlite3_result_null(H);break}else if(Ee.isBindableTypedArray(te)){const re=M.allocFromTypedArray(te);C.sqlite3_result_blob(H,re,te.byteLength,C.SQLITE_WASM_DEALLOC);break}default:tt("Don't not how to handle this UDF result value:",typeof te,te)}}catch(re){C.sqlite3_result_error_js(H,re)}},C.sqlite3_column_js=function(H,te,re=!0){const Le=C.sqlite3_column_value(H,te);return Le===0?void 0:C.sqlite3_value_to_js(Le,re)};const oe=function(H,te,re){re=C[re],this.ptr?M.pokePtr(this.ptr,0):this.ptr=M.allocPtr();const Le=re(H,te,this.ptr);if(Le)return Qe.toss(Le,arguments[2]+"() failed with code "+Le);const it=M.peekPtr(this.ptr);return it?C.sqlite3_value_to_js(it,!0):void 0}.bind(Object.create(null));C.sqlite3_preupdate_new_js=(H,te)=>oe(H,te,"sqlite3_preupdate_new"),C.sqlite3_preupdate_old_js=(H,te)=>oe(H,te,"sqlite3_preupdate_old"),C.sqlite3changeset_new_js=(H,te)=>oe(H,te,"sqlite3changeset_new"),C.sqlite3changeset_old_js=(H,te)=>oe(H,te,"sqlite3changeset_old");const he={WasmAllocError:le,SQLite3Error:Qe,capi:C,util:Ee,wasm:M,config:E,version:Object.create(null),client:void 0,asyncPostInit:async function H(){if(H.isReady instanceof Promise)return H.isReady;let te=y.initializersAsync;delete y.initializersAsync;const re=async()=>(he.__isUnderTest||(delete he.util,delete he.StructBinder),he),Le=Tt=>{throw E.error("an async sqlite3 initializer failed:",Tt),Tt};if(!te||!te.length)return H.isReady=re().catch(Le);te=te.map(Tt=>Tt instanceof Function?async $t=>Tt(he):Tt),te.push(re);let it=Promise.resolve(he);for(;te.length;)it=it.then(te.shift());return H.isReady=it.catch(Le)},scriptInfo:void 0};try{y.initializers.forEach(H=>{H(he)})}catch(H){throw console.error("sqlite3 bootstrap initializer threw:",H),H}return delete y.initializers,y.sqlite3=he,he},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(y){y.bigIntEnabled===void 0&&(y.bigIntEnabled=!!globalThis.BigInt64Array);const S=(...J)=>{throw new Error(J.join(" "))};y.exports||Object.defineProperty(y,"exports",{enumerable:!0,configurable:!0,get:()=>y.instance&&y.instance.exports});const E=y.pointerIR||"i32",C=y.ptrSizeof=E==="i32"?4:E==="i64"?8:S("Unhandled ptrSizeof:",E),M=Object.create(null);M.heapSize=0,M.memory=null,M.freeFuncIndexes=[],M.scopedAlloc=[],M.utf8Decoder=new TextDecoder,M.utf8Encoder=new TextEncoder("utf-8"),y.sizeofIR=J=>{switch(J){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return C;default:return(""+J).endsWith("*")?C:void 0}};const fe=function(){if(!M.memory)M.memory=y.memory instanceof WebAssembly.Memory?y.memory:y.exports.memory;else if(M.heapSize===M.memory.buffer.byteLength)return M;const J=M.memory.buffer;return M.HEAP8=new Int8Array(J),M.HEAP8U=new Uint8Array(J),M.HEAP16=new Int16Array(J),M.HEAP16U=new Uint16Array(J),M.HEAP32=new Int32Array(J),M.HEAP32U=new Uint32Array(J),y.bigIntEnabled&&(M.HEAP64=new BigInt64Array(J),M.HEAP64U=new BigUint64Array(J)),M.HEAP32F=new Float32Array(J),M.HEAP64F=new Float64Array(J),M.heapSize=J.byteLength,M};y.heap8=()=>fe().HEAP8,y.heap8u=()=>fe().HEAP8U,y.heap16=()=>fe().HEAP16,y.heap16u=()=>fe().HEAP16U,y.heap32=()=>fe().HEAP32,y.heap32u=()=>fe().HEAP32U,y.heapForSize=function(J,le=!0){const Ee=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe();switch(J){case Int8Array:return Ee.HEAP8;case Uint8Array:return Ee.HEAP8U;case Int16Array:return Ee.HEAP16;case Uint16Array:return Ee.HEAP16U;case Int32Array:return Ee.HEAP32;case Uint32Array:return Ee.HEAP32U;case 8:return le?Ee.HEAP8U:Ee.HEAP8;case 16:return le?Ee.HEAP16U:Ee.HEAP16;case 32:return le?Ee.HEAP32U:Ee.HEAP32;case 64:if(Ee.HEAP64)return le?Ee.HEAP64U:Ee.HEAP64;break;default:if(y.bigIntEnabled){if(J===globalThis.BigUint64Array)return Ee.HEAP64U;if(J===globalThis.BigInt64Array)return Ee.HEAP64;break}}S("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},y.functionTable=function(){return y.exports.__indirect_function_table},y.functionEntry=function(J){const le=y.functionTable();return J<le.length?le.get(J):void 0},y.jsFuncToWasm=function J(le,Ee){if(J._||(J._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(he,H,te){te<128?he[H](te):he[H](te%128|128,te>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(he){const H=J._.rxJSig.exec(he);return H?H[2]:he.substr(1)},letterType:he=>J._.sigTypes[he]||S("Invalid signature letter:",he),pushSigType:(he,H)=>he.push(J._.typeCodes[J._.letterType(H)])}),typeof le=="string"){const he=Ee;Ee=le,le=he}const st=J._.sigParams(Ee),oe=[1,96];J._.uleb128Encode(oe,"push",st.length);for(const he of st)J._.pushSigType(oe,he);return Ee[0]==="v"?oe.push(0):(oe.push(1),J._.pushSigType(oe,Ee[0])),J._.uleb128Encode(oe,"unshift",oe.length),oe.unshift(0,97,115,109,1,0,0,0,1),oe.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(oe)),{e:{f:le}}).exports.f};const me=function(le,Ee,st){if(st&&!M.scopedAlloc.length&&S("No scopedAllocPush() scope is active."),typeof le=="string"){const te=Ee;Ee=le,le=te}(typeof Ee!="string"||!(le instanceof Function))&&S("Invalid arguments: expecting (function,signature) or (signature,function).");const oe=y.functionTable(),he=oe.length;let H;for(;M.freeFuncIndexes.length&&(H=M.freeFuncIndexes.pop(),oe.get(H));){H=null;continue}H||(H=he,oe.grow(1));try{return oe.set(H,le),st&&M.scopedAlloc[M.scopedAlloc.length-1].push(H),H}catch(te){if(!(te instanceof TypeError))throw H===he&&M.freeFuncIndexes.push(he),te}try{const te=y.jsFuncToWasm(le,Ee);oe.set(H,te),st&&M.scopedAlloc[M.scopedAlloc.length-1].push(H)}catch(te){throw H===he&&M.freeFuncIndexes.push(he),te}return H};y.installFunction=(J,le)=>me(J,le,!1),y.scopedInstallFunction=(J,le)=>me(J,le,!0),y.uninstallFunction=function(J){if(!J&&J!==0)return;const le=M.freeFuncIndexes,Ee=y.functionTable();le.push(J);const st=Ee.get(J);return Ee.set(J,null),st},y.peek=function(le,Ee="i8"){Ee.endsWith("*")&&(Ee=E);const st=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe(),oe=Array.isArray(le)?[]:void 0;let he;do{switch(oe&&(le=arguments[0].shift()),Ee){case"i1":case"i8":he=st.HEAP8[le>>0];break;case"i16":he=st.HEAP16[le>>1];break;case"i32":he=st.HEAP32[le>>2];break;case"float":case"f32":he=st.HEAP32F[le>>2];break;case"double":case"f64":he=Number(st.HEAP64F[le>>3]);break;case"i64":if(y.bigIntEnabled){he=BigInt(st.HEAP64[le>>3]);break}default:S("Invalid type for peek():",Ee)}oe&&oe.push(he)}while(oe&&arguments[0].length);return oe||he},y.poke=function(J,le,Ee="i8"){Ee.endsWith("*")&&(Ee=E);const st=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe();for(const oe of Array.isArray(J)?J:[J])switch(Ee){case"i1":case"i8":st.HEAP8[oe>>0]=le;continue;case"i16":st.HEAP16[oe>>1]=le;continue;case"i32":st.HEAP32[oe>>2]=le;continue;case"float":case"f32":st.HEAP32F[oe>>2]=le;continue;case"double":case"f64":st.HEAP64F[oe>>3]=le;continue;case"i64":if(st.HEAP64){st.HEAP64[oe>>3]=BigInt(le);continue}default:S("Invalid type for poke(): "+Ee)}return this},y.peekPtr=(...J)=>y.peek(J.length===1?J[0]:J,E),y.pokePtr=(J,le=0)=>y.poke(J,le,E),y.peek8=(...J)=>y.peek(J.length===1?J[0]:J,"i8"),y.poke8=(J,le)=>y.poke(J,le,"i8"),y.peek16=(...J)=>y.peek(J.length===1?J[0]:J,"i16"),y.poke16=(J,le)=>y.poke(J,le,"i16"),y.peek32=(...J)=>y.peek(J.length===1?J[0]:J,"i32"),y.poke32=(J,le)=>y.poke(J,le,"i32"),y.peek64=(...J)=>y.peek(J.length===1?J[0]:J,"i64"),y.poke64=(J,le)=>y.poke(J,le,"i64"),y.peek32f=(...J)=>y.peek(J.length===1?J[0]:J,"f32"),y.poke32f=(J,le)=>y.poke(J,le,"f32"),y.peek64f=(...J)=>y.peek(J.length===1?J[0]:J,"f64"),y.poke64f=(J,le)=>y.poke(J,le,"f64"),y.getMemValue=y.peek,y.getPtrValue=y.peekPtr,y.setMemValue=y.poke,y.setPtrValue=y.pokePtr,y.isPtr32=J=>typeof J=="number"&&J===(J|0)&&J>=0,y.isPtr=y.isPtr32,y.cstrlen=function(J){if(!J||!y.isPtr(J))return null;const le=fe().HEAP8U;let Ee=J;for(;le[Ee]!==0;++Ee);return Ee-J};const Qe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,tt=function(J,le,Ee){return M.utf8Decoder.decode(J.buffer instanceof Qe?J.slice(le,Ee):J.subarray(le,Ee))};y.cstrToJs=function(J){const le=y.cstrlen(J);return le?tt(fe().HEAP8U,J,J+le):le===null?le:""},y.jstrlen=function(J){if(typeof J!="string")return null;const le=J.length;let Ee=0;for(let st=0;st<le;++st){let oe=J.charCodeAt(st);oe>=55296&&oe<=57343&&(oe=65536+((oe&1023)<<10)|J.charCodeAt(++st)&1023),oe<=127?++Ee:oe<=2047?Ee+=2:oe<=65535?Ee+=3:Ee+=4}return Ee},y.jstrcpy=function(J,le,Ee=0,st=-1,oe=!0){if((!le||!(le instanceof Int8Array)&&!(le instanceof Uint8Array))&&S("jstrcpy() target must be an Int8Array or Uint8Array."),st<0&&(st=le.length-Ee),!(st>0)||!(Ee>=0))return 0;let he=0,H=J.length;const te=Ee,re=Ee+st-(oe?1:0);for(;he<H&&Ee<re;++he){let Le=J.charCodeAt(he);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|J.charCodeAt(++he)&1023),Le<=127){if(Ee>=re)break;le[Ee++]=Le}else if(Le<=2047){if(Ee+1>=re)break;le[Ee++]=192|Le>>6,le[Ee++]=128|Le&63}else if(Le<=65535){if(Ee+2>=re)break;le[Ee++]=224|Le>>12,le[Ee++]=128|Le>>6&63,le[Ee++]=128|Le&63}else{if(Ee+3>=re)break;le[Ee++]=240|Le>>18,le[Ee++]=128|Le>>12&63,le[Ee++]=128|Le>>6&63,le[Ee++]=128|Le&63}}return oe&&(le[Ee++]=0),Ee-te},y.cstrncpy=function(J,le,Ee){if((!J||!le)&&S("cstrncpy() does not accept NULL strings."),Ee<0)Ee=y.cstrlen(strPtr)+1;else if(!(Ee>0))return 0;const st=y.heap8u();let oe=0,he;for(;oe<Ee&&(he=st[le+oe]);++oe)st[J+oe]=he;return oe<Ee&&(st[J+oe++]=0),oe},y.jstrToUintArray=(J,le=!1)=>M.utf8Encoder.encode(le?J+"\0":J);const at=(J,le)=>{(!(J.alloc instanceof Function)||!(J.dealloc instanceof Function))&&S("Object is missing alloc() and/or dealloc() function(s)","required by",le+"().")},mt=function(J,le,Ee,st){if(at(y,st),typeof J!="string")return null;{const oe=M.utf8Encoder.encode(J),he=Ee(oe.length+1),H=fe().HEAP8U;return H.set(oe,he),H[he+oe.length]=0,le?[he,oe.length]:he}};y.allocCString=(J,le=!1)=>mt(J,le,y.alloc,"allocCString()"),y.scopedAllocPush=function(){at(y,"scopedAllocPush");const J=[];return M.scopedAlloc.push(J),J},y.scopedAllocPop=function(J){at(y,"scopedAllocPop");const le=arguments.length?M.scopedAlloc.indexOf(J):M.scopedAlloc.length-1;le<0&&S("Invalid state object for scopedAllocPop()."),arguments.length===0&&(J=M.scopedAlloc[le]),M.scopedAlloc.splice(le,1);for(let Ee;Ee=J.pop();)y.functionEntry(Ee)?y.uninstallFunction(Ee):y.dealloc(Ee)},y.scopedAlloc=function(J){M.scopedAlloc.length||S("No scopedAllocPush() scope is active.");const le=y.alloc(J);return M.scopedAlloc[M.scopedAlloc.length-1].push(le),le},Object.defineProperty(y.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>M.scopedAlloc.length,set:()=>S("The 'active' property is read-only.")}),y.scopedAllocCString=(J,le=!1)=>mt(J,le,y.scopedAlloc,"scopedAllocCString()");const Be=function(J,le){const Ee=y[J?"scopedAlloc":"alloc"]((le.length+1)*y.ptrSizeof);let st=0;return le.forEach(oe=>{y.pokePtr(Ee+y.ptrSizeof*st++,y[J?"scopedAllocCString":"allocCString"](""+oe))}),y.pokePtr(Ee+y.ptrSizeof*st,0),Ee};y.scopedAllocMainArgv=J=>Be(!0,J),y.allocMainArgv=J=>Be(!1,J),y.cArgvToJs=(J,le)=>{const Ee=[];for(let st=0;st<J;++st){const oe=y.peekPtr(le+y.ptrSizeof*st);Ee.push(oe?y.cstrToJs(oe):null)}return Ee},y.scopedAllocCall=function(J){y.scopedAllocPush();try{return J()}finally{y.scopedAllocPop()}};const Re=function(J,le,Ee){at(y,Ee);const st=le?"i64":E;let oe=y[Ee](J*(le?8:C));if(y.poke(oe,0,st),J===1)return oe;const he=[oe];for(let H=1;H<J;++H)oe+=le?8:C,he[H]=oe,y.poke(oe,0,st);return he};y.allocPtr=(J=1,le=!0)=>Re(J,le,"alloc"),y.scopedAllocPtr=(J=1,le=!0)=>Re(J,le,"scopedAlloc"),y.xGet=function(J){return y.exports[J]||S("Cannot find exported symbol:",J)};const et=(J,le)=>S(J+"() requires",le,"argument(s).");y.xCall=function(J,...le){const Ee=J instanceof Function?J:y.xGet(J);return Ee instanceof Function||S("Exported symbol",J,"is not a function."),Ee.length!==le.length&&et(Ee===J?Ee.name:J,Ee.length),arguments.length===2&&Array.isArray(arguments[1])?Ee.apply(null,arguments[1]):Ee.apply(null,le)},M.xWrap=Object.create(null),M.xWrap.convert=Object.create(null),M.xWrap.convert.arg=new Map,M.xWrap.convert.result=new Map;const be=M.xWrap.convert.arg,Ie=M.xWrap.convert.result;y.bigIntEnabled&&be.set("i64",J=>BigInt(J));const Oe=E==="i32"?J=>J|0:J=>BigInt(J)|BigInt(0);be.set("i32",Oe).set("i16",J=>(J|0)&65535).set("i8",J=>(J|0)&255).set("f32",J=>Number(J).valueOf()).set("float",be.get("f32")).set("f64",be.get("f32")).set("double",be.get("f64")).set("int",be.get("i32")).set("null",J=>J).set(null,be.get("null")).set("**",Oe).set("*",Oe),Ie.set("*",Oe).set("pointer",Oe).set("number",J=>Number(J)).set("void",J=>{}).set("null",J=>J).set(null,Ie.get("null"));{const J=["i8","i16","i32","int","f32","float","f64","double"];y.bigIntEnabled&&J.push("i64");const le=be.get(E);for(const Ee of J)be.set(Ee+"*",le),Ie.set(Ee+"*",le),Ie.set(Ee,be.get(Ee)||S("Missing arg converter:",Ee))}const Je=function(J){return typeof J=="string"?y.scopedAllocCString(J):J?Oe(J):null};be.set("string",Je).set("utf8",Je).set("pointer",Je),Ie.set("string",J=>y.cstrToJs(J)).set("utf8",Ie.get("string")).set("string:dealloc",J=>{try{return J?y.cstrToJs(J):null}finally{y.dealloc(J)}}).set("utf8:dealloc",Ie.get("string:dealloc")).set("json",J=>JSON.parse(y.cstrToJs(J))).set("json:dealloc",J=>{try{return J?JSON.parse(y.cstrToJs(J)):null}finally{y.dealloc(J)}});const Ge=class{constructor(J){this.name=J.name||"unnamed adapter"}convertArg(J,le,Ee){S("AbstractArgAdapter must be subclassed.")}};be.FuncPtrAdapter=class ka extends Ge{constructor(le){super(le),be.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",le),this.name=le.name||"unnamed",this.signature=le.signature,le.contextKey instanceof Function&&(this.contextKey=le.contextKey,le.bindScope||(le.bindScope="context")),this.bindScope=le.bindScope||S("FuncPtrAdapter options requires a bindScope (explicit or implied)."),ka.bindScopes.indexOf(le.bindScope)<0&&S("Invalid options.bindScope ("+le.bindMod+") for FuncPtrAdapter. Expecting one of: ("+ka.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=le.callProxy instanceof Function?le.callProxy:void 0}contextKey(le,Ee){return this}contextMap(le){const Ee=this.__cmap||(this.__cmap=new Map);let st=Ee.get(le);return st===void 0&&Ee.set(le,st=[]),st}convertArg(le,Ee,st){let oe=this.singleton;if(!oe&&this.isContext&&(oe=this.contextMap(this.contextKey(Ee,st))),oe&&oe[0]===le)return oe[1];if(le instanceof Function){this.callProxy&&(le=this.callProxy(le));const he=me(le,this.signature,this.isTransient);if(ka.debugFuncInstall&&ka.debugOut("FuncPtrAdapter installed",this,this.contextKey(Ee,st),"@"+he,le),oe){if(oe[1]){ka.debugFuncInstall&&ka.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+oe[1],le);try{M.scopedAlloc[M.scopedAlloc.length-1].push(oe[1])}catch{}}oe[0]=le,oe[1]=he}return he}else if(y.isPtr(le)||le===null||le===void 0){if(oe&&oe[1]&&oe[1]!==le){ka.debugFuncInstall&&ka.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+oe[1],le);try{M.scopedAlloc[M.scopedAlloc.length-1].push(oe[1])}catch{}oe[0]=oe[1]=le|0}return le||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},be.FuncPtrAdapter.warnOnUse=!1,be.FuncPtrAdapter.debugFuncInstall=!1,be.FuncPtrAdapter.debugOut=console.debug.bind(console),be.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Te=J=>be.get(J)||S("Argument adapter not found:",J),Ke=J=>Ie.get(J)||S("Result adapter not found:",J);M.xWrap.convertArg=(J,...le)=>Te(J)(...le),M.xWrap.convertArgNoCheck=(J,...le)=>be.get(J)(...le),M.xWrap.convertResult=(J,le)=>J===null?le:J?Ke(J)(le):void 0,M.xWrap.convertResultNoCheck=(J,le)=>J===null?le:J?Ie.get(J)(le):void 0,y.xWrap=function(J,le,...Ee){arguments.length===3&&Array.isArray(arguments[2])&&(Ee=arguments[2]),y.isPtr(J)&&(J=y.functionEntry(J)||S("Function pointer not found in WASM function table."));const st=J instanceof Function,oe=st?J:y.xGet(J);if(st&&(J=oe.name||"unnamed function"),Ee.length!==oe.length&&et(J,oe.length),le===null&&oe.length===0)return oe;le!=null&&Ke(le);for(const H of Ee)H instanceof Ge?be.set(H,(...te)=>H.convertArg(...te)):Te(H);const he=M.xWrap;return oe.length===0?(...H)=>H.length?et(J,oe.length):he.convertResult(le,oe.call(null)):function(...H){H.length!==oe.length&&et(J,oe.length);const te=y.scopedAllocPush();try{let re=0;for(;re<H.length;++re)H[re]=he.convertArgNoCheck(Ee[re],H[re],H,re);return he.convertResultNoCheck(le,oe.apply(null,H))}finally{y.scopedAllocPop(te)}}};const St=function(J,le,Ee,st,oe,he){if(typeof Ee=="string"){if(le===1)return he.get(Ee);if(le===2){if(st)st instanceof Function||S(oe,"requires a function argument.");else return delete he.get(Ee),J;return he.set(Ee,st),J}}S("Invalid arguments to",oe)};return y.xWrap.resultAdapter=function J(le,Ee){return St(J,arguments.length,le,Ee,"resultAdapter()",Ie)},y.xWrap.argAdapter=function J(le,Ee){return St(J,arguments.length,le,Ee,"argAdapter()",be)},y.xWrap.FuncPtrAdapter=be.FuncPtrAdapter,y.xCallWrapped=function(J,le,Ee,...st){return Array.isArray(arguments[3])&&(st=arguments[3]),y.xWrap(J,le,Ee||[]).apply(null,st||[])},y.xWrap.testConvertArg=M.xWrap.convertArg,y.xWrap.testConvertResult=M.xWrap.convertResult,y},globalThis.WhWasmUtilInstaller.yawl=function(y){const S=()=>fetch(y.uri,{credentials:"same-origin"}),E=this,C=function(fe){if(y.wasmUtilTarget){const me=(...tt)=>{throw new Error(tt.join(" "))},Qe=y.wasmUtilTarget;if(Qe.module=fe.module,Qe.instance=fe.instance,Qe.instance.exports.memory||(Qe.memory=y.imports&&y.imports.env&&y.imports.env.memory||me("Missing 'memory' object!")),!Qe.alloc&&fe.instance.exports.malloc){const tt=fe.instance.exports;Qe.alloc=function(at){return tt.malloc(at)||me("Allocation of",at,"bytes failed.")},Qe.dealloc=function(at){tt.free(at)}}E(Qe)}return y.onload&&y.onload(fe,y),fe};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(S(),y.imports||{}).then(C)}:function(){return S().then(me=>me.arrayBuffer()).then(me=>WebAssembly.instantiate(me,y.imports||{})).then(C)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function y(S){const E=(...We)=>{throw new Error(We.join(" "))};!(S.heap instanceof WebAssembly.Memory)&&!(S.heap instanceof Function)&&E("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(We){S[We]instanceof Function||E("Config option '"+We+"' must be a function.")});const C=y,M=S.heap instanceof Function?S.heap:()=>new Uint8Array(S.heap.buffer),fe=S.alloc,me=S.dealloc,Qe=S.log||console.log.bind(console),tt=S.memberPrefix||"",at=S.memberSuffix||"",mt=S.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!S.bigIntEnabled,Be=globalThis.BigInt,Re=globalThis.BigInt64Array,et=S.ptrSizeof||4,be=S.ptrIR||"i32";C.debugFlags||(C.__makeDebugFlags=function(We=null){We&&We.__flags&&(We=We.__flags);const vt=function wt(kt){return arguments.length===0?wt.__flags:(kt<0?(delete wt.__flags.getter,delete wt.__flags.setter,delete wt.__flags.alloc,delete wt.__flags.dealloc):(wt.__flags.getter=(1&kt)!==0,wt.__flags.setter=(2&kt)!==0,wt.__flags.alloc=(4&kt)!==0,wt.__flags.dealloc=(8&kt)!==0),wt._flags)};return Object.defineProperty(vt,"__flags",{iterable:!1,writable:!1,value:Object.create(We)}),We||vt(0),vt},C.debugFlags=C.__makeDebugFlags());const Ie=function(){const We=new ArrayBuffer(2);return new DataView(We).setInt16(0,256,!0),new Int16Array(We)[0]===256}(),Oe=We=>We[1]==="(",Je=We=>We==="P",Ge=We=>Oe(We)?"p":We[0],Te=function(We){switch(Ge(We)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return be;case"j":return"i64";case"f":return"float";case"d":return"double"}E("Unhandled signature IR:",We)},Ke=Re?()=>!0:()=>E("BigInt64Array is not available."),St=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"getInt32";case 8:return Ke()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Ke()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}E("Unhandled DataView getter for signature:",We)},J=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"setInt32";case 8:return Ke()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Ke()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}E("Unhandled DataView setter for signature:",We)},le=function(We){switch(Ge(We)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Ke()&&Be;case"p":case"P":case"s":switch(et){case 4:return Number;case 8:return Ke()&&Be}break}E("Unhandled DataView set wrapper for signature:",We)},Ee=(We,vt)=>We+"::"+vt,st=function(We,vt){return()=>E(Ee(We,vt),"is read-only.")},oe=new WeakMap,he="(pointer-is-external)",H=function(We,vt,wt){if(wt||(wt=oe.get(vt)),wt){if(oe.delete(vt),Array.isArray(vt.ondispose)){let kt;for(;kt=vt.ondispose.shift();)try{kt instanceof Function?kt.call(vt):kt instanceof Mt?kt.dispose():typeof kt=="number"&&me(kt)}catch(fn){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",fn)}}else if(vt.ondispose instanceof Function)try{vt.ondispose()}catch(kt){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",kt)}delete vt.ondispose,We.debugFlags.__flags.dealloc&&Qe("debug.dealloc:",vt[he]?"EXTERNAL":"",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),vt[he]||me(wt)}},te=We=>({configurable:!1,writable:!1,iterable:!1,value:We}),re=function(We,vt,wt){let kt=!wt;wt?Object.defineProperty(vt,he,te(wt)):(wt=fe(We.structInfo.sizeof),wt||E("Allocation of",We.structName,"structure failed."));try{We.debugFlags.__flags.alloc&&Qe("debug.alloc:",kt?"":"EXTERNAL",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),kt&&M().fill(0,wt,wt+We.structInfo.sizeof),oe.set(vt,wt)}catch(fn){throw H(We,vt,wt),fn}},Le=function(){const We=this.pointer;return We?new Uint8Array(M().slice(We,We+this.structInfo.sizeof)):null},Tt=te(We=>tt+We+at),$t=function(We,vt,wt=!0){let kt=We.members[vt];if(!kt&&(tt||at)){for(const fn of Object.values(We.members))if(fn.key===vt){kt=fn;break}!kt&&wt&&E(Ee(We.name,vt),"is not a mapped struct member.")}return kt},Gt=function We(vt,wt,kt=!1){We._||(We._=$n=>$n.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const fn=$t(vt.structInfo,wt,!0);return kt?We._(fn.signature):fn.signature},lt={configurable:!1,enumerable:!1,get:function(){return oe.get(this)},set:()=>E("Cannot assign the 'pointer' property of a struct.")},_e=te(function(){const We=[];for(const vt of Object.keys(this.structInfo.members))We.push(this.memberKey(vt));return We}),Pe=new TextDecoder("utf-8"),ot=new TextEncoder,ht=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Pt=function(We,vt,wt){return Pe.decode(We.buffer instanceof ht?We.slice(vt,wt):We.subarray(vt,wt))},Zt=function(We,vt,wt=!1){const kt=$t(We.structInfo,vt,wt);return kt&&kt.signature.length===1&&kt.signature[0]==="s"?kt:!1},Ae=function(We){We.signature!=="s"&&E("Invalid member type signature for C-string value:",JSON.stringify(We))},nt=function(vt,wt){const kt=$t(vt.structInfo,wt,!0);Ae(kt);const fn=vt[kt.key];if(!fn)return null;let $n=fn;const Pn=M();for(;Pn[$n]!==0;++$n);return fn===$n?"":Pt(Pn,fn,$n)},dt=function(We,...vt){We.ondispose?Array.isArray(We.ondispose)||(We.ondispose=[We.ondispose]):We.ondispose=[],We.ondispose.push(...vt)},Nt=function(We){const vt=ot.encode(We),wt=fe(vt.length+1);wt||E("Allocation error while duplicating string:",We);const kt=M();return kt.set(vt,wt),kt[wt+vt.length]=0,wt},xt=function(We,vt,wt){const kt=$t(We.structInfo,vt,!0);Ae(kt);const fn=Nt(wt);return We[kt.key]=fn,dt(We,fn),We},Mt=function(vt,wt){arguments[2]!==te&&E("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:te(vt),structInfo:te(wt)})};Mt.prototype=Object.create(null,{dispose:te(function(){H(this.constructor,this)}),lookupMember:te(function(We,vt=!0){return $t(this.structInfo,We,vt)}),memberToJsString:te(function(We){return nt(this,We)}),memberIsString:te(function(We,vt=!0){return Zt(this,We,vt)}),memberKey:Tt,memberKeys:_e,memberSignature:te(function(We,vt=!1){return Gt(this,We,vt)}),memoryDump:te(Le),pointer:lt,setMemberCString:te(function(We,vt){return xt(this,We,vt)})}),Object.assign(Mt.prototype,{addOnDispose:function(...We){return dt(this,...We),this}}),Object.defineProperties(Mt,{allocCString:te(Nt),isA:te(We=>We instanceof Mt),hasExternalPointer:te(We=>We instanceof Mt&&!!We[he]),memberKey:Tt});const dn=We=>Number.isFinite(We)||We instanceof(Be||Number),qt=function We(vt,wt,kt){if(!We._){We._={getters:{},setters:{},sw:{}};const Zr=["i","c","C","p","P","s","f","d","v()"];mt&&Zr.push("j"),Zr.forEach(function(Es){We._.getters[Es]=St(Es),We._.setters[Es]=J(Es),We._.sw[Es]=le(Es)});const Db=/^[ipPsjfdcC]$/,Lb=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;We.sigCheck=function(Es,Mb,fm,kf){Object.prototype.hasOwnProperty.call(Es,fm)&&E(Es.structName,"already has a property named",fm+"."),Db.test(kf)||Lb.test(kf)||E("Malformed signature for",Ee(Es.structName,Mb)+":",kf)}}const fn=vt.memberKey(wt);We.sigCheck(vt.prototype,wt,fn,kt.signature),kt.key=fn,kt.name=wt;const $n=Ge(kt.signature),Pn=Ee(vt.prototype.structName,fn),Mn=vt.prototype.debugFlags.__flags,ua=Object.create(null);ua.configurable=!1,ua.enumerable=!1,ua.get=function(){Mn.getter&&Qe("debug.getter:",We._.getters[$n],"for",Te($n),Pn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof);let Zr=new DataView(M().buffer,this.pointer+kt.offset,kt.sizeof)[We._.getters[$n]](0,Ie);return Mn.getter&&Qe("debug.getter:",Pn,"result =",Zr),Zr},kt.readOnly?ua.set=st(vt.prototype.structName,fn):ua.set=function(Zr){if(Mn.setter&&Qe("debug.setter:",We._.setters[$n],"for",Te($n),Pn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof,Zr),this.pointer||E("Cannot set struct property on disposed instance."),Zr===null)Zr=0;else for(;!dn(Zr);){if(Je(kt.signature)&&Zr instanceof Mt){Zr=Zr.pointer||0,Mn.setter&&Qe("debug.setter:",Pn,"resolved to",Zr);break}E("Invalid value for pointer-type",Pn+".")}new DataView(M().buffer,this.pointer+kt.offset,kt.sizeof)[We._.setters[$n]](0,We._.sw[$n](Zr),Ie)},Object.defineProperty(vt.prototype,fn,ua)},hr=function We(vt,wt){arguments.length===1?(wt=vt,vt=wt.name):wt.name||(wt.name=vt),vt||E("Struct name is required.");let kt=!1;Object.keys(wt.members).forEach(Pn=>{const Mn=wt.members[Pn];Mn.sizeof?Mn.sizeof===1?Mn.signature==="c"||Mn.signature==="C"||E("Unexpected sizeof==1 member",Ee(wt.name,Pn),"with signature",Mn.signature):(Mn.sizeof%4!==0&&(console.warn("Invalid struct member description =",Mn,"from",wt),E(vt,"member",Pn,"sizeof is not aligned. sizeof="+Mn.sizeof)),Mn.offset%4!==0&&(console.warn("Invalid struct member description =",Mn,"from",wt),E(vt,"member",Pn,"offset is not aligned. offset="+Mn.offset))):E(vt,"member",Pn,"is missing sizeof."),(!kt||kt.offset<Mn.offset)&&(kt=Mn)}),kt?wt.sizeof<kt.offset+kt.sizeof&&E("Invalid struct config:",vt,"max member offset ("+kt.offset+") ","extends past end of struct (sizeof="+wt.sizeof+")."):E("No member property descriptions found.");const fn=te(C.__makeDebugFlags(We.debugFlags)),$n=function Pn(Mn){this instanceof Pn?arguments.length?((Mn!==(Mn|0)||Mn<=0)&&E("Invalid pointer value for",vt,"constructor."),re(Pn,this,Mn)):re(Pn,this):E("The",vt,"constructor may only be called via 'new'.")};return Object.defineProperties($n,{debugFlags:fn,isA:te(Pn=>Pn instanceof $n),memberKey:Tt,memberKeys:_e,methodInfoForKey:te(function(Pn){}),structInfo:te(wt),structName:te(vt)}),$n.prototype=new Mt(vt,wt,te),Object.defineProperties($n.prototype,{debugFlags:fn,constructor:te($n)}),Object.keys(wt.members).forEach(Pn=>qt($n,Pn,wt.members[Pn])),$n};return hr.StructType=Mt,hr.config=S,hr.allocCString=Nt,hr.debugFlags||(hr.debugFlags=C.__makeDebugFlags(C.debugFlags)),hr},globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...be)=>{throw new Error(be.join(" "))};y.SQLite3Error.toss;const E=y.capi,C=y.wasm,M=y.util;if(globalThis.WhWasmUtilInstaller(C),delete globalThis.WhWasmUtilInstaller,C.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new C.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:be=>{let Ie;return(Oe,Je,Ge,Te)=>{try{const Ke=C.cArgvToJs(Je,Ge);return Ie||(Ie=C.cArgvToJs(Je,Te)),be(Ke,Ie)|0}catch(Ke){return Ke.resultCode||E.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new C.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(be,Ie)=>be[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],C.exports.sqlite3_progress_handler&&C.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(be,Ie)=>be[0]}),"*"]]),C.exports.sqlite3_stmt_explain&&C.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),C.exports.sqlite3_set_authorizer&&C.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(be,Ie)=>be[0],callProxy:be=>(Ie,Oe,Je,Ge,Te,Ke)=>{try{return Je=Je&&C.cstrToJs(Je),Ge=Ge&&C.cstrToJs(Ge),Te=Te&&C.cstrToJs(Te),Ke=Ke&&C.cstrToJs(Ke),be(Ie,Oe,Je,Ge,Te,Ke)||0}catch(St){return St.resultCode||E.SQLITE_ERROR}}}),"*"]]),C.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:be=>be[0],callProxy:be=>(Ie,Oe,Je,Ge,Te)=>{be(Ie,Oe,C.cstrToJs(Je),C.cstrToJs(Ge),Te)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],C.bigIntEnabled&&C.exports.sqlite3_declare_vtab&&C.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),C.bigIntEnabled&&C.exports.sqlite3_preupdate_hook&&C.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:be=>be[0],callProxy:be=>(Ie,Oe,Je,Ge,Te,Ke,St)=>{be(Ie,Oe,Je,C.cstrToJs(Ge),C.cstrToJs(Te),Ke,St)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),C.bigIntEnabled&&C.exports.sqlite3changegroup_add&&C.exports.sqlite3session_create&&C.exports.sqlite3_preupdate_hook){const be={signature:"i(ps)",callProxy:Ie=>(Oe,Je)=>{try{return Ie(Oe,C.cstrToJs(Je))|0}catch(Ge){return Ge.resultCode||E.SQLITE_ERROR}}};C.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xFilter",...be,contextKey:(Ie,Oe)=>Ie[0]}),"*"]])}C.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],y.StructBinder=globalThis.Jaccwabyt({heap:C.heap8u,alloc:C.alloc,dealloc:C.dealloc,bigIntEnabled:C.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const be=C.xWrap.argAdapter("string");C.xWrap.argAdapter("string:flexible",Te=>be(M.flexibleString(Te))),C.xWrap.argAdapter("string:static",function(Te){return C.isPtr(Te)?Te:(Te=""+Te,this[Te]||(this[Te]=C.allocCString(Te)))}.bind(Object.create(null)));const Ie=C.xWrap.argAdapter("*"),Oe=function(){};C.xWrap.argAdapter("sqlite3_filename",Ie)("sqlite3_context*",Ie)("sqlite3_value*",Ie)("void*",Ie)("sqlite3_changegroup*",Ie)("sqlite3_changeset_iter*",Ie)("sqlite3_session*",Ie)("sqlite3_stmt*",Te=>Ie(Te instanceof(y?.oo1?.Stmt||Oe)?Te.pointer:Te))("sqlite3*",Te=>Ie(Te instanceof(y?.oo1?.DB||Oe)?Te.pointer:Te))("sqlite3_vfs*",Te=>typeof Te=="string"?E.sqlite3_vfs_find(Te)||y.SQLite3Error.toss(E.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",Te):Ie(Te instanceof(E.sqlite3_vfs||Oe)?Te.pointer:Te)),C.exports.sqlite3_declare_vtab&&C.xWrap.argAdapter("sqlite3_index_info*",Te=>Ie(Te instanceof(E.sqlite3_index_info||Oe)?Te.pointer:Te))("sqlite3_module*",Te=>Ie(Te instanceof(E.sqlite3_module||Oe)?Te.pointer:Te));const Je=C.xWrap.resultAdapter("*");C.xWrap.resultAdapter("sqlite3*",Je)("sqlite3_context*",Je)("sqlite3_stmt*",Je)("sqlite3_value*",Je)("sqlite3_vfs*",Je)("void*",Je),C.exports.sqlite3_step.length===0&&(C.xWrap.doArgcCheck=!1,y.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const Te of C.bindingSignatures)E[Te[0]]=C.xWrap.apply(null,Te);for(const Te of C.bindingSignatures.wasmInternal)M[Te[0]]=C.xWrap.apply(null,Te);const Ge=function(Te){return()=>S(Te+"() is unavailable due to lack","of BigInt support in this build.")};for(const Te of C.bindingSignatures.int64)E[Te[0]]=C.bigIntEnabled?C.xWrap.apply(null,Te):Ge(Te[0]);if(delete C.bindingSignatures,C.exports.sqlite3__wasm_db_error){const Te=C.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");M.sqlite3__wasm_db_error=function(Ke,St,J){return St instanceof y.WasmAllocError?(St=E.SQLITE_NOMEM,J=0):St instanceof Error&&(J=J||""+St,St=St.resultCode||E.SQLITE_ERROR),Ke?Te(Ke,St,J):St}}else M.sqlite3__wasm_db_error=function(Te,Ke,St){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Ke}}{const be=C.xCall("sqlite3__wasm_enum_json");be||S("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),C.ctype=JSON.parse(C.cstrToJs(be));const Ie=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];C.bigIntEnabled&&Ie.push("serialize","session","vtab");for(const Ge of Ie)for(const Te of Object.entries(C.ctype[Ge]))E[Te[0]]=Te[1];C.functionEntry(E.SQLITE_WASM_DEALLOC)||S("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+E.SQLITE_WASM_DEALLOC+").");const Oe=Object.create(null);for(const Ge of["resultCodes"])for(const Te of Object.entries(C.ctype[Ge]))Oe[Te[1]]=Te[0];E.sqlite3_js_rc_str=Ge=>Oe[Ge];const Je=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!M.isUIThread(),sqlite3_index_info:!C.bigIntEnabled,sqlite3_index_constraint:!C.bigIntEnabled,sqlite3_index_orderby:!C.bigIntEnabled,sqlite3_index_constraint_usage:!C.bigIntEnabled});for(const Ge of C.ctype.structs)Je[Ge.name]||(E[Ge.name]=y.StructBinder(Ge));if(E.sqlite3_index_info){for(const Ge of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])E.sqlite3_index_info[Ge]=E[Ge],delete E[Ge];E.sqlite3_vtab_config=C.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const fe=(be,Ie,Oe)=>M.sqlite3__wasm_db_error(be,E.SQLITE_MISUSE,Ie+"() requires "+Oe+" argument"+(Oe===1?"":"s")+"."),me=be=>M.sqlite3__wasm_db_error(be,E.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Qe=be=>C.xWrap.argAdapter("sqlite3*")(be),tt=be=>C.isPtr(be)?C.cstrToJs(be):be,at=function(be,Ie){be=Qe(be);let Oe=this.dbMap.get(be);if(Ie)!Oe&&Ie>0&&this.dbMap.set(be,Oe=Object.create(null));else return this.dbMap.delete(be),Oe;return Oe}.bind(Object.assign(Object.create(null),{dbMap:new Map}));at.addCollation=function(be,Ie){const Oe=at(be,1);Oe.collation||(Oe.collation=new Set),Oe.collation.add(tt(Ie).toLowerCase())},at._addUDF=function(be,Ie,Oe,Je){Ie=tt(Ie).toLowerCase();let Ge=Je.get(Ie);Ge||Je.set(Ie,Ge=new Set),Ge.add(Oe<0?-1:Oe)},at.addFunction=function(be,Ie,Oe){const Je=at(be,1);Je.udf||(Je.udf=new Map),this._addUDF(be,Ie,Oe,Je.udf)},C.exports.sqlite3_create_window_function&&(at.addWindowFunc=function(be,Ie,Oe){const Je=at(be,1);Je.wudf||(Je.wudf=new Map),this._addUDF(be,Ie,Oe,Je.wudf)}),at.cleanup=function(be){be=Qe(be);const Ie=[be];for(const Ge of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const Te=C.exports[Ge];if(Te){Ie.length=Te.length;try{E[Ge](...Ie)}catch(Ke){y.config.warn("close-time call of",Ge+"(",Ie,") threw:",Ke)}}}const Oe=at(be,0);if(!Oe)return;if(Oe.collation){for(const Ge of Oe.collation)try{E.sqlite3_create_collation_v2(be,Ge,E.SQLITE_UTF8,0,0,0)}catch{}delete Oe.collation}let Je;for(Je=0;Je<2;++Je){const Ge=Je?Oe.wudf:Oe.udf;if(!Ge)continue;const Te=Je?E.sqlite3_create_window_function:E.sqlite3_create_function_v2;for(const Ke of Ge){const St=Ke[0],J=Ke[1],le=[be,St,0,E.SQLITE_UTF8,0,0,0,0,0];Je&&le.push(0);for(const Ee of J)try{le[2]=Ee,Te.apply(null,le)}catch{}J.clear()}Ge.clear()}delete Oe.udf,delete Oe.wudf};{const be=C.xWrap("sqlite3_close_v2","int","sqlite3*");E.sqlite3_close_v2=function(Ie){if(arguments.length!==1)return fe(Ie,"sqlite3_close_v2",1);if(Ie)try{at.cleanup(Ie)}catch{}return be(Ie)}}if(E.sqlite3session_create){const be=C.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);E.sqlite3session_delete=function(Ie){if(arguments.length!==1)return fe(pDb,"sqlite3session_delete",1);Ie&&E.sqlite3session_table_filter(Ie,0,0),be(Ie)}}{const be=(Oe,Je)=>"argv["+Je+"]:"+Oe[0]+":"+C.cstrToJs(Oe[1]).toLowerCase(),Ie=C.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new C.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:be}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:be})]);E.sqlite3_create_collation_v2=function(Oe,Je,Ge,Te,Ke,St){if(arguments.length!==6)return fe(Oe,"sqlite3_create_collation_v2",6);if(!(Ge&15))Ge|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(Ge&15))return me(Oe);try{const J=Ie(Oe,Je,Ge,Te,Ke,St);return J===0&&Ke instanceof Function&&at.addCollation(Oe,Je),J}catch(J){return M.sqlite3__wasm_db_error(Oe,J)}},E.sqlite3_create_collation=(Oe,Je,Ge,Te,Ke)=>arguments.length===5?E.sqlite3_create_collation_v2(Oe,Je,Ge,Te,Ke,0):fe(Oe,"sqlite3_create_collation",5)}{const be=function(Ge,Te){return Ge[0]+":"+(Ge[2]<0?-1:Ge[2])+":"+Te+":"+C.cstrToJs(Ge[1]).toLowerCase()},Ie=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Te,Ke,St)=>{try{Ge(Te,...E.sqlite3_values_to_js(Ke,St))}catch(J){E.sqlite3_result_error_js(Te,J)}}},xFinalAndValue:{signature:"v(p)",contextKey:be,callProxy:Ge=>Te=>{try{E.sqlite3_result_js(Te,Ge(Te))}catch(Ke){E.sqlite3_result_error_js(Te,Ke)}}},xFunc:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Te,Ke,St)=>{try{E.sqlite3_result_js(Te,Ge(Te,...E.sqlite3_values_to_js(Ke,St)))}catch(J){E.sqlite3_result_error_js(Te,J)}}},xDestroy:{signature:"v(p)",contextKey:be,callProxy:Ge=>Te=>{try{Ge(Te)}catch(Ke){console.error("UDF xDestroy method threw:",Ke)}}}}),Oe=C.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xFunc",...Ie.xFunc}),new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]),Je=C.exports.sqlite3_create_window_function?C.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xValue",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xInverse",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]):void 0;E.sqlite3_create_function_v2=function Ge(Te,Ke,St,J,le,Ee,st,oe,he){if(Ge.length!==arguments.length)return fe(Te,"sqlite3_create_function_v2",Ge.length);if(!(J&15))J|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(J&15))return me(Te);try{const H=Oe(Te,Ke,St,J,le,Ee,st,oe,he);return H===0&&(Ee instanceof Function||st instanceof Function||oe instanceof Function||he instanceof Function)&&at.addFunction(Te,Ke,St),H}catch(H){return console.error("sqlite3_create_function_v2() setup threw:",H),M.sqlite3__wasm_db_error(Te,H,"Creation of UDF threw: "+H)}},E.sqlite3_create_function=function Ge(Te,Ke,St,J,le,Ee,st,oe){return Ge.length===arguments.length?E.sqlite3_create_function_v2(Te,Ke,St,J,le,Ee,st,oe,0):fe(Te,"sqlite3_create_function",Ge.length)},Je?E.sqlite3_create_window_function=function Ge(Te,Ke,St,J,le,Ee,st,oe,he,H){if(Ge.length!==arguments.length)return fe(Te,"sqlite3_create_window_function",Ge.length);if(!(J&15))J|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(J&15))return me(Te);try{const te=Je(Te,Ke,St,J,le,Ee,st,oe,he,H);return te===0&&(Ee instanceof Function||st instanceof Function||oe instanceof Function||he instanceof Function||H instanceof Function)&&at.addWindowFunc(Te,Ke,St),te}catch(te){return console.error("sqlite3_create_window_function() setup threw:",te),M.sqlite3__wasm_db_error(Te,te,"Creation of UDF threw: "+te)}}:delete E.sqlite3_create_window_function,E.sqlite3_create_function_v2.udfSetResult=E.sqlite3_create_function.udfSetResult=E.sqlite3_result_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfSetResult=E.sqlite3_result_js),E.sqlite3_create_function_v2.udfConvertArgs=E.sqlite3_create_function.udfConvertArgs=E.sqlite3_values_to_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfConvertArgs=E.sqlite3_values_to_js),E.sqlite3_create_function_v2.udfSetError=E.sqlite3_create_function.udfSetError=E.sqlite3_result_error_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfSetError=E.sqlite3_result_error_js)}{const be=(Oe,Je)=>(typeof Oe=="string"?Je=-1:M.isSQLableTypedArray(Oe)?(Je=Oe.byteLength,Oe=M.typedArrayToString(Oe instanceof ArrayBuffer?new Uint8Array(Oe):Oe)):Array.isArray(Oe)&&(Oe=Oe.join(""),Je=-1),[Oe,Je]),Ie={basic:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};E.sqlite3_prepare_v3=function Oe(Je,Ge,Te,Ke,St,J){if(Oe.length!==arguments.length)return fe(Je,"sqlite3_prepare_v3",Oe.length);const[le,Ee]=be(Ge,Te);switch(typeof le){case"string":return Ie.basic(Je,le,Ee,Ke,St,null);case"number":return Ie.full(Je,le,Ee,Ke,St,J);default:return M.sqlite3__wasm_db_error(Je,E.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},E.sqlite3_prepare_v2=function Oe(Je,Ge,Te,Ke,St){return Oe.length===arguments.length?E.sqlite3_prepare_v3(Je,Ge,Te,0,Ke,St):fe(Je,"sqlite3_prepare_v2",Oe.length)}}{const be=C.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),Ie=C.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);E.sqlite3_bind_text=function Oe(Je,Ge,Te,Ke,St){if(Oe.length!==arguments.length)return fe(E.sqlite3_db_handle(Je),"sqlite3_bind_text",Oe.length);if(C.isPtr(Te)||Te===null)return be(Je,Ge,Te,Ke,St);Te instanceof ArrayBuffer?Te=new Uint8Array(Te):Array.isArray(pMem)&&(Te=pMem.join(""));let J,le;try{if(M.isSQLableTypedArray(Te))J=C.allocFromTypedArray(Te),le=Te.byteLength;else if(typeof Te=="string")[J,le]=C.allocCString(Te);else return M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),E.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return be(Je,Ge,J,le,E.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(J),M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),Ee)}},E.sqlite3_bind_blob=function Oe(Je,Ge,Te,Ke,St){if(Oe.length!==arguments.length)return fe(E.sqlite3_db_handle(Je),"sqlite3_bind_blob",Oe.length);if(C.isPtr(Te)||Te===null)return Ie(Je,Ge,Te,Ke,St);Te instanceof ArrayBuffer?Te=new Uint8Array(Te):Array.isArray(Te)&&(Te=Te.join(""));let J,le;try{if(M.isBindableTypedArray(Te))J=C.allocFromTypedArray(Te),le=Ke>=0?Ke:Te.byteLength;else if(typeof Te=="string")[J,le]=C.allocCString(Te);else return M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),E.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return Ie(Je,Ge,J,le,E.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(J),M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),Ee)}}}E.sqlite3_config=function(be,...Ie){if(arguments.length<2)return E.SQLITE_MISUSE;switch(be){case E.SQLITE_CONFIG_COVERING_INDEX_SCAN:case E.SQLITE_CONFIG_MEMSTATUS:case E.SQLITE_CONFIG_SMALL_MALLOC:case E.SQLITE_CONFIG_SORTERREF_SIZE:case E.SQLITE_CONFIG_STMTJRNL_SPILL:case E.SQLITE_CONFIG_URI:return C.exports.sqlite3__wasm_config_i(be,Ie[0]);case E.SQLITE_CONFIG_LOOKASIDE:return C.exports.sqlite3__wasm_config_ii(be,Ie[0],Ie[1]);case E.SQLITE_CONFIG_MEMDB_MAXSIZE:return C.exports.sqlite3__wasm_config_j(be,Ie[0]);case E.SQLITE_CONFIG_GETMALLOC:case E.SQLITE_CONFIG_GETMUTEX:case E.SQLITE_CONFIG_GETPCACHE2:case E.SQLITE_CONFIG_GETPCACHE:case E.SQLITE_CONFIG_HEAP:case E.SQLITE_CONFIG_LOG:case E.SQLITE_CONFIG_MALLOC:case E.SQLITE_CONFIG_MMAP_SIZE:case E.SQLITE_CONFIG_MULTITHREAD:case E.SQLITE_CONFIG_MUTEX:case E.SQLITE_CONFIG_PAGECACHE:case E.SQLITE_CONFIG_PCACHE2:case E.SQLITE_CONFIG_PCACHE:case E.SQLITE_CONFIG_PCACHE_HDRSZ:case E.SQLITE_CONFIG_PMASZ:case E.SQLITE_CONFIG_SERIALIZED:case E.SQLITE_CONFIG_SINGLETHREAD:case E.SQLITE_CONFIG_SQLLOG:case E.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return E.SQLITE_NOTFOUND}};{const be=new Set;E.sqlite3_auto_extension=function(Ie){if(Ie instanceof Function)Ie=C.installFunction("i(ppp)",Ie);else if(arguments.length!==1||!C.isPtr(Ie))return E.SQLITE_MISUSE;const Oe=C.exports.sqlite3_auto_extension(Ie);return Ie!==arguments[0]&&(Oe===0?be.add(Ie):C.uninstallFunction(Ie)),Oe},E.sqlite3_cancel_auto_extension=function(Ie){return!Ie||arguments.length!==1||!C.isPtr(Ie)?0:C.exports.sqlite3_cancel_auto_extension(Ie)},E.sqlite3_reset_auto_extension=function(){C.exports.sqlite3_reset_auto_extension();for(const Ie of be)C.uninstallFunction(Ie);be.clear()}}const mt=E.sqlite3_vfs_find("kvvfs");if(mt)if(M.isUIThread()){const be=new E.sqlite3_kvvfs_methods(C.exports.sqlite3__wasm_kvvfs_methods());delete E.sqlite3_kvvfs_methods;const Ie=C.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,Oe=C.pstack,Je=Te=>C.peek(Te)===115?sessionStorage:localStorage,Ge={xRead:(Te,Ke,St,J)=>{const le=Oe.pointer,Ee=C.scopedAllocPush();try{const st=Ie(Te,Ke);if(!st)return-3;const oe=C.cstrToJs(st),he=Je(Te).getItem(oe);if(!he)return-1;const H=he.length;if(J<=0)return H;if(J===1)return C.poke(St,0),H;const te=C.scopedAllocCString(he);return J>H+1&&(J=H+1),C.heap8u().copyWithin(St,te,te+J-1),C.poke(St+J-1,0),J-1}catch(st){return console.error("kvstorageRead()",st),-2}finally{Oe.restore(le),C.scopedAllocPop(Ee)}},xWrite:(Te,Ke,St)=>{const J=Oe.pointer;try{const le=Ie(Te,Ke);if(!le)return 1;const Ee=C.cstrToJs(le);return Je(Te).setItem(Ee,C.cstrToJs(St)),0}catch(le){return console.error("kvstorageWrite()",le),E.SQLITE_IOERR}finally{Oe.restore(J)}},xDelete:(Te,Ke)=>{const St=Oe.pointer;try{const J=Ie(Te,Ke);return J?(Je(Te).removeItem(C.cstrToJs(J)),0):1}catch(J){return console.error("kvstorageDelete()",J),E.SQLITE_IOERR}finally{Oe.restore(St)}}};for(const Te of Object.keys(Ge))be[be.memberKey(Te)]=C.installFunction(be.memberSignature(Te),Ge[Te])}else E.sqlite3_vfs_unregister(mt);C.xWrap.FuncPtrAdapter.warnOnUse=!0;const Be=y.StructBinder,Re=function be(Ie,Oe,Je,Ge=be.installMethodArgcCheck){if(Ie instanceof Be.StructType?!(Je instanceof Function)&&!C.isPtr(Je)&&S("Usage errror: expecting a Function or WASM pointer to one."):S("Usage error: target object is-not-a StructType."),arguments.length===1)return(J,le)=>be(Ie,J,le,Ge);be.argcProxy||(be.argcProxy=function(J,le,Ee,st){return function(...oe){return Ee.length!==arguments.length&&S("Argument mismatch for",J.structInfo.name+"::"+le+": Native signature is:",st),Ee.apply(this,oe)}},be.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((J,le)=>{if(typeof J=="number")try{C.uninstallFunction(J)}catch{}}),delete this.ondispose.__removeFuncList)});const Te=Ie.memberSignature(Oe);Te.length<2&&S("Member",Oe,"does not have a function pointer signature:",Te);const Ke=Ie.memberKey(Oe),St=Ge&&!C.isPtr(Je)?be.argcProxy(Ie,Ke,Je,Te):Je;if(C.isPtr(St))St&&!C.functionEntry(St)&&S("Pointer",St,"is not a WASM function table entry."),Ie[Ke]=St;else{const J=C.installFunction(St,Ie.memberSignature(Oe,!0));Ie[Ke]=J,(!Ie.ondispose||!Ie.ondispose.__removeFuncList)&&(Ie.addOnDispose("ondispose.__removeFuncList handler",be.removeFuncList),Ie.ondispose.__removeFuncList=[]),Ie.ondispose.__removeFuncList.push(Ke,J)}return(J,le)=>be(Ie,J,le,Ge)};Re.installMethodArgcCheck=!1;const et=function(be,Ie,Oe=Re.installMethodArgcCheck){const Je=new Map;for(const Ge of Object.keys(Ie)){const Te=Ie[Ge],Ke=Je.get(Te);if(Ke){const St=be.memberKey(Ge);be[St]=be[be.memberKey(Ke)]}else Re(be,Ge,Te,Oe),Je.set(Te,Ge)}return be};Be.StructType.prototype.installMethod=function(Ie,Oe,Je=Re.installMethodArgcCheck){return arguments.length<3&&Ie&&typeof Ie=="object"?et(this,...arguments):Re(this,...arguments)},Be.StructType.prototype.installMethods=function(be,Ie=Re.installMethodArgcCheck){return et(this,be,Ie)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){y.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...oe)=>{throw new y.SQLite3Error(...oe)},E=y.capi,C=y.wasm,M=y.util,fe=new WeakMap,me=new WeakMap,Qe=(oe,he,H)=>{const te=Object.getOwnPropertyDescriptor(oe,he);return te?te.value:H},tt=function(oe,he){return he&&(oe instanceof Re&&(oe=oe.pointer),S(he,"sqlite3 result code",he+":",oe?E.sqlite3_errmsg(oe):E.sqlite3_errstr(he))),arguments[0]},at=C.installFunction("i(ippp)",function(oe,he,H,te){E.SQLITE_TRACE_STMT===oe&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+he+":",C.cstrToJs(te))}.bind({counter:0})),mt=Object.create(null),Be=function oe(...he){if(!oe._name2vfs){oe._name2vfs=Object.create(null);const _e=typeof importScripts=="function"?Pe=>S("The VFS for",Pe,"is only available in the main window thread."):!1;oe._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:_e||(()=>"local")},oe._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:_e||(()=>"session")}}const H=oe.normalizeArgs(...he);let te=H.filename,re=H.vfs,Le=H.flags;(typeof te!="string"&&typeof te!="number"||typeof Le!="string"||re&&typeof re!="string"&&typeof re!="number")&&(y.config.error("Invalid DB ctor args",H,arguments),S("Invalid arguments for DB constructor."));let it=typeof te=="number"?C.cstrToJs(te):te;const Tt=oe._name2vfs[it];Tt&&(re=Tt.vfs,te=it=Tt.filename(it));let $t,Gt=0;Le.indexOf("c")>=0&&(Gt|=E.SQLITE_OPEN_CREATE|E.SQLITE_OPEN_READWRITE),Le.indexOf("w")>=0&&(Gt|=E.SQLITE_OPEN_READWRITE),Gt===0&&(Gt|=E.SQLITE_OPEN_READONLY),Gt|=E.SQLITE_OPEN_EXRESCODE;const lt=C.pstack.pointer;try{const _e=C.pstack.allocPtr();let Pe=E.sqlite3_open_v2(te,_e,Gt,re||0);$t=C.peekPtr(_e),tt($t,Pe),E.sqlite3_extended_result_codes($t,1),Le.indexOf("t")>=0&&E.sqlite3_trace_v2($t,E.SQLITE_TRACE_STMT,at,$t)}catch(_e){throw $t&&E.sqlite3_close_v2($t),_e}finally{C.pstack.restore(lt)}this.filename=it,fe.set(this,$t),me.set(this,Object.create(null));try{const _e=E.sqlite3_js_db_vfs($t)||S("Internal error: cannot get VFS for new db handle."),Pe=mt[_e];Pe&&(Pe instanceof Function?Pe(this,y):tt($t,E.sqlite3_exec($t,Pe,0,0,0)))}catch(_e){throw this.close(),_e}};Be.setVfsPostOpenCallback=function(oe,he){he instanceof Function||S("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),mt[oe]=he},Be.normalizeArgs=function(oe=":memory:",he="c",H=null){const te={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(te,arguments[0]),te.flags===void 0&&(te.flags="c"),te.vfs===void 0&&(te.vfs=null),te.filename===void 0&&(te.filename=":memory:")):(te.filename=oe,te.flags=he,te.vfs=H),te};const Re=function(...oe){Be.apply(this,oe)};Re.dbCtorHelper=Be;const et={null:1,number:2,string:3,boolean:4,blob:5};et.undefined==et.null,C.bigIntEnabled&&(et.bigint=et.number);const be=function(){et!==arguments[2]&&S(E.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],fe.set(this,arguments[1]),this.parameterCount=E.sqlite3_bind_parameter_count(this.pointer)},Ie=function(oe){return oe.pointer||S("DB has been closed."),oe},Oe=function(oe,he){return(he!==(he|0)||he<0||he>=oe.columnCount)&&S("Column index",he,"is out of range."),oe},Je=function(oe,he){const H=Object.create(null);switch(H.opt=Object.create(null),he.length){case 1:typeof he[0]=="string"||M.isSQLableTypedArray(he[0])||Array.isArray(he[0])?H.sql=he[0]:he[0]&&typeof he[0]=="object"&&(H.opt=he[0],H.sql=H.opt.sql);break;case 2:H.sql=he[0],H.opt=he[1];break;default:S("Invalid argument count for exec().")}H.sql=M.flexibleString(H.sql),typeof H.sql!="string"&&S("Missing SQL argument or unsupported SQL value type.");const te=H.opt;switch(te.returnValue){case"resultRows":te.resultRows||(te.resultRows=[]),H.returnVal=()=>te.resultRows;break;case"saveSql":te.saveSql||(te.saveSql=[]),H.returnVal=()=>te.saveSql;break;case void 0:case"this":H.returnVal=()=>oe;break;default:S("Invalid returnValue value:",te.returnValue)}if(!te.callback&&!te.returnValue&&te.rowMode!==void 0&&(te.resultRows||(te.resultRows=[]),H.returnVal=()=>te.resultRows),te.callback||te.resultRows)switch(te.rowMode===void 0?"array":te.rowMode){case"object":H.cbArg=(re,Le)=>{Le.columnNames||(Le.columnNames=re.getColumnNames([]));const it=re.get([]),Tt=Object.create(null);for(const $t in Le.columnNames)Tt[Le.columnNames[$t]]=it[$t];return Tt};break;case"array":H.cbArg=re=>re.get([]);break;case"stmt":Array.isArray(te.resultRows)&&S("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),H.cbArg=re=>re;break;default:if(M.isInt32(te.rowMode)){H.cbArg=re=>re.get(te.rowMode);break}else if(typeof te.rowMode=="string"&&te.rowMode.length>1&&te.rowMode[0]==="$"){const re=te.rowMode.substr(1);H.cbArg=Le=>{const it=Le.get(Object.create(null))[re];return it===void 0?S(E.SQLITE_NOTFOUND,"exec(): unknown result column:",re):it};break}S("Invalid rowMode:",te.rowMode)}return H},Ge=(oe,he,H,...te)=>{const re=oe.prepare(he);try{const Le=re.bind(H).step()?re.get(...te):void 0;return re.reset(),Le}finally{re.finalize()}},Te=(oe,he,H,te)=>oe.exec({sql:he,bind:H,rowMode:te,returnValue:"resultRows"});Re.checkRc=(oe,he)=>tt(oe,he),Re.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return Ie(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const oe=this.pointer;if(Object.keys(me.get(this)).forEach((he,H)=>{if(H&&H.pointer)try{H.finalize()}catch{}}),fe.delete(this),me.delete(this),E.sqlite3_close_v2(oe),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(oe=!1,he=!1){const H=Ie(this).pointer;return oe?he?E.sqlite3_total_changes64(H):E.sqlite3_total_changes(H):he?E.sqlite3_changes64(H):E.sqlite3_changes(H)},dbFilename:function(oe="main"){return E.sqlite3_db_filename(Ie(this).pointer,oe)},dbName:function(oe=0){return E.sqlite3_db_name(Ie(this).pointer,oe)},dbVfsName:function(oe=0){let he;const H=E.sqlite3_js_db_vfs(Ie(this).pointer,oe);if(H){const te=new E.sqlite3_vfs(H);try{he=C.cstrToJs(te.$zName)}finally{te.dispose()}}return he},prepare:function(oe){Ie(this);const he=C.pstack.pointer;let H,te;try{H=C.pstack.alloc(8),Re.checkRc(this,E.sqlite3_prepare_v2(this.pointer,oe,-1,H,null)),te=C.peekPtr(H)}finally{C.pstack.restore(he)}te||S("Cannot prepare empty SQL.");const re=new be(this,te,et);return me.get(this)[te]=re,re},exec:function(){Ie(this);const oe=Je(this,arguments);if(!oe.sql)return S("exec() requires an SQL string.");const he=oe.opt,H=he.callback,te=Array.isArray(he.resultRows)?he.resultRows:void 0;let re,Le=he.bind,it=!!(oe.cbArg||he.columnNames||te);const Tt=C.scopedAllocPush(),$t=Array.isArray(he.saveSql)?he.saveSql:void 0;try{const Gt=M.isSQLableTypedArray(oe.sql);let lt=Gt?oe.sql.byteLength:C.jstrlen(oe.sql);const _e=C.scopedAlloc(2*C.ptrSizeof+(lt+1)),Pe=_e+C.ptrSizeof;let ot=Pe+C.ptrSizeof;const ht=ot+lt;for(Gt?C.heap8().set(oe.sql,ot):C.jstrcpy(oe.sql,C.heap8(),ot,lt,!1),C.poke(ot+lt,0);ot&&C.peek(ot,"i8");){C.pokePtr([_e,Pe],0),Re.checkRc(this,E.sqlite3_prepare_v3(this.pointer,ot,lt,0,_e,Pe));const Pt=C.peekPtr(_e);if(ot=C.peekPtr(Pe),lt=ht-ot,!!Pt){if($t&&$t.push(E.sqlite3_sql(Pt).trim()),re=new be(this,Pt,et),Le&&re.parameterCount&&(re.bind(Le),Le=null),it&&re.columnCount){let Zt=Array.isArray(he.columnNames)?0:1;if(it=!1,oe.cbArg||te){const Ae=Object.create(null);for(;re.step();re._lockedByExec=!1){Zt++===0&&re.getColumnNames(Ae.columnNames=he.columnNames||[]),re._lockedByExec=!0;const nt=oe.cbArg(re,Ae);if(te&&te.push(nt),H&&H.call(he,nt,re)===!1)break}re._lockedByExec=!1}Zt===0&&re.getColumnNames(he.columnNames)}else re.step();re.reset().finalize(),re=null}}}finally{C.scopedAllocPop(Tt),re&&(delete re._lockedByExec,re.finalize())}return oe.returnVal()},createFunction:function(he,H,te){const re=Ae=>Ae instanceof Function;switch(arguments.length){case 1:te=he,he=te.name,H=te.xFunc||0;break;case 2:re(H)||(te=H,H=te.xFunc||0);break}te||(te={}),typeof he!="string"&&S("Invalid arguments: missing function name.");let Le=te.xStep||0,it=te.xFinal||0;const Tt=te.xValue||0,$t=te.xInverse||0;let Gt;re(H)?(Gt=!1,(re(Le)||re(it))&&S("Ambiguous arguments: scalar or aggregate?"),Le=it=null):re(Le)?(re(it)||S("Missing xFinal() callback for aggregate or window UDF."),H=null):re(it)?S("Missing xStep() callback for aggregate or window UDF."):S("Missing function-type properties."),Gt===!1?(re(Tt)||re($t))&&S("xValue and xInverse are not permitted for non-window UDFs."):re(Tt)?(re($t)||S("xInverse must be provided if xValue is."),Gt=!0):re($t)&&S("xValue must be provided if xInverse is.");const lt=te.pApp;lt!=null&&(typeof lt!="number"||!M.isInt32(lt))&&S("Invalid value for pApp property. Must be a legal WASM pointer value.");const _e=te.xDestroy||0;_e&&!re(_e)&&S("xDestroy property must be a function.");let Pe=0;Qe(te,"deterministic")&&(Pe|=E.SQLITE_DETERMINISTIC),Qe(te,"directOnly")&&(Pe|=E.SQLITE_DIRECTONLY),Qe(te,"innocuous")&&(Pe|=E.SQLITE_INNOCUOUS),he=he.toLowerCase();const ot=H||Le,ht=Qe(te,"arity"),Pt=typeof ht=="number"?ht:ot.length?ot.length-1:0;let Zt;return Gt?Zt=E.sqlite3_create_window_function(this.pointer,he,Pt,E.SQLITE_UTF8|Pe,lt||0,Le,it,Tt,$t,_e):Zt=E.sqlite3_create_function_v2(this.pointer,he,Pt,E.SQLITE_UTF8|Pe,lt||0,H,Le,it,_e),Re.checkRc(this,Zt),this},selectValue:function(oe,he,H){return Ge(this,oe,he,0,H)},selectValues:function(oe,he,H){const te=this.prepare(oe),re=[];try{for(te.bind(he);te.step();)re.push(te.get(0,H));te.reset()}finally{te.finalize()}return re},selectArray:function(oe,he){return Ge(this,oe,he,[])},selectObject:function(oe,he){return Ge(this,oe,he,{})},selectArrays:function(oe,he){return Te(this,oe,he,"array")},selectObjects:function(oe,he){return Te(this,oe,he,"object")},openStatementCount:function(){return this.pointer?Object.keys(me.get(this)).length:0},transaction:function(oe){let he="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&S(E.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),he+=" "+arguments[0],oe=arguments[1]),Ie(this).exec(he);try{const H=oe(this);return this.exec("COMMIT"),H}catch(H){throw this.exec("ROLLBACK"),H}},savepoint:function(oe){Ie(this).exec("SAVEPOINT oo1");try{const he=oe(this);return this.exec("RELEASE oo1"),he}catch(he){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),he}},checkRc:function(oe){return tt(this,oe)}};const Ke=function(oe){return oe.pointer||S("Stmt has been closed."),oe},St=function(oe){let he=et[oe==null?"null":typeof oe];switch(he){case et.boolean:case et.null:case et.number:case et.string:return he;case et.bigint:if(C.bigIntEnabled)return he;default:return M.isBindableTypedArray(oe)?et.blob:void 0}},J=function(oe){return St(oe)||S("Unsupported bind() argument type:",typeof oe)},le=function(oe,he){const H=typeof he=="number"?he:E.sqlite3_bind_parameter_index(oe.pointer,he);return H===0||!M.isInt32(H)?S("Invalid bind() parameter name: "+he):(H<1||H>oe.parameterCount)&&S("Bind index",he,"is out of range."),H},Ee=function(oe,he){return oe._lockedByExec&&S("Operation is illegal when statement is locked:",he),oe},st=function oe(he,H,te,re){Ee(Ke(he),"bind()"),oe._||(oe._tooBigInt=it=>S("BigInt value is too big to store without precision loss:",it),oe._={string:function(it,Tt,$t,Gt){const[lt,_e]=C.allocCString($t,!0);return(Gt?E.sqlite3_bind_blob:E.sqlite3_bind_text)(it.pointer,Tt,lt,_e,E.SQLITE_WASM_DEALLOC)}}),J(re),H=le(he,H);let Le=0;switch(re==null?et.null:te){case et.null:Le=E.sqlite3_bind_null(he.pointer,H);break;case et.string:Le=oe._.string(he,H,re,!1);break;case et.number:{let it;M.isInt32(re)?it=E.sqlite3_bind_int:typeof re=="bigint"?M.bigIntFits64(re)?C.bigIntEnabled?it=E.sqlite3_bind_int64:M.bigIntFitsDouble(re)?(re=Number(re),it=E.sqlite3_bind_double):oe._tooBigInt(re):oe._tooBigInt(re):(re=Number(re),C.bigIntEnabled&&Number.isInteger(re)?it=E.sqlite3_bind_int64:it=E.sqlite3_bind_double),Le=it(he.pointer,H,re);break}case et.boolean:Le=E.sqlite3_bind_int(he.pointer,H,re?1:0);break;case et.blob:{if(typeof re=="string"){Le=oe._.string(he,H,re,!0);break}else re instanceof ArrayBuffer?re=new Uint8Array(re):M.isBindableTypedArray(re)||S("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const it=C.alloc(re.byteLength||1);C.heap8().set(re.byteLength?re:[0],it),Le=E.sqlite3_bind_blob(he.pointer,H,it,re.byteLength,E.SQLITE_WASM_DEALLOC);break}default:y.config.warn("Unsupported bind() argument type:",re),S("Unsupported bind() argument type: "+typeof re)}return Le&&Re.checkRc(he.db.pointer,Le),he._mayGet=!1,he};be.prototype={finalize:function(){if(this.pointer){Ee(this,"finalize()");const oe=E.sqlite3_finalize(this.pointer);return delete me.get(this.db)[this.pointer],fe.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,oe}},clearBindings:function(){return Ee(Ke(this),"clearBindings()"),E.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(oe){Ee(this,"reset()"),oe&&this.clearBindings();const he=E.sqlite3_reset(Ke(this).pointer);return this._mayGet=!1,tt(this.db,he),this},bind:function(){Ke(this);let oe,he;switch(arguments.length){case 1:oe=1,he=arguments[0];break;case 2:oe=arguments[0],he=arguments[1];break;default:S("Invalid bind() arguments.")}return he===void 0?this:(this.parameterCount||S("This statement has no bindable parameters."),this._mayGet=!1,he===null?st(this,oe,et.null,he):Array.isArray(he)?(arguments.length!==1&&S("When binding an array, an index argument is not permitted."),he.forEach((H,te)=>st(this,te+1,J(H),H)),this):(he instanceof ArrayBuffer&&(he=new Uint8Array(he)),typeof he=="object"&&!M.isBindableTypedArray(he)?(arguments.length!==1&&S("When binding an object, an index argument is not permitted."),Object.keys(he).forEach(H=>st(this,H,J(he[H]),he[H])),this):st(this,oe,J(he),he)))},bindAsBlob:function(oe,he){Ke(this),arguments.length===1&&(he=oe,oe=1);const H=J(he);return et.string!==H&&et.blob!==H&&et.null!==H&&S("Invalid value type for bindAsBlob()"),st(this,oe,et.blob,he)},step:function(){Ee(this,"step()");const oe=E.sqlite3_step(Ke(this).pointer);switch(oe){case E.SQLITE_DONE:return this._mayGet=!1;case E.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,y.config.warn("sqlite3_step() rc=",oe,E.sqlite3_js_rc_str(oe),"SQL =",E.sqlite3_sql(this.pointer)),Re.checkRc(this.db.pointer,oe)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const oe=this.step();return this.reset(),oe}finally{try{this.finalize()}catch{}}},get:function(oe,he){if(Ke(this)._mayGet||S("Stmt.step() has not (recently) returned true."),Array.isArray(oe)){let H=0;const te=this.columnCount;for(;H<te;)oe[H]=this.get(H++);return oe}else if(oe&&typeof oe=="object"){let H=0;const te=this.columnCount;for(;H<te;)oe[E.sqlite3_column_name(this.pointer,H)]=this.get(H++);return oe}switch(Oe(this,oe),he===void 0?E.sqlite3_column_type(this.pointer,oe):he){case E.SQLITE_NULL:return null;case E.SQLITE_INTEGER:if(C.bigIntEnabled){const H=E.sqlite3_column_int64(this.pointer,oe);return H>=Number.MIN_SAFE_INTEGER&&H<=Number.MAX_SAFE_INTEGER?Number(H).valueOf():H}else{const H=E.sqlite3_column_double(this.pointer,oe);return(H>Number.MAX_SAFE_INTEGER||H<Number.MIN_SAFE_INTEGER)&&S("Integer is out of range for JS integer range: "+H),M.isInt32(H)?H|0:H}case E.SQLITE_FLOAT:return E.sqlite3_column_double(this.pointer,oe);case E.SQLITE_TEXT:return E.sqlite3_column_text(this.pointer,oe);case E.SQLITE_BLOB:{const H=E.sqlite3_column_bytes(this.pointer,oe),te=E.sqlite3_column_blob(this.pointer,oe),re=new Uint8Array(H);return H&&re.set(C.heap8u().slice(te,te+H),0),H&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(re.buffer),re}default:S("Don't know how to translate","type of result column #"+oe+".")}S("Not reached.")},getInt:function(oe){return this.get(oe,E.SQLITE_INTEGER)},getFloat:function(oe){return this.get(oe,E.SQLITE_FLOAT)},getString:function(oe){return this.get(oe,E.SQLITE_TEXT)},getBlob:function(oe){return this.get(oe,E.SQLITE_BLOB)},getJSON:function(oe){const he=this.get(oe,E.SQLITE_STRING);return he===null?he:JSON.parse(he)},getColumnName:function(oe){return E.sqlite3_column_name(Oe(Ke(this),oe).pointer,oe)},getColumnNames:function(oe=[]){Oe(Ke(this),0);const he=this.columnCount;for(let H=0;H<he;++H)oe.push(E.sqlite3_column_name(this.pointer,H));return oe},getParamIndex:function(oe){return Ke(this).parameterCount?E.sqlite3_bind_parameter_index(this.pointer,oe):void 0},getParamName:function(oe){return Ke(this).parameterCount?E.sqlite3_bind_parameter_name(this.pointer,oe):void 0},isBusy:function(){return E.sqlite3_stmt_busy(Ke(this))!==0},isReadOnly:function(){return E.sqlite3_stmt_readonly(Ke(this))!==0}};{const oe={enumerable:!0,get:function(){return fe.get(this)},set:()=>S("The pointer property is read-only.")};Object.defineProperty(be.prototype,"pointer",oe),Object.defineProperty(Re.prototype,"pointer",oe)}if(Object.defineProperty(be.prototype,"columnCount",{enumerable:!1,get:function(){return E.sqlite3_column_count(this.pointer)},set:()=>S("The columnCount property is read-only.")}),y.oo1={DB:Re,Stmt:be},M.isUIThread()){y.oo1.JsStorageDb=function(he="session"){const H=Be.normalizeArgs(...arguments);he=H.filename,he!=="session"&&he!=="local"&&S("JsStorageDb db name must be one of 'session' or 'local'."),H.vfs="kvvfs",Be.call(this,H)};const oe=y.oo1.JsStorageDb;oe.prototype=Object.create(Re.prototype),oe.clearStorage=E.sqlite3_js_kvvfs_clear,oe.prototype.clearStorage=function(){return oe.clearStorage(Ie(this).filename)},oe.storageSize=E.sqlite3_js_kvvfs_size,oe.prototype.storageSize=function(){return oe.storageSize(Ie(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util;y.initWorker1API=function(){const E=(...Be)=>{throw new Error(Be.join(" "))};globalThis.WorkerGlobalScope instanceof Function||E("initWorker1API() must be run from a Worker thread.");const C=this.sqlite3||E("Missing this.sqlite3 object."),M=C.oo1.DB,fe=function(Be){let Re=me.idMap.get(Be);return Re||(Re="db#"+ ++me.idSeq+"@"+Be.pointer,me.idMap.set(Be,Re),Re)},me={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Be){const Re=new M(Be);return this.dbs[fe(Re)]=Re,this.dbList.indexOf(Re)<0&&this.dbList.push(Re),Re},close:function(Be,Re){if(Be){delete this.dbs[fe(Be)];const et=Be.filename,be=S.sqlite3__wasm_db_vfs(Be.pointer,0);Be.close();const Ie=this.dbList.indexOf(Be);Ie>=0&&this.dbList.splice(Ie,1),Re&&et&&be&&S.sqlite3__wasm_vfs_unlink(be,et)}},post:function(Be,Re){Re&&Re.length?(globalThis.postMessage(Be,Array.from(Re)),Re.length=0):globalThis.postMessage(Be)},dbs:Object.create(null),getDb:function(Be,Re=!0){return this.dbs[Be]||(Re?E("Unknown (or closed) DB ID:",Be):void 0)}},Qe=function(Be=me.dbList[0]){return Be&&Be.pointer?Be:E("DB is not opened.")},tt=function(Be,Re=!0){const et=me.getDb(Be.dbId,!1)||me.dbList[0];return Re?Qe(et):et},at=function(){return me.dbList[0]&&fe(me.dbList[0])},mt={open:function(Be){const Re=Object.create(null),et=Be.args||Object.create(null);et.simulateError&&E("Throwing because of simulateError flag.");const be=Object.create(null);Re.vfs=et.vfs,Re.filename=et.filename||"";const Ie=me.open(Re);return be.filename=Ie.filename,be.persistent=!!C.capi.sqlite3_js_db_uses_vfs(Ie.pointer,"opfs"),be.dbId=fe(Ie),be.vfs=Ie.dbVfsName(),be},close:function(Be){const Re=tt(Be,!1),et={filename:Re&&Re.filename};if(Re){const be=Be.args&&typeof Be.args=="object"?!!Be.args.unlink:!1;me.close(Re,be)}return et},exec:function(Be){const Re=typeof Be.args=="string"?{sql:Be.args}:Be.args||Object.create(null);Re.rowMode==="stmt"?E("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):Re.sql||E("'exec' requires input SQL.");const et=tt(Be);(Re.callback||Array.isArray(Re.resultRows))&&(et._blobXfer=me.xfer);const be=Re.callback;let Ie=0;const Oe=!!Re.columnNames;typeof be=="string"&&(Oe||(Re.columnNames=[]),Re.callback=function(Je,Ge){me.post({type:be,columnNames:Re.columnNames,rowNumber:++Ie,row:Je},me.xfer)});try{const Je=Re.countChanges?et.changes(!0,Re.countChanges===64):void 0;et.exec(Re),Je!==void 0&&(Re.changeCount=et.changes(!0,Re.countChanges===64)-Je),Re.callback instanceof Function&&(Re.callback=be,me.post({type:be,columnNames:Re.columnNames,rowNumber:null,row:void 0}))}finally{delete et._blobXfer,Re.callback&&(Re.callback=be)}return Re},"config-get":function(){const Be=Object.create(null),Re=C.config;return["bigIntEnabled"].forEach(function(et){Object.getOwnPropertyDescriptor(Re,et)&&(Be[et]=Re[et])}),Be.version=C.version,Be.vfsList=C.capi.sqlite3_js_vfs_list(),Be},export:function(Be){const Re=tt(Be),et={byteArray:C.capi.sqlite3_js_db_export(Re.pointer),filename:Re.filename,mimetype:"application/x-sqlite3"};return me.xfer.push(et.byteArray.buffer),et},toss:function(Be){E("Testing worker exception")}};globalThis.onmessage=async function(Be){Be=Be.data;let Re,et=Be.dbId,be=Be.type;const Ie=performance.now();try{mt.hasOwnProperty(be)&&mt[be]instanceof Function?Re=await mt[be](Be):E("Unknown db worker message type:",Be.type)}catch(Oe){be="error",Re={operation:Be.type,message:Oe.message,errorClass:Oe.name,input:Be},Oe.stack&&(Re.stack=typeof Oe.stack=="string"?Oe.stack.split(/\n\s*/):Oe.stack)}et||(et=Re.dbId||at()),me.post({type:be,dbId:et,messageId:Be.messageId,workerReceivedTime:Ie,workerRespondTime:performance.now(),departureTime:Be.departureTime,result:Re},me.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:y})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.wasm,E=y.capi,C=y.util.toss3,M=Object.create(null);y.vfs=M,E.sqlite3_vfs.prototype.registerVfs=function(fe=!1){this instanceof y.capi.sqlite3_vfs||C("Expecting a sqlite3_vfs-type argument.");const me=E.sqlite3_vfs_register(this,fe?1:0);return me&&C("sqlite3_vfs_register(",this,") failed with rc",me),this.pointer!==E.sqlite3_vfs_find(this.$zName)&&C("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},M.installVfs=function(fe){let me=0;const Qe=["io","vfs"];for(const tt of Qe){const at=fe[tt];at&&(++me,at.struct.installMethods(at.methods,!!at.applyArgcCheck),tt==="vfs"&&(!at.struct.$zName&&typeof at.name=="string"&&at.struct.addOnDispose(at.struct.$zName=S.allocCString(at.name)),at.struct.registerVfs(!!at.asDefault)))}return me||C("Misuse: installVfs() options object requires at least","one of:",Qe),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){if(!y.wasm.exports.sqlite3_declare_vtab)return;const S=y.wasm,E=y.capi,C=y.util.toss3,M=Object.create(null);y.vtab=M;const fe=E.sqlite3_index_info;fe.prototype.nthConstraint=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraint+fe.sqlite3_index_constraint.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint(mt)},fe.prototype.nthConstraintUsage=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraintUsage+fe.sqlite3_index_constraint_usage.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint_usage(mt)},fe.prototype.nthOrderBy=function(tt,at=!1){if(tt<0||tt>=this.$nOrderBy)return!1;const mt=this.$aOrderBy+fe.sqlite3_index_orderby.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_orderby(mt)};const me=function(tt,at){return function(mt,Be=!1){if(arguments.length===0&&(mt=new at),mt instanceof at)return this.set(mt.pointer,mt),mt;S.isPtr(mt)||y.SQLite3Error.toss("Invalid argument to",tt+"()");let Re=this.get(mt);return Be&&this.delete(mt),Re}.bind(new Map)},Qe=function(tt,at){const mt=me(tt,at);return Object.assign(Object.create(null),{StructType:at,create:Be=>{const Re=mt();return S.pokePtr(Be,Re.pointer),Re},get:Be=>mt(Be),unget:Be=>mt(Be,!0),dispose:Be=>{const Re=mt(Be,!0);Re&&Re.dispose()}})};M.xVtab=Qe("xVtab",E.sqlite3_vtab),M.xCursor=Qe("xCursor",E.sqlite3_vtab_cursor),M.xIndexInfo=tt=>new E.sqlite3_index_info(tt),M.xError=function tt(at,mt,Be){if(tt.errorReporter instanceof Function)try{tt.errorReporter("sqlite3_module::"+at+"(): "+mt.message)}catch{}let Re;return mt instanceof y.WasmAllocError?Re=E.SQLITE_NOMEM:arguments.length>2?Re=Be:mt instanceof y.SQLite3Error&&(Re=mt.resultCode),Re||E.SQLITE_ERROR},M.xError.errorReporter=console.error.bind(console),M.xRowid=(tt,at)=>S.poke(tt,at,"i64"),M.setupModule=function(tt){let at=!1;const mt=this instanceof E.sqlite3_module?this:tt.struct||(at=new E.sqlite3_module);try{const Be=tt.methods||C("Missing 'methods' object.");for(const Re of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const et=Re[0],be=Re[1];Be[et]===!0?Be[et]=Be[be]:Be[be]===!0&&(Be[be]=Be[et])}if(tt.catchExceptions){const Re=function(Ie,Oe){return["xConnect","xCreate"].indexOf(Ie)>=0?function(Je,Ge,Te,Ke,St,J){try{return Oe(...arguments)||0}catch(le){return le instanceof y.WasmAllocError||(S.dealloc(S.peekPtr(J)),S.pokePtr(J,S.allocCString(le.message))),M.xError(Ie,le)}}:function(...Je){try{return Oe(...Je)||0}catch(Ge){return M.xError(Ie,Ge)}}},et=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],be=Object.create(null);for(const Ie of et){const Oe=Be[Ie];if(Oe instanceof Function)Ie==="xConnect"&&Be.xCreate===Oe?be[Ie]=Be.xCreate:Ie==="xCreate"&&Be.xConnect===Oe?be[Ie]=Be.xConnect:be[Ie]=Re(Ie,Oe);else continue}mt.installMethods(be,!1)}else mt.installMethods(Be,!!tt.applyArgcCheck);if(mt.$iVersion===0){let Re;typeof tt.iVersion=="number"?Re=tt.iVersion:mt.$xShadowName?Re=3:mt.$xSavePoint||mt.$xRelease||mt.$xRollbackTo?Re=2:Re=1,mt.$iVersion=Re}}catch(Be){throw at&&at.dispose(),Be}return mt},E.sqlite3_module.prototype.setupModule=function(tt){return M.setupModule.call(this,tt)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=function E(C){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!C||typeof C!="object")&&(C=Object.create(null));const M=new URL(globalThis.location.href).searchParams;return M.has("opfs-disable")?Promise.resolve(y):(C.verbose===void 0&&(C.verbose=M.has("opfs-verbose")?+M.get("opfs-verbose")||2:1),C.sanityChecks===void 0&&(C.sanityChecks=M.has("opfs-sanity-check")),C.proxyUri===void 0&&(C.proxyUri=E.defaultProxyUri),typeof C.proxyUri=="function"&&(C.proxyUri=C.proxyUri()),new Promise(function(me,Qe){const tt=[y.config.error,y.config.warn,y.config.log],at=(Ae,...nt)=>{C.verbose>Ae&&tt[Ae]("OPFS syncer:",...nt)},mt=(...Ae)=>at(2,...Ae),Be=(...Ae)=>at(1,...Ae),Re=(...Ae)=>at(0,...Ae),et=y.util.toss,be=y.capi,Ie=y.util,Oe=y.wasm,Je=be.sqlite3_vfs,Ge=be.sqlite3_file,Te=be.sqlite3_io_methods,Ke=Object.create(null),St=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Ke.metrics={dump:function(){let Ae,nt=0,dt=0,Nt=0;for(Ae in re.opIds){const xt=Le[Ae];nt+=xt.count,dt+=xt.time,Nt+=xt.wait,xt.avgTime=xt.count&&xt.time?xt.time/xt.count:0,xt.avgWait=xt.count&&xt.wait?xt.wait/xt.count:0}y.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Le,`
Total of`,nt,"op(s) for",dt,"ms (incl. "+Nt+" ms of waiting on the async side)"),y.config.log("Serialization metrics:",Le.s11n),he.postMessage({type:"opfs-async-metrics"})},reset:function(){let Ae;const nt=Nt=>Nt.count=Nt.time=Nt.wait=0;for(Ae in re.opIds)nt(Le[Ae]=Object.create(null));let dt=Le.s11n=Object.create(null);dt=dt.serialize=Object.create(null),dt.count=dt.time=0,dt=Le.s11n.deserialize=Object.create(null),dt.count=dt.time=0}};const J=new Te,le=new Je().addOnDispose(()=>J.dispose());let Ee;const st=Ae=>(Ee=!0,le.dispose(),Qe(Ae)),oe=()=>(Ee=!1,me(y)),he=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{Ee===void 0&&st(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),he._originalOnError=he.onerror,he.onerror=function(Ae){Re("Error initializing OPFS asyncer:",Ae),st(new Error("Loading OPFS async Worker failed for unknown reasons."))};const H=be.sqlite3_vfs_find(null),te=H?new Je(H):null;J.$iVersion=1,le.$iVersion=2,le.$szOsFile=be.sqlite3_file.structInfo.sizeof,le.$mxPathname=1024,le.$zName=Oe.allocCString("opfs"),le.$xDlOpen=le.$xDlError=le.$xDlSym=le.$xDlClose=null,le.addOnDispose("$zName",le.$zName,"cleanup default VFS wrapper",()=>te?te.dispose():null);const re=Object.create(null);re.verbose=C.verbose,re.littleEndian=(()=>{const Ae=new ArrayBuffer(2);return new DataView(Ae).setInt16(0,256,!0),new Int16Array(Ae)[0]===256})(),re.asyncIdleWaitTime=150,re.asyncS11nExceptions=1,re.fileBufferSize=1024*64,re.sabS11nOffset=re.fileBufferSize,re.sabS11nSize=le.$mxPathname*2,re.sabIO=new SharedArrayBuffer(re.fileBufferSize+re.sabS11nSize),re.opIds=Object.create(null);const Le=Object.create(null);{let Ae=0;re.opIds.whichOp=Ae++,re.opIds.rc=Ae++,re.opIds.xAccess=Ae++,re.opIds.xClose=Ae++,re.opIds.xDelete=Ae++,re.opIds.xDeleteNoWait=Ae++,re.opIds.xFileSize=Ae++,re.opIds.xLock=Ae++,re.opIds.xOpen=Ae++,re.opIds.xRead=Ae++,re.opIds.xSleep=Ae++,re.opIds.xSync=Ae++,re.opIds.xTruncate=Ae++,re.opIds.xUnlock=Ae++,re.opIds.xWrite=Ae++,re.opIds.mkdir=Ae++,re.opIds["opfs-async-metrics"]=Ae++,re.opIds["opfs-async-shutdown"]=Ae++,re.opIds.retry=Ae++,re.sabOP=new SharedArrayBuffer(Ae*4),Ke.metrics.reset()}re.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Ae=>{(re.sq3Codes[Ae]=be[Ae])===void 0&&et("Maintenance required: not found:",Ae)}),re.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const it=(Ae,...nt)=>{const dt=re.opIds[Ae]||et("Invalid op ID:",Ae);re.s11n.serialize(...nt),Atomics.store(re.sabOPView,re.opIds.rc,-1),Atomics.store(re.sabOPView,re.opIds.whichOp,dt),Atomics.notify(re.sabOPView,re.opIds.whichOp);const Nt=performance.now();for(;Atomics.wait(re.sabOPView,re.opIds.rc,-1)!=="not-equal";);const xt=Atomics.load(re.sabOPView,re.opIds.rc);if(Le[Ae].wait+=performance.now()-Nt,xt&&re.asyncS11nExceptions){const Mt=re.s11n.deserialize();Mt&&Re(Ae+"() async error:",...Mt)}return xt};Ke.debug={asyncShutdown:()=>{Be("Shutting down OPFS async listener. The OPFS VFS will no longer work."),it("opfs-async-shutdown")},asyncRestart:()=>{Be("Attempting to restart OPFS VFS async listener. Might work, might not."),he.postMessage({type:"opfs-async-restart"})}};const Tt=()=>{if(re.s11n)return re.s11n;const Ae=new TextDecoder,nt=new TextEncoder("utf-8"),dt=new Uint8Array(re.sabIO,re.sabS11nOffset,re.sabS11nSize),Nt=new DataView(re.sabIO,re.sabS11nOffset,re.sabS11nSize);re.s11n=Object.create(null);const xt=Object.create(null);xt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},xt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},xt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},xt.string={id:4};const Mt=qt=>xt[typeof qt]||et("Maintenance required: this value type cannot be serialized.",qt),dn=qt=>{switch(qt){case xt.number.id:return xt.number;case xt.bigint.id:return xt.bigint;case xt.boolean.id:return xt.boolean;case xt.string.id:return xt.string;default:et("Invalid type ID:",qt)}};return re.s11n.deserialize=function(qt=!1){++Le.s11n.deserialize.count;const hr=performance.now(),We=dt[0],vt=We?[]:null;if(We){const wt=[];let kt=1,fn,$n,Pn;for(fn=0;fn<We;++fn,++kt)wt.push(dn(dt[kt]));for(fn=0;fn<We;++fn){const Mn=wt[fn];Mn.getter?(Pn=Nt[Mn.getter](kt,re.littleEndian),kt+=Mn.size):($n=Nt.getInt32(kt,re.littleEndian),kt+=4,Pn=Ae.decode(dt.slice(kt,kt+$n)),kt+=$n),vt.push(Pn)}}return qt&&(dt[0]=0),Le.s11n.deserialize.time+=performance.now()-hr,vt},re.s11n.serialize=function(...qt){const hr=performance.now();if(++Le.s11n.serialize.count,qt.length){const We=[];let vt=0,wt=1;for(dt[0]=qt.length&255;vt<qt.length;++vt,++wt)We.push(Mt(qt[vt])),dt[wt]=We[vt].id;for(vt=0;vt<qt.length;++vt){const kt=We[vt];if(kt.setter)Nt[kt.setter](wt,qt[vt],re.littleEndian),wt+=kt.size;else{const fn=nt.encode(qt[vt]);Nt.setInt32(wt,fn.byteLength,re.littleEndian),wt+=4,dt.set(fn,wt),wt+=fn.byteLength}}}else dt[0]=0;Le.s11n.serialize.time+=performance.now()-hr},re.s11n},$t=function Ae(nt=16){Ae._chars||(Ae._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Ae._n=Ae._chars.length);const dt=[];let Nt=0;for(;Nt<nt;++Nt){const xt=Math.random()*(Ae._n*64)%Ae._n|0;dt[Nt]=Ae._chars[xt]}return dt.join("")},Gt=Object.create(null),lt=Object.create(null);lt.op=void 0,lt.start=void 0;const _e=Ae=>{lt.start=performance.now(),lt.op=Ae,++Le[Ae].count},Pe=()=>Le[lt.op].time+=performance.now()-lt.start,ot={xCheckReservedLock:function(Ae,nt){return Oe.poke(nt,0,"i32"),0},xClose:function(Ae){_e("xClose");let nt=0;const dt=Gt[Ae];return dt&&(delete Gt[Ae],nt=it("xClose",Ae),dt.sq3File&&dt.sq3File.dispose()),Pe(),nt},xDeviceCharacteristics:function(Ae){return be.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ae,nt,dt){return be.SQLITE_NOTFOUND},xFileSize:function(Ae,nt){_e("xFileSize");let dt=it("xFileSize",Ae);if(dt==0)try{const Nt=re.s11n.deserialize()[0];Oe.poke(nt,Nt,"i64")}catch(Nt){Re("Unexpected error reading xFileSize() result:",Nt),dt=re.sq3Codes.SQLITE_IOERR}return Pe(),dt},xLock:function(Ae,nt){_e("xLock");const dt=Gt[Ae];let Nt=0;return dt.lockType?dt.lockType=nt:(Nt=it("xLock",Ae,nt),Nt===0&&(dt.lockType=nt)),Pe(),Nt},xRead:function(Ae,nt,dt,Nt){_e("xRead");const xt=Gt[Ae];let Mt;try{Mt=it("xRead",Ae,dt,Number(Nt)),(Mt===0||be.SQLITE_IOERR_SHORT_READ===Mt)&&Oe.heap8u().set(xt.sabView.subarray(0,dt),nt)}catch(dn){Re("xRead(",arguments,") failed:",dn,xt),Mt=be.SQLITE_IOERR_READ}return Pe(),Mt},xSync:function(Ae,nt){_e("xSync"),++Le.xSync.count;const dt=it("xSync",Ae,nt);return Pe(),dt},xTruncate:function(Ae,nt){_e("xTruncate");const dt=it("xTruncate",Ae,Number(nt));return Pe(),dt},xUnlock:function(Ae,nt){_e("xUnlock");const dt=Gt[Ae];let Nt=0;return be.SQLITE_LOCK_NONE===nt&&dt.lockType&&(Nt=it("xUnlock",Ae,nt)),Nt===0&&(dt.lockType=nt),Pe(),Nt},xWrite:function(Ae,nt,dt,Nt){_e("xWrite");const xt=Gt[Ae];let Mt;try{xt.sabView.set(Oe.heap8u().subarray(nt,nt+dt)),Mt=it("xWrite",Ae,dt,Number(Nt))}catch(dn){Re("xWrite(",arguments,") failed:",dn,xt),Mt=be.SQLITE_IOERR_WRITE}return Pe(),Mt}},ht={xAccess:function(Ae,nt,dt,Nt){_e("xAccess");const xt=it("xAccess",Oe.cstrToJs(nt));return Oe.poke(Nt,xt?0:1,"i32"),Pe(),0},xCurrentTime:function(Ae,nt){return Oe.poke(nt,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ae,nt){return Oe.poke(nt,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ae,nt,dt){_e("xDelete");const Nt=it("xDelete",Oe.cstrToJs(nt),dt,!1);return Pe(),Nt},xFullPathname:function(Ae,nt,dt,Nt){return Oe.cstrncpy(Nt,nt,dt)<dt?0:be.SQLITE_CANTOPEN},xGetLastError:function(Ae,nt,dt){return Be("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(nt,dt,Nt,xt,Mt){_e("xOpen");let dn=0;dt===0?dt=$t():Oe.isPtr(dt)&&(be.sqlite3_uri_boolean(dt,"opfs-unlock-asap",0)&&(dn|=re.opfsFlags.OPFS_UNLOCK_ASAP),be.sqlite3_uri_boolean(dt,"delete-before-open",0)&&(dn|=re.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),dt=Oe.cstrToJs(dt));const qt=Object.create(null);qt.fid=Nt,qt.filename=dt,qt.sab=new SharedArrayBuffer(re.fileBufferSize),qt.flags=xt,qt.readOnly=!(y.SQLITE_OPEN_CREATE&xt)&&!!(xt&be.SQLITE_OPEN_READONLY);const hr=it("xOpen",Nt,dt,xt,dn);return hr||(qt.readOnly&&Oe.poke(Mt,be.SQLITE_OPEN_READONLY,"i32"),Gt[Nt]=qt,qt.sabView=re.sabFileBufView,qt.sq3File=new Ge(Nt),qt.sq3File.$pMethods=J.pointer,qt.lockType=be.SQLITE_LOCK_NONE),Pe(),hr}};te&&(le.$xRandomness=te.$xRandomness,le.$xSleep=te.$xSleep),le.$xRandomness||(ht.xRandomness=function(Ae,nt,dt){const Nt=Oe.heap8u();let xt=0;for(;xt<nt;++xt)Nt[dt+xt]=Math.random()*255e3&255;return xt}),le.$xSleep||(ht.xSleep=function(Ae,nt){return Atomics.wait(re.sabOPView,re.opIds.xSleep,0,nt),0}),Ke.getResolvedPath=function(Ae,nt){const dt=new URL(Ae,"file://irrelevant").pathname;return nt?dt.split("/").filter(Nt=>!!Nt):dt},Ke.getDirForFilename=async function(nt,dt=!1){const Nt=Ke.getResolvedPath(nt,!0),xt=Nt.pop();let Mt=Ke.rootDirectory;for(const dn of Nt)dn&&(Mt=await Mt.getDirectoryHandle(dn,{create:!!dt}));return[Mt,xt]},Ke.mkdir=async function(Ae){try{return await Ke.getDirForFilename(Ae+"/filepart",!0),!0}catch{return!1}},Ke.entryExists=async function(Ae){try{const[nt,dt]=await Ke.getDirForFilename(Ae);return await nt.getFileHandle(dt),!0}catch{return!1}},Ke.randomFilename=$t,Ke.treeList=async function(){const Ae=async function dt(Nt,xt){xt.name=Nt.name,xt.dirs=[],xt.files=[];for await(const Mt of Nt.values())if(Mt.kind==="directory"){const dn=Object.create(null);xt.dirs.push(dn),await dt(Mt,dn)}else xt.files.push(Mt.name)},nt=Object.create(null);return await Ae(Ke.rootDirectory,nt),nt},Ke.rmfr=async function(){const Ae=Ke.rootDirectory,nt={recurse:!0};for await(const dt of Ae.values())Ae.removeEntry(dt.name,nt)},Ke.unlink=async function(Ae,nt=!1,dt=!1){try{const[Nt,xt]=await Ke.getDirForFilename(Ae,!1);return await Nt.removeEntry(xt,{recursive:nt}),!0}catch(Nt){if(dt)throw new Error("unlink(",arguments[0],") failed: "+Nt.message,{cause:Nt});return!1}},Ke.traverse=async function(Ae){const nt={recursive:!0,directory:Ke.rootDirectory};typeof Ae=="function"&&(Ae={callback:Ae}),Ae=Object.assign(nt,Ae||{}),async function Nt(xt,Mt){for await(const dn of xt.values()){if(Ae.callback(dn,xt,Mt)===!1)return!1;if(Ae.recursive&&dn.kind==="directory"&&await Nt(dn,Mt+1)===!1)break}}(Ae.directory,0)};const Pt=async function(Ae,nt){const[dt,Nt]=await Ke.getDirForFilename(Ae,!0);let Mt=await (await dt.getFileHandle(Nt,{create:!0})).createSyncAccessHandle(),dn=0,qt,hr=!1;try{for(Mt.truncate(0);(qt=await nt())!==void 0;)qt instanceof ArrayBuffer&&(qt=new Uint8Array(qt)),dn===0&&qt.byteLength>=15&&(Ie.affirmDbHeader(qt),hr=!0),Mt.write(qt,{at:dn}),dn+=qt.byteLength;if((dn<512||dn%512!==0)&&et("Input size",dn,"is not correct for an SQLite database."),!hr){const We=new Uint8Array(20);Mt.read(We,{at:0}),Ie.affirmDbHeader(We)}return Mt.write(new Uint8Array([1,1]),{at:18}),dn}catch(We){throw await Mt.close(),Mt=void 0,await dt.removeEntry(Nt).catch(()=>{}),We}finally{Mt&&await Mt.close()}};if(Ke.importDb=async function(Ae,nt){if(nt instanceof Function)return Pt(Ae,nt);nt instanceof ArrayBuffer&&(nt=new Uint8Array(nt)),Ie.affirmIsDb(nt);const dt=nt.byteLength,[Nt,xt]=await Ke.getDirForFilename(Ae,!0);let Mt,dn=0;try{return Mt=await (await Nt.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),Mt.truncate(0),dn=Mt.write(nt,{at:0}),dn!=dt&&et("Expected to write "+dt+" bytes but wrote "+dn+"."),Mt.write(new Uint8Array([1,1]),{at:18}),dn}catch(qt){throw Mt&&(await Mt.close(),Mt=void 0),await Nt.removeEntry(xt).catch(()=>{}),qt}finally{Mt&&await Mt.close()}},y.oo1){const Ae=function(...nt){const dt=y.oo1.DB.dbCtorHelper.normalizeArgs(...nt);dt.vfs=le.$zName,y.oo1.DB.dbCtorHelper.call(this,dt)};Ae.prototype=Object.create(y.oo1.DB.prototype),y.oo1.OpfsDb=Ae,Ae.importDb=Ke.importDb,y.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(le.pointer,function(nt,dt){dt.capi.sqlite3_busy_timeout(nt,1e4)})}const Zt=function(){const Ae=Oe.scopedAllocPush(),nt=new Ge;try{const dt=nt.pointer,Nt=be.SQLITE_OPEN_CREATE|be.SQLITE_OPEN_READWRITE|be.SQLITE_OPEN_MAIN_DB,xt=Oe.scopedAlloc(8),Mt="/sanity/check/file"+$t(8),dn=Oe.scopedAllocCString(Mt);let qt;if(re.s11n.serialize("This is \xe4 string."),qt=re.s11n.deserialize(),mt("deserialize() says:",qt),qt[0]!=="This is \xe4 string."&&et("String d13n error."),ht.xAccess(le.pointer,dn,0,xt),qt=Oe.peek(xt,"i32"),mt("xAccess(",Mt,") exists ?=",qt),qt=ht.xOpen(le.pointer,dn,dt,Nt,xt),mt("open rc =",qt,"state.sabOPView[xOpen] =",re.sabOPView[re.opIds.xOpen]),qt!==0){Re("open failed with code",qt);return}ht.xAccess(le.pointer,dn,0,xt),qt=Oe.peek(xt,"i32"),qt||et("xAccess() failed to detect file."),qt=ot.xSync(nt.pointer,0),qt&&et("sync failed w/ rc",qt),qt=ot.xTruncate(nt.pointer,1024),qt&&et("truncate failed w/ rc",qt),Oe.poke(xt,0,"i64"),qt=ot.xFileSize(nt.pointer,xt),qt&&et("xFileSize failed w/ rc",qt),mt("xFileSize says:",Oe.peek(xt,"i64")),qt=ot.xWrite(nt.pointer,dn,10,1),qt&&et("xWrite() failed!");const hr=Oe.scopedAlloc(16);qt=ot.xRead(nt.pointer,hr,6,2),Oe.poke(hr+6,0);let We=Oe.cstrToJs(hr);mt("xRead() got:",We),We!=="sanity"&&et("Unexpected xRead() value."),ht.xSleep&&(mt("xSleep()ing before close()ing..."),ht.xSleep(le.pointer,2e3),mt("waking up from xSleep()")),qt=ot.xClose(dt),mt("xClose rc =",qt,"sabOPView =",re.sabOPView),mt("Deleting file:",Mt),ht.xDelete(le.pointer,dn,4660),ht.xAccess(le.pointer,dn,0,xt),qt=Oe.peek(xt,"i32"),qt&&et("Expecting 0 from xAccess(",Mt,") after xDelete()."),Be("End of OPFS sanity checks.")}finally{nt.dispose(),Oe.scopedAllocPop(Ae)}};he.onmessage=function({data:Ae}){switch(Ae.type){case"opfs-unavailable":st(new Error(Ae.payload.join(" ")));break;case"opfs-async-loaded":he.postMessage({type:"opfs-async-init",args:re});break;case"opfs-async-inited":{if(Ee===!0)break;try{y.vfs.installVfs({io:{struct:J,methods:ot},vfs:{struct:le,methods:ht}}),re.sabOPView=new Int32Array(re.sabOP),re.sabFileBufView=new Uint8Array(re.sabIO,0,re.fileBufferSize),re.sabS11nView=new Uint8Array(re.sabIO,re.sabS11nOffset,re.sabS11nSize),Tt(),C.sanityChecks&&(Be("Running sanity checks because of opfs-sanity-check URL arg..."),Zt()),St()?navigator.storage.getDirectory().then(nt=>{he.onerror=he._originalOnError,delete he._originalOnError,y.opfs=Ke,Ke.rootDirectory=nt,mt("End of OPFS sqlite3_vfs setup.",le),oe()}).catch(st):oe()}catch(nt){Re(nt),st(nt)}break}default:{const nt="Unexpected message from the OPFS async worker: "+JSON.stringify(Ae);Re(nt),st(new Error(nt));break}}}}))};S.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async E=>{try{let C=S.defaultProxyUri;return E.scriptInfo.sqlite3Dir&&(S.defaultProxyUri=E.scriptInfo.sqlite3Dir+C),S().catch(M=>{E.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",M.message)})}catch(C){return E.config.error("installOpfsVfs() exception:",C),Promise.reject(C)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util.toss,E=y.util.toss3,C=Object.create(null),M=y.capi,fe=y.util,me=y.wasm,Qe=4096,tt=512,at=4,mt=8,Be=tt+at,Re=tt,et=Be,be=Qe,Ie=M.SQLITE_OPEN_MAIN_DB|M.SQLITE_OPEN_MAIN_JOURNAL|M.SQLITE_OPEN_SUPER_JOURNAL|M.SQLITE_OPEN_WAL,Oe=".opaque",Je=()=>Math.random().toString(36).slice(2),Ge=new TextDecoder,Te=new TextEncoder,Ke=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),St=[y.config.error,y.config.warn,y.config.log];y.config.log;const J=y.config.warn;y.config.error;const le=new Map,Ee=lt=>le.get(lt),st=(lt,_e)=>{_e?le.set(lt,_e):le.delete(lt)},oe=new Map,he=lt=>oe.get(lt),H=(lt,_e)=>{_e?oe.set(lt,_e):oe.delete(lt)},te={xCheckReservedLock:function(lt,_e){const Pe=he(lt);return Pe.log("xCheckReservedLock"),Pe.storeErr(),me.poke32(_e,1),0},xClose:function(lt){const _e=he(lt);_e.storeErr();const Pe=_e.getOFileForS3File(lt);if(Pe)try{_e.log(`xClose ${Pe.path}`),_e.mapS3FileToOFile(lt,!1),Pe.sah.flush(),Pe.flags&M.SQLITE_OPEN_DELETEONCLOSE&&_e.deletePath(Pe.path)}catch(ot){return _e.storeErr(ot,M.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(lt){return M.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(lt,_e,Pe){return M.SQLITE_NOTFOUND},xFileSize:function(lt,_e){const Pe=he(lt);Pe.log("xFileSize");const ht=Pe.getOFileForS3File(lt).sah.getSize()-be;return me.poke64(_e,BigInt(ht)),0},xLock:function(lt,_e){const Pe=he(lt);Pe.log(`xLock ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xRead:function(lt,_e,Pe,ot){const ht=he(lt);ht.storeErr();const Pt=ht.getOFileForS3File(lt);ht.log(`xRead ${Pt.path} ${Pe} @ ${ot}`);try{const Zt=Pt.sah.read(me.heap8u().subarray(_e,_e+Pe),{at:be+Number(ot)});return Zt<Pe?(me.heap8u().fill(0,_e+Zt,_e+Pe),M.SQLITE_IOERR_SHORT_READ):0}catch(Zt){return ht.storeErr(Zt,M.SQLITE_IOERR)}},xSectorSize:function(lt){return Qe},xSync:function(lt,_e){const Pe=he(lt);Pe.log(`xSync ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.flush(),0}catch(ht){return Pe.storeErr(ht,M.SQLITE_IOERR)}},xTruncate:function(lt,_e){const Pe=he(lt);Pe.log(`xTruncate ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.truncate(be+Number(_e)),0}catch(ht){return Pe.storeErr(ht,M.SQLITE_IOERR)}},xUnlock:function(lt,_e){const Pe=he(lt);Pe.log("xUnlock");const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xWrite:function(lt,_e,Pe,ot){const ht=he(lt);ht.storeErr();const Pt=ht.getOFileForS3File(lt);ht.log(`xWrite ${Pt.path} ${Pe} ${ot}`);try{const Zt=Pt.sah.write(me.heap8u().subarray(_e,_e+Pe),{at:be+Number(ot)});return Pe===Zt?0:S("Unknown write() failure.")}catch(Zt){return ht.storeErr(Zt,M.SQLITE_IOERR)}}},re=new M.sqlite3_io_methods;re.$iVersion=1,y.vfs.installVfs({io:{struct:re,methods:te}});const Le={xAccess:function(lt,_e,Pe,ot){const ht=Ee(lt);ht.storeErr();try{const Pt=ht.getPath(_e);me.poke32(ot,ht.hasFilename(Pt)?1:0)}catch{me.poke32(ot,0)}return 0},xCurrentTime:function(lt,_e){return me.poke(_e,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(lt,_e){return me.poke(_e,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(lt,_e,Pe){const ot=Ee(lt);ot.log(`xDelete ${me.cstrToJs(_e)}`),ot.storeErr();try{return ot.deletePath(ot.getPath(_e)),0}catch(ht){return ot.storeErr(ht),M.SQLITE_IOERR_DELETE}},xFullPathname:function(lt,_e,Pe,ot){return me.cstrncpy(ot,_e,Pe)<Pe?0:M.SQLITE_CANTOPEN},xGetLastError:function(lt,_e,Pe){const ot=Ee(lt),ht=ot.popErr();if(ot.log(`xGetLastError ${_e} e =`,ht),ht){const Pt=me.scopedAllocPush();try{const[Zt,Ae]=me.scopedAllocCString(ht.message,!0);me.cstrncpy(Pe,Zt,_e),Ae>_e&&me.poke8(Pe+_e-1,0)}catch{return M.SQLITE_NOMEM}finally{me.scopedAllocPop(Pt)}}return ht?ht.sqlite3Rc||M.SQLITE_IOERR:0},xOpen:function(_e,Pe,ot,ht,Pt){const Zt=Ee(_e);try{Zt.log(`xOpen ${me.cstrToJs(Pe)} ${ht}`);const Ae=Pe&&me.peek8(Pe)?Zt.getPath(Pe):Je();let nt=Zt.getSAHForPath(Ae);!nt&&ht&M.SQLITE_OPEN_CREATE&&(Zt.getFileCount()<Zt.getCapacity()?(nt=Zt.nextAvailableSAH(),Zt.setAssociatedPath(nt,Ae,ht)):S("SAH pool is full. Cannot create file",Ae)),nt||S("file not found:",Ae);const dt={path:Ae,flags:ht,sah:nt};Zt.mapS3FileToOFile(ot,dt),dt.lockType=M.SQLITE_LOCK_NONE;const Nt=new M.sqlite3_file(ot);return Nt.$pMethods=re.pointer,Nt.dispose(),me.poke32(Pt,ht),0}catch(Ae){return Zt.storeErr(Ae),M.SQLITE_CANTOPEN}}},it=function(lt){y.capi.sqlite3_vfs_find(lt)&&E("VFS name is already registered:",lt);const _e=new M.sqlite3_vfs,Pe=M.sqlite3_vfs_find(null),ot=Pe?new M.sqlite3_vfs(Pe):null;return _e.$iVersion=2,_e.$szOsFile=M.sqlite3_file.structInfo.sizeof,_e.$mxPathname=tt,_e.addOnDispose(_e.$zName=me.allocCString(lt),()=>st(_e.pointer,0)),ot&&(_e.$xRandomness=ot.$xRandomness,_e.$xSleep=ot.$xSleep,ot.dispose()),!_e.$xRandomness&&!Le.xRandomness&&(Le.xRandomness=function(ht,Pt,Zt){const Ae=me.heap8u();let nt=0;for(;nt<Pt;++nt)Ae[Zt+nt]=Math.random()*255e3&255;return nt}),!_e.$xSleep&&!Le.xSleep&&(Le.xSleep=(ht,Pt)=>0),y.vfs.installVfs({vfs:{struct:_e,methods:Le}}),_e};class Tt{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Be);#u;#l;#c;constructor(_e=Object.create(null)){this.#c=_e.verbosity??Ke.verbosity,this.vfsName=_e.name||Ke.name,this.#l=it(this.vfsName),st(this.#l.pointer,this),this.vfsDir=_e.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(_e.clearOnInit??Ke.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(_e.initialCapacity||Ke.initialCapacity)})}#d(_e,...Pe){this.#c>_e&&St[_e](this.vfsName+":",...Pe)}log(..._e){this.#d(2,..._e)}warn(..._e){this.#d(1,..._e)}error(..._e){this.#d(0,..._e)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const _e=[],Pe=this.#i.keys();for(const ot of Pe)_e.push(ot);return _e}async addCapacity(_e){for(let Pe=0;Pe<_e;++Pe){const ot=Je(),Pt=await (await this.#t.getFileHandle(ot,{create:!0})).createSyncAccessHandle();this.#r.set(Pt,ot),this.setAssociatedPath(Pt,"",0)}return this.getCapacity()}async reduceCapacity(_e){let Pe=0;for(const ot of Array.from(this.#s)){if(Pe===_e||this.getFileCount()===this.getCapacity())break;const ht=this.#r.get(ot);ot.close(),await this.#t.removeEntry(ht),this.#r.delete(ot),this.#s.delete(ot),++Pe}return Pe}releaseAccessHandles(){for(const _e of this.#r.keys())_e.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(_e){const Pe=[];for await(const[ot,ht]of this.#t)ht.kind==="file"&&Pe.push([ot,ht]);return Promise.all(Pe.map(async([ot,ht])=>{try{const Pt=await ht.createSyncAccessHandle();if(this.#r.set(Pt,ot),_e)Pt.truncate(be),this.setAssociatedPath(Pt,"",0);else{const Zt=this.getAssociatedPath(Pt);Zt?this.#i.set(Zt,Pt):this.#s.add(Pt)}}catch(Pt){throw this.storeErr(Pt),this.releaseAccessHandles(),Pt}}))}getAssociatedPath(_e){_e.read(this.#a,{at:0});const Pe=this.#u.getUint32(Re);if(this.#a[0]&&(Pe&M.SQLITE_OPEN_DELETEONCLOSE||!(Pe&Ie)))return J(`Removing file with unexpected flags ${Pe.toString(16)}`,this.#a),this.setAssociatedPath(_e,"",0),"";const ot=new Uint32Array(mt/4);_e.read(ot,{at:et});const ht=this.computeDigest(this.#a);if(ot.every((Pt,Zt)=>Pt===ht[Zt])){const Pt=this.#a.findIndex(Zt=>Zt===0);return Pt===0&&_e.truncate(be),Pt?Ge.decode(this.#a.subarray(0,Pt)):""}else return J("Disassociating file with bad digest."),this.setAssociatedPath(_e,"",0),""}setAssociatedPath(_e,Pe,ot){const ht=Te.encodeInto(Pe,this.#a);tt<=ht.written+1&&S("Path too long:",Pe),this.#a.fill(0,ht.written,tt),this.#u.setUint32(Re,ot);const Pt=this.computeDigest(this.#a);_e.write(this.#a,{at:0}),_e.write(Pt,{at:et}),_e.flush(),Pe?(this.#i.set(Pe,_e),this.#s.delete(_e)):(_e.truncate(be),this.#s.add(_e))}computeDigest(_e){let Pe=0xdeadbeef,ot=0x41c6ce57;for(const ht of _e)Pe=31*Pe+ht*307,ot=31*ot+ht*307;return new Uint32Array([Pe>>>0,ot>>>0])}async reset(_e){await this.isReady;let Pe=await navigator.storage.getDirectory(),ot;for(const ht of this.vfsDir.split("/"))ht&&(ot=Pe,Pe=await Pe.getDirectoryHandle(ht,{create:!0}));return this.#e=Pe,this.#n=ot,this.#t=await this.#e.getDirectoryHandle(Oe,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(_e)}getPath(_e){return me.isPtr(_e)&&(_e=me.cstrToJs(_e)),(_e instanceof URL?_e:new URL(_e,"file://localhost/")).pathname}deletePath(_e){const Pe=this.#i.get(_e);return Pe&&(this.#i.delete(_e),this.setAssociatedPath(Pe,"",0)),!!Pe}storeErr(_e,Pe){return _e&&(_e.sqlite3Rc=Pe||M.SQLITE_IOERR,this.error(_e)),this.$error=_e,Pe}popErr(){const _e=this.$error;return this.$error=void 0,_e}nextAvailableSAH(){const[_e]=this.#s.keys();return _e}getOFileForS3File(_e){return this.#o.get(_e)}mapS3FileToOFile(_e,Pe){Pe?(this.#o.set(_e,Pe),H(_e,this)):(this.#o.delete(_e),H(_e,!1))}hasFilename(_e){return this.#i.has(_e)}getSAHForPath(_e){return this.#i.get(_e)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;M.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete C[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(Oe,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(_e){y.config.error(this.vfsName,"removeVfs() failed:",_e)}return!0}exportFile(_e){const Pe=this.#i.get(_e)||S("File not found:",_e),ot=Pe.getSize()-be,ht=new Uint8Array(ot>0?ot:0);if(ot>0){const Pt=Pe.read(ht,{at:be});Pt!=ot&&S("Expected to read "+ot+" bytes but read "+Pt+".")}return ht}async importDbChunked(_e,Pe){const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to.");ot.truncate(0);let ht=0,Pt,Zt=!1;try{for(;(Pt=await Pe())!==void 0;)Pt instanceof ArrayBuffer&&(Pt=new Uint8Array(Pt)),ht===0&&Pt.byteLength>=15&&(fe.affirmDbHeader(Pt),Zt=!0),ot.write(Pt,{at:be+ht}),ht+=Pt.byteLength;if((ht<512||ht%512!==0)&&S("Input size",ht,"is not correct for an SQLite database."),!Zt){const Ae=new Uint8Array(20);ot.read(Ae,{at:0}),fe.affirmDbHeader(Ae)}ot.write(new Uint8Array([1,1]),{at:be+18})}catch(Ae){throw this.setAssociatedPath(ot,"",0),Ae}return this.setAssociatedPath(ot,_e,M.SQLITE_OPEN_MAIN_DB),ht}importDb(_e,Pe){if(Pe instanceof ArrayBuffer)Pe=new Uint8Array(Pe);else if(Pe instanceof Function)return this.importDbChunked(_e,Pe);const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to."),ht=Pe.byteLength;(ht<512||ht%512!=0)&&S("Byte array size is invalid for an SQLite db.");const Pt="SQLite format 3";for(let Ae=0;Ae<Pt.length;++Ae)Pt.charCodeAt(Ae)!==Pe[Ae]&&S("Input does not contain an SQLite database header.");const Zt=ot.write(Pe,{at:be});return Zt!=ht?(this.setAssociatedPath(ot,"",0),S("Expected to write "+ht+" bytes but wrote "+Zt+".")):(ot.write(new Uint8Array([1,1]),{at:be+18}),this.setAssociatedPath(ot,_e,M.SQLITE_OPEN_MAIN_DB)),Zt}}class $t{#e;constructor(_e){this.#e=_e,this.vfsName=_e.vfsName}async addCapacity(_e){return this.#e.addCapacity(_e)}async reduceCapacity(_e){return this.#e.reduceCapacity(_e)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(_e){const Pe=this.#e.getCapacity();return Pe<_e?this.#e.addCapacity(_e-Pe):Pe}exportFile(_e){return this.#e.exportFile(_e)}importDb(_e,Pe){return this.#e.importDb(_e,Pe)}async wipeFiles(){return this.#e.reset(!0)}unlink(_e){return this.#e.deletePath(_e)}async removeVfs(){return this.#e.removeVfs()}}const Gt=async()=>{const lt=await navigator.storage.getDirectory(),_e=".opfs-sahpool-sync-check-"+Je(),ht=(await (await lt.getFileHandle(_e,{create:!0})).createSyncAccessHandle()).close();return await ht,await lt.removeEntry(_e),ht?.then&&S("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};y.installOpfsSAHPoolVfs=async function(lt=Object.create(null)){lt=Object.assign(Object.create(null),Ke,lt||{});const _e=lt.name;if(lt.$testThrowPhase1)throw lt.$testThrowPhase1;if(C[_e])try{return await C[_e]}catch(Pe){if(lt.forceReinitIfPreviouslyFailed)delete C[_e];else throw Pe}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?C[_e]=Promise.reject(new Error("Missing required OPFS APIs.")):C[_e]=Gt().then(async function(){if(lt.$testThrowPhase2)throw lt.$testThrowPhase2;const Pe=new Tt(lt);return Pe.isReady.then(async()=>{const ot=new $t(Pe);if(y.oo1){const ht=y.oo1,Pt=Pe.getVfs(),Zt=function(...Ae){const nt=ht.DB.dbCtorHelper.normalizeArgs(...Ae);nt.vfs=Pt.$zName,ht.DB.dbCtorHelper.call(this,nt)};Zt.prototype=Object.create(ht.DB.prototype),ot.OpfsSAHPoolDb=Zt}return Pe.log("VFS initialized."),ot}).catch(async ot=>{throw await Pe.removeVfs().catch(()=>{}),ot})}).catch(Pe=>C[_e]=Promise.reject(Pe))}}),typeof g<"u"){const y=Object.assign(Object.create(null),{exports:typeof pe>"u"?g.asm:pe,memory:g.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=y;let S;try{S=globalThis.sqlite3ApiBootstrap()}catch(E){throw console.error("sqlite3ApiBootstrap() error:",E),E}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}g.sqlite3=S}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=o,n}})();const dQ=function(){const t=A1;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const s=i.sqlite3;s.scriptInfo=e,n.__isUnderTest&&(s.__isUnderTest=!0);const o=s.asyncPostInit;return delete s.asyncPostInit,o()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();A1=dQ;const fQ=A1;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const h=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=h}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,s=e.debug||r,o=e.generateMessageId?void 0:Object.create(null),l=e.generateMessageId||function(h){return h.type+"#"+(o[h.type]=(o[h.type]||0)+1)},c=(...h)=>{throw new Error(h.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let d,f;return e.worker.onmessage=function(h){h=h.data,s("worker1.onmessage",h);let b=n[h.messageId];if(!b){if(h&&h.type==="sqlite3-api"&&h.result==="worker1-ready"){e.onready&&e.onready(f);return}if(b=n[h.type],b&&b.onrow){b.onrow(h);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",h);return}switch(delete n[h.messageId],h.type){case"error":b.reject(h);return;case"open":d||(d=h.dbId);break;case"close":h.dbId===d&&(d=void 0);break}try{b.resolve(h)}catch(x){b.reject(x)}},f=function(){let h;arguments.length===1?h=arguments[0]:arguments.length===2?(h=Object.create(null),h.type=arguments[0],h.args=arguments[1],h.dbId=h.args.dbId):c("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!h.dbId&&h.type!=="open"&&(h.dbId=d),h.messageId=l(h),h.departureTime=performance.now();const b=Object.create(null);b.message=h;let x;h.type==="exec"&&h.args&&(typeof h.args.callback=="function"?(x=h.messageId+":row",b.onrow=h.args.callback,h.args.callback=x,n[x]=b):typeof h.args.callback=="string"&&c("exec callback may not be a string when using the Promise interface."));let _=new Promise(function(N,I){b.resolve=N,b.reject=I,n[h.messageId]=b,s("Posting",h.type,"message to Worker dbId="+(d||"default")+":",h),e.worker.postMessage(h)});return x&&(_=_.finally(()=>delete n[x])),_}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(s){n.reject(s)}}});const r=new Promise(function(i,s){n.resolve=i,n.reject=s});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function VT(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function M_(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function AF(t){const e=t.split(/[\\/]/).filter(s=>s!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(s=>`${n}-${s}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let s=await navigator.storage.getDirectory();for(let o of e)s=await s.getDirectoryHandle(o);return s}}}async function tE(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const s=[];let o=!1;for(;!o;){const f=await i.read();f.value&&s.push(f.value),o=f.done}const l=s.reduce((f,h)=>f+h.length,0),c=new Uint8Array(l);let d=0;return s.forEach(f=>{c.set(f,d),d+=f.length}),c}}else return n}class hQ{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:VT()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:VT()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:s,verbose:o}=this.config,l=[s===!0?"r":"cw",o===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await fQ()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,l),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,l),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=c=>{this.config.clientKey!==c.data.clientKey&&this.init(c.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(c){this.emitMessage({type:"error",error:c,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const s=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),s.type){case"config":this.editConfig(s);break;case"query":case"batch":case"transaction":this.exec(s);break;case"function":this.createUserFunction(s);break;case"getinfo":this.getDatabaseInfo(s);break;case"import":this.importDb(s);break;case"export":this.exportDb(s);break;case"delete":this.deleteDb(s);break;case"destroy":this.destroy(s);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const s=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{s||await this.transactionMutex.lock();const o=M_(this.db,r);i.data.push(o)}finally{s||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(o=>{for(let l of r.statements){const c=M_(o,l);i.data.push(c)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const o=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:o}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)M_(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,s=this.dbStorageType,o=s!==void 0?s!=="memory"?await navigator.storage?.persisted():!1:void 0,c=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],d=typeof c=="number"?c:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:d,storageType:s,persisted:o}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:s,queryKey:o}=r;let l;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:o});return}s==="callback"?l=(...c)=>{this.emitMessage({type:"callback",name:i,args:c})}:l=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:s,name:i,func:l}),this.emitMessage({type:"success",queryKey:o})}catch(c){this.emitMessage({type:"error",error:c,queryKey:o})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...s)=>r.func(...s),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:s}=r;let o=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const l=await tE(s,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,l)}else{const l=await tE(s,"buffer"),c=this.sqlite3.wasm.allocFromTypedArray(l);this.pointers.push(c);const d=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",c,l.byteLength,l.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(d),this.execInitStatements()}}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const s=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:s},[s])}catch(s){this.emitMessage({type:"error",error:s,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let s=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:o,fileName:l,tempFileNames:c}=AF(this.config.databasePath),d=await o(),f=[l,...c];this.destroy(),await Promise.all(f.map(async h=>d.removeEntry(h).catch(b=>{if(!(b instanceof DOMException&&b.name==="NotFoundError"))throw b})))}else this.destroy()}catch(o){this.emitMessage({type:"error",error:o,queryKey:i}),s=!0}finally{await this.init("delete")}s||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:R1(globalThis);this.proxy=n,this.init("initial")}}function ov(t,...e){return{sql:t.join("?"),params:e}}function pQ(t){return!t.some(e=>!Array.isArray(e))}function $_(t,e){let n;return pQ(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((s,o)=>{i[s]=r[o]}),i})}function mQ(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function gQ(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function yQ(t){if(typeof t=="function"&&(t=t(ov)),mQ(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!gQ(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function B_(){return crypto.randomUUID()}function HT(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=ov(t,...e),n}async function Ng(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class vQ{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const l=o instanceof MessageEvent?o.data:o,c=this.queriesInProgress;switch(l.type){case"success":case"data":case"buffer":case"info":case"error":if(l.queryKey&&c.has(l.queryKey)){const[f,h]=c.get(l.queryKey);l.type==="error"?h(l.error):f(l),c.delete(l.queryKey)}else if(l.type==="error")throw l.error;break;case"callback":const d=this.userCallbacks.get(l.name);d&&d(...l.args??[]);break;case"event":this.config.onConnect?.(l.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Ng("shared",this.bypassMutationLock||o.type==="import"||o.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const l=B_();switch(o.type){case"import":this.processor.postMessage({...o,queryKey:l},[o.database]);break;default:this.processor.postMessage({...o,queryKey:l});break}return new Promise((c,d)=>{this.queriesInProgress.set(l,[c,d])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l,c="all",d)=>{const f=await this.createQuery({type:"query",transactionKey:d,sql:o,params:l,method:c}),h={rows:[],columns:[]};return f.type==="data"&&(h.rows=f.data[0]?.rows??[],h.columns=f.data[0]?.columns??[]),h}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=await this.createQuery({type:"batch",statements:o}),c=new Array(o.length).fill({rows:[],columns:[]});return l.type==="data"&&l.data.forEach((d,f)=>{c[f]=d}),c}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(o,...l)=>{const c=HT(o,l),{rows:d,columns:f}=await this.exec(c.sql,c.params,"all");return $_(d,f)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=o(ov);return(await this.execBatch(l)).map(({rows:d,columns:f})=>$_(d,f))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=B_();await this.createQuery({type:"transaction",transactionKey:o,action:"begin"});const l=async h=>{const b=yQ(h),{rows:x,columns:_}=await this.exec(b.sql,b.params,"all",o);return $_(x,_)};return{query:l,sql:async(h,...b)=>{const x=HT(h,b);return await l(x)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Ng("exclusive",!1,this.config,async()=>{let l;this.bypassMutationLock=!0;try{l=await this.beginTransaction();const c=await o({sql:l.sql,query:l.query});return await l.commit(),c}catch(c){throw await l?.rollback(),c}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await this.createQuery({type:"function",functionName:o,functionType:"callback"}),this.userCallbacks.set(o,l)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{const c=`_sqlocal_func_${o}`;this.proxy===globalThis&&(this.proxy[c]=l),await this.createQuery({type:"function",functionName:o,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[c]=l)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=await this.createQuery({type:"getinfo"});if(o.type==="info")return o.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let o,l;const{storageType:c}=await this.getDatabaseInfo();if(c==="opfs"){const d=AF(this.config.databasePath),{directories:f,getDirectoryHandle:h}=d;o=d.fileName;const b=`backup-${Date.now()}--${o}`,x=`${f.join("/")}/${b}`;await this.exec("VACUUM INTO ?",[x]);const _=await h();l=await (await (await _.getFileHandle(b)).getFile()).arrayBuffer(),await _.removeEntry(b)}else{const d=await this.createQuery({type:"export"});if(d.type==="buffer")o="database.sqlite3",l=d.buffer;else throw new Error("The database failed to export.")}return new File([l],o,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await Ng("exclusive",!1,this.config,async()=>{try{const c=await tE(o);await this.createQuery({type:"import",database:c}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{await Ng("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof o=="function"&&(this.bypassMutationLock=!0,await o()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...s}=n;this.config=n,this.clientKey=B_(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s.databasePath})`),typeof globalThis.Worker<"u"&&s.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=R1(this.processor)):(this.processor=new hQ(!0),this.processor.onmessage=o=>this.processMessageEvent(o),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...s,clientKey:this.clientKey,onInitStatements:r?.(ov)??[]}})}}class bQ extends vQ{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new y8,createDriver:()=>new xQ(this),createIntrospector:e=>new g8(e),createQueryCompiler:()=>new h8}})}}class xQ{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new wQ(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class wQ{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const _Q=({database:t,bootstrap:e})=>{const{dialect:n}=new bQ({databasePath:`${t}.sqlite3`,onInit(i){return[i`PRAGMA foreign_keys = ON;`]}}),r=new f1({dialect:n});return{kysely:r,async bootstrap(){return e({kysely:r})}}},ys=mn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),SQ="icon-[material-symbols--error-outline]",EQ=mn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Zi=({error:t,variant:e,tva:n=EQ,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?m.jsxs("div",{className:i.base(),children:[m.jsx(Xt,{icon:SQ}),m.jsx("span",{children:$l.rich(t.message)})]}):null},NQ=mn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-emerald-600","font-bold"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),wn=({label:t,hint:e,required:n=!1,formState:r,name:i,children:s,variant:o,tva:l=NQ,css:c})=>{const d=l({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...o,css:c}).slots;return m.jsxs("div",{className:d.base(),children:[m.jsxs("div",{className:"flex flex-row justify-between",children:[t?m.jsx("label",{htmlFor:i,children:t}):null,m.jsx(Zi,{variant:{compact:!0},error:r.errors[i]})]}),e?m.jsx("div",{className:"text-sm italic",children:e}):null,m.jsx("div",{className:d.input(),children:s})]})},Oo=({form:t,mutation:e})=>{const n=t.handleSubmit(async r=>e.mutateAsync(r,{onError:i=>{m1({error:i,errors:[KE({error:i,schema:p1,onError:({data:s})=>{t.setError("root",{message:s.message})}})],onError:s=>{t.setError("root",{message:s.message})}})}}).catch(()=>{}));return r=>{r.stopPropagation(),n(r)}};function kQ(t,e,n,r={leading:!1}){const[i,s]=Q.useState(t),[o,l]=Q.useState(t),c=Q.useRef(null),d=Q.useRef(!0),f=()=>window.clearTimeout(c.current||void 0);Q.useEffect(()=>f,[]),Q.useEffect(()=>{e(i)},[i]),Q.useEffect(()=>{l(t),s(t)},[t]);const h=Q.useCallback(b=>{l(b),f(),d.current&&r.leading?s(b):c.current=window.setTimeout(()=>{d.current=!0,s(b)},n),d.current=!1},[r.leading]);return[o,h]}const IQ=mn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),CQ=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=IQ,css:s})=>{const o=i({...r,css:s}).slots,[l,c]=kQ(t,d=>{e(d||"")},500);return m.jsxs("div",{className:o.base(),children:[m.jsx("div",{className:o.search(),children:m.jsx(Xt,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),m.jsx("input",{value:l||"",className:o.input(),type:"text",placeholder:n||$l.text("Fulltext (placeholder)"),onChange:d=>{c(d.target.value)}}),t&&m.jsx("div",{className:o.clear(),onClick:()=>{e("")},children:m.jsx(Xt,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},gp="icon-[pajamas--go-back]",av="icon-[line-md--confirm-circle]",jF="icon-[mage--edit]",OQ="icon-[arcticons--nothing-x]",TQ="icon-[tabler--filter-plus]",QT="icon-[tabler--filter-minus]",j1="icon-[ph--list-dashes-thin]",qQ="icon-[svg-spinners--3-dots-scale]",P1="icon-[material-symbols-light--logout-sharp]",RQ="icon-[fluent--shape-intersect-20-regular]",db="icon-[fluent--checkbox-unchecked-20-regular]",fb="icon-[fluent--checkbox-checked-20-regular]",yp="icon-[teenyicons--tag-outline]",Ji="icon-[ph--trash]",AQ="icon-[clarity--upload-cloud-line]",F1="icon-[ph--user]",jQ=async({queryClient:t,keys:e})=>{for await(const n of e)await t.invalidateQueries({queryKey:n,refetchType:"all"})},Nr=t=>{const e=Cv(),n=No();return async()=>{await jQ({keys:t,queryClient:e}),await n.invalidate()}};var z_={exports:{}},W_,KT;function PQ(){if(KT)return W_;KT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return W_=t,W_}var U_,GT;function FQ(){if(GT)return U_;GT=1;var t=PQ();function e(){}function n(){}return n.resetWarningCache=e,U_=function(){function r(o,l,c,d,f,h){if(h!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},U_}var ZT;function DQ(){return ZT||(ZT=1,z_.exports=FQ()()),z_.exports}var LQ=DQ();const Vn=zs(LQ);function sc(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?s(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}const MQ=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Fd(t,e,n){const r=$Q(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&JT(r,"path",s),JT(r,"relativePath",s),r}function $Q(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=MQ.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function JT(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const BQ=[".DS_Store","Thumbs.db"];function zQ(t){return sc(this,void 0,void 0,function*(){return lv(t)&&WQ(t.dataTransfer)?QQ(t.dataTransfer,t.type):UQ(t)?VQ(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?HQ(t):[]})}function WQ(t){return lv(t)}function UQ(t){return lv(t)&&lv(t.target)}function lv(t){return typeof t=="object"&&t!==null}function VQ(t){return nE(t.target.files).map(e=>Fd(e))}function HQ(t){return sc(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Fd(n))})}function QQ(t,e){return sc(this,void 0,void 0,function*(){if(t.items){const n=nE(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(KQ));return YT(PF(r))}return YT(nE(t.files).map(n=>Fd(n)))})}function YT(t){return t.filter(e=>BQ.indexOf(e.name)===-1)}function nE(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function KQ(t){if(typeof t.webkitGetAsEntry!="function")return XT(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?FF(e):XT(t,e)}function PF(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?PF(n):[n]],[])}function XT(t,e){return sc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Fd(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Fd(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function GQ(t){return sc(this,void 0,void 0,function*(){return t.isDirectory?FF(t):ZQ(t)})}function FF(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>sc(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(GQ));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function ZQ(t){return sc(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Fd(r,t.fullPath);e(i)},r=>{n(r)})})})}var kg={},eq;function JQ(){return eq||(eq=1,kg.__esModule=!0,kg.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),kg}var YQ=JQ();const V_=zs(YQ);function tq(t){return tK(t)||eK(t)||LF(t)||XQ()}function XQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tK(t){if(Array.isArray(t))return rE(t)}function nq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(n),!0).forEach(function(r){DF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vp(t,e){return iK(t)||rK(t,e)||LF(t,e)||nK()}function nK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LF(t,e){if(t){if(typeof t=="string")return rE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rE(t,e)}}function rE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function iK(t){if(Array.isArray(t))return t}var sK=typeof V_=="function"?V_:V_.default,MF="file-invalid-type",$F="file-too-large",BF="file-too-small",zF="too-many-files",oK={FileInvalidType:MF,FileTooLarge:$F,FileTooSmall:BF,TooManyFiles:zF},aK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:MF,message:"File type must be ".concat(r)}},iq=function(e){return{code:$F,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},sq=function(e){return{code:BF,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},lK={code:zF,message:"Too many files"};function WF(t,e){var n=t.type==="application/x-moz-file"||sK(t,e);return[n,n?null:aK(e)]}function UF(t,e,n){if(Ou(t.size))if(Ou(e)&&Ou(n)){if(t.size>n)return[!1,iq(n)];if(t.size<e)return[!1,sq(e)]}else{if(Ou(e)&&t.size<e)return[!1,sq(e)];if(Ou(n)&&t.size>n)return[!1,iq(n)]}return[!0,null]}function Ou(t){return t!=null}function uK(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(c){var d=WF(c,n),f=vp(d,1),h=f[0],b=UF(c,r,i),x=vp(b,1),_=x[0],N=l?l(c):null;return h&&_&&!N})}function uv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Ig(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function oq(t){t.preventDefault()}function cK(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function dK(t){return t.indexOf("Edge/")!==-1}function fK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return cK(t)||dK(t)}function Mo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!uv(r)&&l&&l.apply(void 0,[r].concat(s)),uv(r)})}}function hK(){return"showOpenFilePicker"in window}function pK(t){if(Ou(t)){var e=Object.entries(t).filter(function(n){var r=vp(n,2),i=r[0],s=r[1],o=!0;return VF(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(HF))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=vp(r,2),s=i[0],o=i[1];return rq(rq({},n),{},DF({},s,o))},{});return[{description:"Files",accept:e}]}return t}function mK(t){if(Ou(t))return Object.entries(t).reduce(function(e,n){var r=vp(n,2),i=r[0],s=r[1];return[].concat(tq(e),[i],tq(s))},[]).filter(function(e){return VF(e)||HF(e)}).join(",")}function gK(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function yK(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function VF(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function HF(t){return/^.*\.[\w]+$/.test(t)}var vK=["children"],bK=["open"],xK=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],wK=["refKey","onChange","onClick"];function _K(t){return NK(t)||EK(t)||QF(t)||SK()}function SK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NK(t){if(Array.isArray(t))return iE(t)}function H_(t,e){return CK(t)||IK(t,e)||QF(t,e)||kK()}function kK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QF(t,e){if(t){if(typeof t=="string")return iE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(t,e)}}function iE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function CK(t){if(Array.isArray(t))return t}function aq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aq(Object(n),!0).forEach(function(r){sE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cv(t,e){if(t==null)return{};var n=OK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hb=Q.forwardRef(function(t,e){var n=t.children,r=cv(t,vK),i=GF(r),s=i.open,o=cv(i,bK);return Q.useImperativeHandle(e,function(){return{open:s}},[s]),An.createElement(Q.Fragment,null,n(gr(gr({},o),{},{open:s})))});hb.displayName="Dropzone";var KF={disabled:!1,getFilesFromEvent:zQ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};hb.defaultProps=KF;hb.propTypes={children:Vn.func,accept:Vn.objectOf(Vn.arrayOf(Vn.string)),multiple:Vn.bool,preventDropOnDocument:Vn.bool,noClick:Vn.bool,noKeyboard:Vn.bool,noDrag:Vn.bool,noDragEventsBubbling:Vn.bool,minSize:Vn.number,maxSize:Vn.number,maxFiles:Vn.number,disabled:Vn.bool,getFilesFromEvent:Vn.func,onFileDialogCancel:Vn.func,onFileDialogOpen:Vn.func,useFsAccessApi:Vn.bool,autoFocus:Vn.bool,onDragEnter:Vn.func,onDragLeave:Vn.func,onDragOver:Vn.func,onDrop:Vn.func,onDropAccepted:Vn.func,onDropRejected:Vn.func,onError:Vn.func,validator:Vn.func};var oE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function GF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=gr(gr({},KF),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,b=e.onDrop,x=e.onDropAccepted,_=e.onDropRejected,N=e.onFileDialogCancel,I=e.onFileDialogOpen,T=e.useFsAccessApi,O=e.autoFocus,q=e.preventDropOnDocument,j=e.noClick,D=e.noKeyboard,L=e.noDrag,z=e.noDragEventsBubbling,P=e.onError,R=e.validator,B=Q.useMemo(function(){return mK(n)},[n]),F=Q.useMemo(function(){return pK(n)},[n]),W=Q.useMemo(function(){return typeof I=="function"?I:lq},[I]),U=Q.useMemo(function(){return typeof N=="function"?N:lq},[N]),$=Q.useRef(null),X=Q.useRef(null),Z=Q.useReducer(TK,oE),ae=H_(Z,2),ie=ae[0],ee=ae[1],se=ie.isFocused,Y=ie.isFileDialogActive,ce=Q.useRef(typeof window<"u"&&window.isSecureContext&&T&&hK()),de=function(){!ce.current&&Y&&setTimeout(function(){if(X.current){var ct=X.current.files;ct.length||(ee({type:"closeDialog"}),U())}},300)};Q.useEffect(function(){return window.addEventListener("focus",de,!1),function(){window.removeEventListener("focus",de,!1)}},[X,Y,U,ce]);var ye=Q.useRef([]),we=function(ct){$.current&&$.current.contains(ct.target)||(ct.preventDefault(),ye.current=[])};Q.useEffect(function(){return q&&(document.addEventListener("dragover",oq,!1),document.addEventListener("drop",we,!1)),function(){q&&(document.removeEventListener("dragover",oq),document.removeEventListener("drop",we))}},[$,q]),Q.useEffect(function(){return!r&&O&&$.current&&$.current.focus(),function(){}},[$,O,r]);var Ne=Q.useCallback(function(Me){P?P(Me):console.error(Me)},[P]),ze=Q.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[].concat(_K(ye.current),[Me.target]),Ig(Me)&&Promise.resolve(i(Me)).then(function(ct){if(!(uv(Me)&&!z)){var Ht=ct.length,Qt=Ht>0&&uK({files:ct,accept:B,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:R}),cn=Ht>0&&!Qt;ee({isDragAccept:Qt,isDragReject:cn,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Me)}}).catch(function(ct){return Ne(ct)})},[i,d,Ne,z,B,o,s,l,c,R]),qe=Q.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ct=Ig(Me);if(ct&&Me.dataTransfer)try{Me.dataTransfer.dropEffect="copy"}catch{}return ct&&h&&h(Me),!1},[h,z]),De=Q.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ct=ye.current.filter(function(Qt){return $.current&&$.current.contains(Qt)}),Ht=ct.indexOf(Me.target);Ht!==-1&&ct.splice(Ht,1),ye.current=ct,!(ct.length>0)&&(ee({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ig(Me)&&f&&f(Me))},[$,f,z]),Ze=Q.useCallback(function(Me,ct){var Ht=[],Qt=[];Me.forEach(function(cn){var er=WF(cn,B),Tn=H_(er,2),Tr=Tn[0],yi=Tn[1],fr=UF(cn,o,s),Kt=H_(fr,2),Oi=Kt[0],Ti=Kt[1],qi=R?R(cn):null;if(Tr&&Oi&&!qi)Ht.push(cn);else{var Ys=[yi,Ti];qi&&(Ys=Ys.concat(qi)),Qt.push({file:cn,errors:Ys.filter(function(sa){return sa})})}}),(!l&&Ht.length>1||l&&c>=1&&Ht.length>c)&&(Ht.forEach(function(cn){Qt.push({file:cn,errors:[lK]})}),Ht.splice(0)),ee({acceptedFiles:Ht,fileRejections:Qt,isDragReject:Qt.length>0,type:"setFiles"}),b&&b(Ht,Qt,ct),Qt.length>0&&_&&_(Qt,ct),Ht.length>0&&x&&x(Ht,ct)},[ee,l,B,o,s,c,b,x,_,R]),Xe=Q.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[],Ig(Me)&&Promise.resolve(i(Me)).then(function(ct){uv(Me)&&!z||Ze(ct,Me)}).catch(function(ct){return Ne(ct)}),ee({type:"reset"})},[i,Ze,Ne,z]),Ue=Q.useCallback(function(){if(ce.current){ee({type:"openDialog"}),W();var Me={multiple:l,types:F};window.showOpenFilePicker(Me).then(function(ct){return i(ct)}).then(function(ct){Ze(ct,null),ee({type:"closeDialog"})}).catch(function(ct){gK(ct)?(U(ct),ee({type:"closeDialog"})):yK(ct)?(ce.current=!1,X.current?(X.current.value=null,X.current.click()):Ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ne(ct)});return}X.current&&(ee({type:"openDialog"}),W(),X.current.value=null,X.current.click())},[ee,W,U,T,Ze,Ne,F,l]),ut=Q.useCallback(function(Me){!$.current||!$.current.isEqualNode(Me.target)||(Me.key===" "||Me.key==="Enter"||Me.keyCode===32||Me.keyCode===13)&&(Me.preventDefault(),Ue())},[$,Ue]),_t=Q.useCallback(function(){ee({type:"focus"})},[]),Ot=Q.useCallback(function(){ee({type:"blur"})},[]),Wt=Q.useCallback(function(){j||(fK()?setTimeout(Ue,0):Ue())},[j,Ue]),en=function(ct){return r?null:ct},xe=function(ct){return D?null:en(ct)},ve=function(ct){return L?null:en(ct)},ke=function(ct){z&&ct.stopPropagation()},je=Q.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=Me.refKey,Ht=ct===void 0?"ref":ct,Qt=Me.role,cn=Me.onKeyDown,er=Me.onFocus,Tn=Me.onBlur,Tr=Me.onClick,yi=Me.onDragEnter,fr=Me.onDragOver,Kt=Me.onDragLeave,Oi=Me.onDrop,Ti=cv(Me,xK);return gr(gr(sE({onKeyDown:xe(Mo(cn,ut)),onFocus:xe(Mo(er,_t)),onBlur:xe(Mo(Tn,Ot)),onClick:en(Mo(Tr,Wt)),onDragEnter:ve(Mo(yi,ze)),onDragOver:ve(Mo(fr,qe)),onDragLeave:ve(Mo(Kt,De)),onDrop:ve(Mo(Oi,Xe)),role:typeof Qt=="string"&&Qt!==""?Qt:"presentation"},Ht,$),!r&&!D?{tabIndex:0}:{}),Ti)}},[$,ut,_t,Ot,Wt,ze,qe,De,Xe,D,L,r]),Ve=Q.useCallback(function(Me){Me.stopPropagation()},[]),rt=Q.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=Me.refKey,Ht=ct===void 0?"ref":ct,Qt=Me.onChange,cn=Me.onClick,er=cv(Me,wK),Tn=sE({accept:B,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:en(Mo(Qt,Xe)),onClick:en(Mo(cn,Ve)),tabIndex:-1},Ht,X);return gr(gr({},Tn),er)}},[X,n,l,Xe,r]);return gr(gr({},ie),{},{isFocused:se&&!r,getRootProps:je,getInputProps:rt,rootRef:$,inputRef:X,open:en(Ue)})}function TK(t,e){switch(e.type){case"focus":return gr(gr({},t),{},{isFocused:!0});case"blur":return gr(gr({},t),{},{isFocused:!1});case"openDialog":return gr(gr({},oE),{},{isFileDialogActive:!0});case"closeDialog":return gr(gr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return gr(gr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return gr(gr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return gr({},oE);default:return t}}function lq(){}const qK=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:oK,default:hb,useDropzone:GF},Symbol.toStringTag,{value:"Module"})),RK=mn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:AK}=qK,jK=({id:t,accept:e,text:n,variant:r,tva:i=RK,css:s,...o})=>{const{getRootProps:l,getInputProps:c,isDragActive:d,isDragReject:f}=AK({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...o}),h=i({active:d,rejected:f,...r,css:s}).slots;return m.jsx("div",{...l(),className:h.base(),children:m.jsxs("label",{htmlFor:t,className:h.label(),children:[m.jsxs("div",{className:h.zone(),children:[m.jsx(Xt,{icon:AQ,variant:{size:"4xl"}}),m.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||$l.rich("Drag 'n' drop a file here")}),n?.message?m.jsx("p",{className:"text-xs",children:n.message}):null]}),m.jsx("input",{id:t,type:"file",className:"hidden",...c()})]})})},PK=mn({slot:{base:["min-h-screen","flex","flex-col"],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["flex-grow","h-full","border-b","border-b-slate-200","p-2"]},variant:{},defaults:{}}),ZF=({logo:t,menu:e,actions:n,variant:r,tva:i=PK,css:s,children:o})=>{const l=i({...r,css:s}).slots;return m.jsxs("div",{className:l.base(),children:[m.jsx(TB,{position:"top-right"}),m.jsxs("div",{className:l.header(),children:[m.jsx("div",{children:t}),m.jsx("div",{className:"flex-grow",children:e}),m.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),m.jsx("div",{className:l.content(),children:o??m.jsx(Ba,{})})]})},FK=mn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),DK=Q.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=FK,css:i,children:s,...o},l)=>{const c=r({...n,css:i}).slots;return m.jsxs("a",{...o,ref:l,className:c.base(),children:[t&&m.jsx(Xt,{icon:t,...e}),s]})}),LK=nA(DK),cr=t=>m.jsx(LK,{preload:"intent",...t}),MK=mn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),dv=({show:t=!0,variant:e,tva:n=MK,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?m.jsx("div",{className:i.base(),children:m.jsx(Xt,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var ly={exports:{}},$K=ly.exports,uq;function BK(){return uq||(uq=1,function(t,e){(function(n,r){t.exports=r()})($K,()=>(()=>{var n={d:(_,N)=>{for(var I in N)n.o(N,I)&&!n.o(_,I)&&Object.defineProperty(_,I,{enumerable:!0,get:N[I]})},o:(_,N)=>Object.prototype.hasOwnProperty.call(_,N)},r={};n.d(r,{default:()=>x});const i=(..._)=>{},s=_=>_!==null&&_?.constructor.name==="Object";let o,l;const c=()=>{if(!o){o=!0;try{l=h.storage||localStorage,l.getItem("")}catch{l=(()=>{const _={getItem:I=>N[I]||null,setItem:(I,T)=>{N[I]=T},removeItem:I=>{N[I]=void 0},clear:()=>{N={__proto__:_}}};let N={__proto__:_};return N})()}b()}},d="\0",f=(_,N,I=!0)=>I?[...JSON.stringify(_)].map(T=>String.fromCharCode(T.charCodeAt(0)+N)).join(""):JSON.parse([..._].map(T=>String.fromCharCode(T.charCodeAt(0)-N)).join("")),h={ttl:null,encrypt:!1,encrypter:f,decrypter:(_,N)=>f(_,N,!1),secret:75,storage:void 0};Object.seal(h);const b=(_=!1)=>{c();for(const N of Object.keys(l)){const I=l.getItem(N);let T;try{T=JSON.parse(I||"")}catch{continue}s(T)&&d in T&&(Date.now()>T.ttl||_)&&l.removeItem(N)}},x={config:h,set:(_,N,I={})=>{c();const T={...h,...I,encrypt:I.encrypt!==!1&&(I.encrypt||h.encrypt),ttl:I.ttl===null?null:I.ttl||h.ttl};try{const O=T.ttl&&!isNaN(T.ttl)&&T.ttl>0;let q=O?{[d]:N,ttl:Date.now()+1e3*T.ttl}:N;T.encrypt&&(O?q[d]=(T.encrypter||i)(q[d],T.secret):q=(T.encrypter||i)(q,T.secret)),l.setItem(_,JSON.stringify(q))}catch{return!1}},get:(_,N={})=>{c();const I=l.getItem(_),T={...h,...N,encrypt:N.encrypt!==!1&&(N.encrypt||h.encrypt),ttl:N.ttl===null?null:N.ttl||h.ttl};let O,q;try{O=JSON.parse(I||""),q=s(O)&&d in O,(T.decrypt||T.encrypt)&&(q?O[d]=(T.decrypter||i)(O[d],T.secret):O=(T.decrypter||i)(O,T.secret))}catch{}return q?Date.now()>O.ttl?(l.removeItem(_),null):O[d]:O!==void 0?O:I},flush:b,clear:()=>{c(),l.clear()},remove:_=>{c(),l.removeItem(_)}};return r.default})())}(ly)),ly.exports}var zK=BK();const WK=zs(zK),Jp=WK,UK=mn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),rf=({variant:t,tva:e=UK,css:n,children:r})=>{const i=e({...t,css:n}).slots;return m.jsx("div",{className:i.base(),children:r})},JF=mn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),VK=Q.forwardRef(({icon:t=null,variant:e,tva:n=JF,css:r,children:i,...s},o)=>{const l=n({...e,css:r}).slots;return m.jsxs("a",{...s,className:l.base(),ref:o,children:[Qv(t)?m.jsx(Xt,{icon:t}):t,i]})}),HK=nA(VK),Ur=({match:t=[],variant:e,tva:n=JF,css:r,...i})=>{const s=R$(),o=t.some(l=>!!s(l));return m.jsx(HK,{preload:"intent",variant:{active:!!s({to:i.to,params:i.params})||o,...e},tva:n,css:r,...i})},QK=mn({slot:{base:["flex","flex-row","flex-wrap","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),D1=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:s,tva:o=QK,css:l})=>{const c=i?n.slice(0,i):n,d=o({...s,css:l}).slots;return m.jsxs("div",{className:d.base(),children:[n.length?null:e,c.map(f=>m.jsx(r,{entity:f},`items-${f.id}`)),i&&n.length>i&&m.jsx(Uo,{textTitle:t,target:m.jsx(Tl,{iconEnabled:EF}),outside:!0,children:m.jsx("div",{className:"flex flex-col gap-2",children:n.map(f=>m.jsx(r,{entity:f},`items-${f.id}`))})})]})},KK=mn({slot:{base:[]},variant:{},defaults:{}}),ue=({label:t,fallback:e,variant:n,tva:r=KK,css:i})=>{const s=r({...n,css:i}).slots;return m.jsx("div",{className:s.base(),children:$l.rich(t,e)})},YF=mn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),GK=mn({use:YF,slot:{},variant:{},defaults:{}}),ZK=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:c,value:d,onChange:f,variant:h,tva:b=GK,css:x})=>{const _=b({...h,css:x}).slots,[N,I]=Q.useState(0),[T,O]=Q.useState(15),[q,j]=Q.useState(d||[]),[D,L]=Q.useState(void 0),z=Ll({queryKey:[l,"PopupMultiSelect","data",{fulltext:D,page:N,size:T}],async queryFn(){return c({filter:{fulltext:D},cursor:{page:N,size:T}})}}),P=Ll({queryKey:[l,"PopupMultiSelect","selected",{value:d}],async queryFn(){return c({filter:{idIn:d}})},enabled:!!d});return m.jsx(Uo,{icon:t,target:m.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data.length}),children:[m.jsx(Xt,{icon:P.data?.data?.length?fb:db}),P.data&&P.data.data.length?m.jsx(s,{entities:P.data.data}):n||m.jsx(ue,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:m.jsxs("div",{className:_.base(),children:[m.jsx("div",{className:_.content(),children:m.jsx(i,{cursor:{cursor:{page:N,size:T},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:m.jsx(ue,{label:"Total count of items (label)"}),onPage(R){I(R)},onSize(R){O(R),I(0)}},fulltext:{value:D,set(R){L(R),I(0)}},table:{data:z.data?.data??[],selection:{type:"multi",value:q,set(R){j(R)}}}})}),m.jsx(cb.Consumer,{children:R=>m.jsxs("div",{className:_.footer(),children:[m.jsx(On,{iconEnabled:gp,iconDisabled:gp,onClick:()=>{R?.close()},variant:{variant:"subtle"},children:m.jsx(ue,{label:"Close (label)"})}),m.jsx(On,{iconEnabled:av,iconDisabled:av,disabled:!q.length&&!o,onClick:()=>{f(q),R?.close()},children:m.jsx(ue,{label:"Confirm selection (label)"})})]})})]})})},XF=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:c,value:d,onChange:f,variant:h,tva:b=YF,css:x})=>{const _=b({...h,css:x}).slots,[N,I]=Q.useState(0),[T,O]=Q.useState(15),[q,j]=Q.useState(d?[d]:[]),[D,L]=Q.useState(void 0),z=Ll({queryKey:[l,"PopupSelect","data",{fulltext:D,page:N,size:T}],async queryFn(){return c({filter:{fulltext:D},cursor:{page:N,size:T}})}}),P=Ll({queryKey:[l,"PopupSelect","selected",{value:d}],async queryFn(){return c({filter:{id:d||void 0}})},enabled:!!d});return m.jsx(Uo,{icon:t,target:m.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data?.length}),children:[m.jsx(Xt,{icon:P.data?.data?.[0]?fb:db}),P.data?.data?.[0]?m.jsx(s,{entity:P.data?.data?.[0]}):n||m.jsx(ue,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:m.jsxs("div",{className:_.base(),children:[m.jsx("div",{className:_.content(),children:m.jsx(i,{cursor:{cursor:{page:N,size:T},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:m.jsx(ue,{label:"Total count of items (label)"}),onPage(R){I(R)},onSize(R){O(R),I(0)}},fulltext:{value:D,set(R){L(R),I(0)}},table:{data:z.data?.data??[],selection:{type:"single",value:q,set(R){j(R)}}}})}),m.jsx(cb.Consumer,{children:R=>m.jsxs("div",{className:_.footer(),children:[m.jsx(On,{iconEnabled:gp,iconDisabled:gp,onClick:()=>{R?.close()},variant:{variant:"subtle"},children:m.jsx(ue,{label:"Close (label)"})}),m.jsx(On,{iconEnabled:av,iconDisabled:av,disabled:!q.length&&!o,onClick:()=>{f(q?.[0]),R?.close()},children:m.jsx(ue,{label:"Confirm selection (label)"})})]})})]})})},JK=mn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),pb=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:s,tva:o=JK,css:l})=>{const c=o({...s,css:l}).slots;return m.jsx(q1.Provider,{value:{inline:!0},children:m.jsx("div",{className:c.base(),children:m.jsxs("div",{className:c.container(),children:[m.jsx("div",{className:c.title(),children:m.jsx(e,{entity:t})}),m.jsx("div",{className:c.links(),children:m.jsx(n,{entity:t})}),m.jsx("div",{className:c.actions(),children:m.jsx(r,{entity:t})}),m.jsx("div",{className:c.extra(),children:m.jsx(i,{entity:t})})]})})})},YK=mn({slot:{base:["w-full","bg-slate-200","rounded","transition-all"],progress:["h-full","bg-blue-400","rounded","leading-none","transition-all"]},variant:{size:{xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-4"}},defaults:{size:"md"}}),sf=({value:t,variant:e,tva:n=YK,css:r})=>{const i=n({...e,css:r}).slots;return m.jsx("div",{className:i.base(),children:m.jsx("div",{style:{width:`${t}%`},className:i.progress()})})},XK=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},eG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},Us=t=>({onPage:XK(t),onSize:eG(t)}),Vs=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),Hs=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},To=t=>e=>{t({search(n){return{...n,selection:e}}})},Dr=t=>({loading:m.jsx(ue,{label:`${t} - Loading (label)`}),success:m.jsx(ue,{label:`${t} - Success (label)`}),error:m.jsx(ue,{label:`${t} - Error (label)`})}),tG=mn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),qo=({textContent:t,textToast:e,callback:n,onCancel:r,invalidator:i,variant:s,tva:o=tG,css:l})=>{const c=o({...s,css:l}).slots,d=Q.useContext(cb),f=vn({async mutationFn(){return qB.promise(n(),Dr(e))},async onSuccess(){await i?.(),d?.close()}});return m.jsxs("div",{className:c.base(),children:[m.jsx("div",{className:c.content(),children:t}),m.jsxs("div",{className:c.footer(),children:[m.jsx(On,{variant:{variant:"subtle",size:"sm"},iconEnabled:gp,onClick:()=>{d?.close(),r?.()},children:m.jsx(ue,{label:"Cancel (button)"})}),m.jsx(On,{variant:{variant:"danger",size:"md"},iconEnabled:Ji,onClick:()=>{f.mutate()},children:m.jsx(ue,{label:"Delete (button)"})})]})]})},nG=async({select:t,query:e=()=>t,filter:n,where:r})=>({total:(await t.clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,filter:(await e({select:e({select:t,where:r}),where:n}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,where:(await e({select:t,where:r}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count}),mb=async({select:t,query:e=()=>t,output:n,filter:r,where:i})=>n.parse(await e({select:e({select:t,where:i}),where:r}).executeTakeFirstOrThrow()),L1=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>{const o=l=>{let c=l;return s&&(c=l.limit(s.size).offset(s.page*s.size)),c};return ne.array(n).parse(await o(e({select:e({select:t,where:i}),where:r})).execute())},Gr=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>({data:await L1({select:t,output:n,where:i,filter:r,query:e,cursor:s}),count:await nG({select:t,where:i,filter:r,query:e})}),Yi=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:s=>"schema"in t?t.schema.parse(s):t.parse(s)}},Cg=(t,e)=>ne.custom().pipe(t.catch(e)),Qs=({filter:t},{size:e=30}={size:30})=>ne.object({filter:Cg(t.optional(),void 0),cursor:Cg(kH,{page:0,size:e}).default({page:0,size:e}),sort:Cg(ne.any().optional(),[]).default([]),selection:Cg(ne.array(ne.string()),[]).default([])}),rG=mn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),e2=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:s=rG,css:o,children:l})=>{const c=s({...i,css:o}).slots;return m.jsxs("div",{className:c.base(),children:[n?m.jsx(Xt,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,m.jsx("div",{className:c.title(),children:t}),m.jsx("div",{className:c.message(),children:e}),m.jsx("div",{className:c.body(),children:l})]})},M1=mn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),iG=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:s=M1,css:o})=>{const l=e.def.render,c=s({...i,css:o}).slots;return m.jsx("td",{className:c.td(),children:m.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[m.jsx(l,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?m.jsx(Xt,{icon:TQ,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},sG=({table:t,row:e,action:n,variant:r,tva:i=M1,css:s})=>{const o=i({...r,css:s}).slots,l=n?.table,c=n?.row;return m.jsxs("tr",{className:o.tr({selected:t.selection.isSelected(e)}),children:[l||c||t.selection.enabled?m.jsx("td",{className:"w-0",children:m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?m.jsx(Xt,{icon:t.selection.isSelected(e)?fb:db,css:{base:o.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,c?m.jsx(c,{table:t,data:e.data}):null]})}):null,e.cells.map(d=>m.jsx(iG,{table:t,cell:d,variant:r,tva:i,css:s},`${e.id}-${d.column.id}`)),m.jsx("td",{})]})},Ks=({table:t,fulltext:e,cursor:n,empty:r=()=>m.jsx(e2,{icon:OQ,textTitle:m.jsx(ue,{label:"Nothing here"}),textMessage:m.jsx(ue,{label:"There is nothing to see right now."})}),action:i,variant:s,tva:o=M1,css:l})=>{const c=o({...s,css:l}).slots,d=i?.table,f=i?.row;return m.jsxs("div",{className:c.base(),children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?m.jsx(CQ,{value:e.value,onFulltext:e.set}):null}),m.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[m.jsx(BT,{...n}),t.filter.is()&&m.jsx(Tl,{iconEnabled:QT,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),m.jsx("div",{className:"relative overflow-x-auto",children:m.jsxs("table",{className:c.table(),children:[m.jsx("thead",{className:c.thead(),children:m.jsxs("tr",{children:[d||f||t.selection.enabled?m.jsx("th",{className:"w-0",children:m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?m.jsx(Xt,{icon:t.selection.isAll()?fb:t.selection.isAny()?RQ:db,variant:{disabled:t.selection.isSingle},css:{base:c.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,d?m.jsx(d,{table:t}):null]})}):null,t.visible.map(h=>{const b=h.def.header||(()=>null);return m.jsx("th",{className:c.th(),style:h.def.size?{width:`${h.def.size}rem`}:void 0,children:m.jsxs("div",{className:"flex flex-row items-center justify-between",children:[m.jsx(b,{table:t}),m.jsx("div",{className:"flex flex-row items-center gap-2",children:h.filter?.is()&&m.jsx(Xt,{icon:QT,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{h.filter?.reset()}})})]})},h.id)}),m.jsx("th",{})]})}),t.isEmpty?null:m.jsx("tbody",{className:c.tbody(),children:t.rows?.map(h=>m.jsx(sG,{row:h,table:t,action:i,variant:s,tva:o,css:l},h.id))})]})}),t.isEmpty?m.jsx(r,{}):null,m.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[m.jsx("div",{}),m.jsx(BT,{...n})]})]})},Xr=[];for(let t=0;t<256;++t)Xr.push((t+256).toString(16).slice(1));function oG(t,e=0){return(Xr[t[e+0]]+Xr[t[e+1]]+Xr[t[e+2]]+Xr[t[e+3]]+"-"+Xr[t[e+4]]+Xr[t[e+5]]+"-"+Xr[t[e+6]]+Xr[t[e+7]]+"-"+Xr[t[e+8]]+Xr[t[e+9]]+"-"+Xr[t[e+10]]+Xr[t[e+11]]+Xr[t[e+12]]+Xr[t[e+13]]+Xr[t[e+14]]+Xr[t[e+15]]).toLowerCase()}let Q_;const aG=new Uint8Array(16);function lG(){if(!Q_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Q_=crypto.getRandomValues.bind(crypto)}return Q_(aG)}const uG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cq={randomUUID:uG};function dq(t,e,n){if(cq.randomUUID&&!t)return cq.randomUUID();t=t||{};const r=t.random??t.rng?.()??lG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,oG(r)}const Gs=({columns:t,order:e=t.map(c=>c.name),hidden:n=[],visible:r=t.map(c=>c.name),data:i,filter:s,selection:o,context:l})=>{const c={...s?.value||{}},d=fT(c),f=new Set(o?.value),h=t.map(x=>({id:dq(),def:x,filter:x.filter?{is(){return x.filter?d.get(x.filter.path)!==void 0:!1},reset(){x.filter&&d.set(x.filter.path,void 0),s?.set({...c})},shallow(_,N){x.filter&&d.set(_,N),s?.set({...c})},set(_){s?.set({..._})}}:void 0})),b=h.filter(x=>r.includes(x.def.name)&&!n.includes(x.def.name)).sort((x,_)=>{const N=e.indexOf(x.def.name),I=e.indexOf(_.def.name);return(N===-1?1/0:N)-(I===-1?1/0:I)});return{columns:h,visible:b,rows:i?.map(x=>({id:dq(),data:x,cells:b.map(_=>({column:_,data:x,value:fT(x).get(_.def.name)}))})),isEmpty:i.length===0,filter:{is(){return h.some(x=>x.filter?.is())},reset(){s?.set({})},set(x){s?.set({...x})},shallow(x,_){d.set(x,_)}},selection:{enabled:!!o&&i.length>0,selection:Array.from(f),isSingle:o?.type==="single",isMulti:o?.type==="multi",isSelected({data:x}){return f.has(x.id)||!1},isAll(){return i.every(x=>f.has(x.id))},isAny(){return i.some(x=>f.has(x.id))},withRowHandler({data:x}){return()=>{if(o?.type==="single"){const _=f.has(x.id);f.clear(),_?f.delete(x.id):f.add(x.id)}else f.has(x.id)?f.delete(x.id):f.add(x.id);o?.set(Array.from(f))}},withAllHandler(){return()=>{i.every(x=>f.has(x.id))?f.clear():i.forEach(({id:x})=>f.add(x)),o?.set(Array.from(f))}}},context:l}},Zs=()=>t=>t,t2=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((s,o)=>s.sort-o.sort);return m.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(s=>m.jsx(Ko,{onClick:()=>n?.(s),children:e({tag:s})},s.id)):r||m.jsx(ue,{label:"No tags (label)"})})},cG=mn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500","font-bold"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),gb=({icon:t,title:e,subtitle:n,variant:r,tva:i=cG,css:s})=>{const o=i({withSubtitle:!!n,...r,css:s}).slots;return m.jsxs("div",{className:o.base(),children:[m.jsxs("div",{className:o.title(),children:[t?m.jsx(Xt,{icon:t}):null,e]}),n?m.jsx("div",{className:o.subtitle(),children:n}):null]})};var Og={},fq;function dG(){if(fq)return Og;fq=1;var t=tA();return Og.createRoot=t.createRoot,Og.hydrateRoot=t.hydrateRoot,Og}var fG=dG();const hG=zs(fG),$1=y$()({component:()=>m.jsxs(m.Fragment,{children:[m.jsx(M$,{}),m.jsx(Ba,{})]})}),pG="modulepreload",mG=function(t){return"/"+t},hq={},pq=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=mG(c),c in hq)return;hq[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":pG,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((b,x)=>{h.addEventListener("load",b),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},gG=_n("/$locale")({component:Ba,loader:async({params:{locale:t}})=>{try{$l.push((await yG(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function yG(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return pq(()=>import("./cs-Cx2kcXhG.js"),[]);case"../translation/en":case"../translation/en.yaml":return pq(()=>import("./en-sieZCqJr.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const n2="cs",vG=[n2,"en"],bG=_n("/")({loader:async()=>{throw Tv({to:"/$locale",params:{locale:kV({available:vG,fallback:n2})}})}}),xG=_n("/$locale/")({component:()=>{const{locale:t}=Gn({from:"/$locale"});return m.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:m.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[m.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),m.jsx("ul",{children:m.jsx("li",{children:m.jsx(cr,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:zt,bootstrap:wG}=_Q({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)";try{await t.selectFrom("User").select(n=>n.fn.countAll().as("count")).executeTakeFirstOrThrow()}catch{await t.schema.createTable("User").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("login","varchar(128)",r=>r.notNull()).addColumn("password","varchar(256)",r=>r.notNull()).addUniqueConstraint("[User] login",["login"]).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("code","varchar(64)",r=>r.notNull()).addColumn("label","varchar(128)",r=>r.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",r=>r.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Cycle] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("stamp","datetime",r=>r.defaultTo(Vr`CURRENT_TIMESTAMP`).notNull()).execute(),await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addUniqueConstraint("[Resource] name",["name"]).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("tagId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] tagId",["tagId"],"Tag",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Resource_Tag] resourceId-tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).execute(),await t.schema.createTable("Default_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Default_Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).addUniqueConstraint("[Default_Inventory] resourceId",["resourceId"]).execute(),await t.schema.createTable("User_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[User_Inventory] userId-inventoryId",["userId","inventoryId"]).execute(),await t.schema.createTable("Blueprint").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).addColumn("productionLimit","integer",r=>r.notNull()).addColumn("sort","integer",r=>r.notNull()).addUniqueConstraint("[Blueprint] name",["name"]).execute(),await t.schema.createTable("Blueprint_Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).addColumn("limit","integer",r=>r.notNull()).execute(),await t.schema.createTable("Blueprint_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Requirement] blueprintId-requirementId",["blueprintId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("dependencyId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] dependencyId",["dependencyId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Dependency] blueprintId-dependencyId",["blueprintId","dependencyId"]).execute(),await t.schema.createTable("Blueprint_Production_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Requirement] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Production_Queue").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("count","integer",r=>r.notNull().defaultTo(0)).addColumn("limit","integer",r=>r.notNull().defaultTo(0)).addColumn("priority","integer",r=>r.notNull().defaultTo(0)).addUniqueConstraint("[Production_Queue] userId-blueprintProductionId",["blueprintProductionId","userId"]).execute(),await t.schema.createTable("Construction").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).addUniqueConstraint("[Construction] userId-blueprintId",["userId","blueprintId"]).execute(),await t.schema.createTable("Building").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Building] userId-blueprintId",["userId","blueprintId"]).execute()}}}),_G=_n("/$locale/apps/derivean")({loader:wG}),r2="icon-[proicons--game]",SG=mn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),i2=({variant:t,tva:e=SG,css:n})=>{const r=e({...t,css:n}).slots;return m.jsx("div",{className:r.base(),children:"DeRivean"})},Xl="icon-[fluent--building-shop-20-regular]",na="icon-[mingcute--inventory-line]",Lr="icon-[hugeicons--resources-add]",EG=t=>{const{locale:e}=Gn({from:"/$locale"});return m.jsxs(rf,{...t,children:[m.jsx(Ur,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},children:m.jsx(ue,{label:"Editor (menu)"})}),m.jsx(Ur,{icon:Xl,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/blueprint/$id/view"},{to:"/$locale/apps/derivean/root/blueprint/$id/dependencies"},{to:"/$locale/apps/derivean/root/blueprint/$id/production"},{to:"/$locale/apps/derivean/root/blueprint/$id/requirements"},{to:"/$locale/apps/derivean/root/blueprint/$id/edit"},{to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements"}],children:m.jsx(ue,{label:"Blueprint list (menu)"})}),m.jsx(Ur,{icon:Lr,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:m.jsx(ue,{label:"Resource list (menu)"})}),m.jsx(Ur,{icon:na,to:"/$locale/apps/derivean/root/default/inventory",params:{locale:e},children:m.jsx(ue,{label:"Default inventory (menu)"})}),m.jsx(Ur,{icon:F1,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"},{to:"/$locale/apps/derivean/root/user/$id/inventory"}],children:m.jsx(ue,{label:"User list (menu)"})}),m.jsx(Ur,{icon:yp,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},children:m.jsx(ue,{label:"Tag list (menu)"})})]})},yb=ne.object({id:ne.string(),name:ne.string(),login:ne.string()}),NG=_n("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return yb.parse(Jp.get("session"))}catch{throw Tv({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=Gn({from:"/$locale"}),{session:e}=Ud({from:"/$locale/apps/derivean/root"});return m.jsx(ZF,{logo:m.jsx(cr,{to:"/$locale/apps/derivean/root",params:{locale:t},children:m.jsx(i2,{})}),menu:m.jsx(EG,{}),actions:m.jsxs(m.Fragment,{children:[e.name,m.jsx(cr,{icon:r2,to:"/$locale/apps/derivean/game",params:{locale:t}}),m.jsx(cr,{icon:P1,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),fv="icon-[gala--clock]",s2=async({tx:t,userId:e,buildingId:n,blueprintProductionId:r})=>{const i=await t.selectFrom("Blueprint_Production as bp").select(["bp.cycles"]).where("bp.id","=",r).executeTakeFirstOrThrow(),{count:s}=await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow(),o=await t.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",r).execute();for await(const{resourceId:l,amount:c,passive:d}of o){const f=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",c).executeTakeFirstOrThrow();d||await t.updateTable("Inventory").set({amount:f.amount-c}).where("id","=",f.id).execute()}await t.insertInto("Production").values({id:Kn(),buildingId:n,blueprintProductionId:r,userId:e,cycle:0,from:s,to:s+i.cycles}).execute()},o2=100,kG=async({tx:t,userId:e})=>new Promise(n=>{setTimeout(async()=>{await t.insertInto("Cycle").values({id:Kn(),stamp:an.now().toUTC().toSQLTime(),userId:e}).execute();const r=(await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow()).count,i=await t.selectFrom("Construction as c").select(["c.id","c.cycle","c.to","c.blueprintId"]).where("userId","=",e).execute();for await(const{id:l,blueprintId:c,cycle:d,to:f}of i){if(r>f){await t.insertInto("Building").values({id:Kn(),blueprintId:c,userId:e}).execute(),await t.deleteFrom("Construction").where("id","=",l).execute();continue}await t.updateTable("Construction").set("cycle",d+1).where("id","=",l).execute()}const s=await t.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","p.cycle","p.to","bp.resourceId","r.name","bp.amount"]).where("userId","=",e).execute();for await(const{id:l,resourceId:c,cycle:d,to:f,amount:h}of s){if(r>f){const b=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","i.id","ui.inventoryId").select(["i.id","i.amount","i.limit"]).where("ui.userId","=",e).where("i.resourceId","=",c).executeTakeFirst();if(!b||b.limit>0&&b.amount+h>b.limit)continue;await t.updateTable("Inventory").set({amount:b.amount+h}).where("id","=",b.id).execute(),await t.deleteFrom("Production as p").where("p.id","=",l).execute();continue}await t.updateTable("Production").set("cycle",d+1).where("id","=",l).execute()}const o=await t.selectFrom("Production_Queue as pq").innerJoin("Blueprint_Production as bp","bp.id","pq.blueprintProductionId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["pq.id","pq.count","pq.limit","pq.blueprintProductionId","pq.buildingId","bl.productionLimit"]).where("pq.userId","=",e).orderBy("pq.priority","desc").execute();for await(const{id:l,count:c,limit:d,blueprintProductionId:f,buildingId:h,productionLimit:b}of o)try{const{count:x}=await t.selectFrom("Production as p").where("p.blueprintProductionId","=",f).select(_=>_.fn.count("p.id").as("count")).executeTakeFirstOrThrow();if(x>=b){console.log("Skipping production plan because of production limit");continue}await s2({tx:t,blueprintProductionId:f,buildingId:h,userId:e}),await t.updateTable("Production_Queue").set({count:c+1}).where("id","=",l).execute(),d>0&&c+1>=d&&await t.deleteFrom("Production_Queue").where("id","=",l).execute()}catch{}n(!0)},o2)}),IG=({userId:t,cycle:e,...n})=>{const r=Nr([["Cycle"],["Management"],["Resource_Queue"],["Building_Queue"],["Building"],["User_Inventory"],["Inventory"],["Building_Base_Production"]]),i=vn({mutationKey:["useCycleMutation"],async mutationFn({userId:s}){return zt.transaction().execute(async o=>kG({userId:s,tx:o}))},async onSuccess(){await r()}});return m.jsxs(On,{iconEnabled:fv,iconDisabled:fv,onClick:()=>{i.mutate({userId:t})},loading:i.isPending,...n,children:[m.jsx(ue,{css:{base:["font-bold"]},label:"New cycle (label)"}),m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx("div",{className:"font-light text-sm",children:Ln({number:e})}),m.jsx(Xt,{icon:"icon-[solar--arrow-right-linear]"}),m.jsx("div",{className:"font-bold",children:Ln({number:e+1})})]})]})},bo="icon-[fluent-mdl2--production-floor-management]",CG=t=>{const{locale:e}=Gn({from:"/$locale"});return m.jsxs(rf,{...t,children:[m.jsx(Ur,{icon:"icon-[et--map]",to:"/$locale/apps/derivean/game/map",params:{locale:e},children:m.jsx(ue,{label:"Map (menu)"})}),m.jsx(Ur,{icon:bo,to:"/$locale/apps/derivean/game/production/queue",params:{locale:e},children:m.jsx(ue,{label:"Production queue (menu)"})}),m.jsx(Ur,{icon:na,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:m.jsx(ue,{label:"Inventory (menu)"})})]})},OG=_n("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return yb.parse(Jp.get("session"))}catch{throw Tv({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{session:r,inventory:await t.ensureQueryData({queryKey:["User_Inventory"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.limit","i.resourceId"]).where("ui.userId","=",r.id).execute())}}),buildingCounts:await t.ensureQueryData({queryKey:["Building"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.blueprintId","bl.name",s=>s.fn.count("b.id").as("count")]).where("b.userId","=",r.id).groupBy("b.blueprintId").execute())}}),cycle:await t.ensureQueryData({queryKey:["Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component:()=>{const{locale:t}=Gn({from:"/$locale"}),{session:e,cycle:n}=Ud({from:"/$locale/apps/derivean/game"}),r=O4({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(i){return i.state.status}});return m.jsx(ZF,{logo:m.jsx(cr,{to:"/$locale/apps/derivean/game",params:{locale:t},children:m.jsx(i2,{})}),menu:m.jsxs("div",{className:"flex flex-row items-center gap-4",children:[m.jsx(CG,{}),m.jsx(IG,{cycle:n,userId:e.id})]}),actions:m.jsxs(m.Fragment,{children:[e.name,m.jsx(cr,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),m.jsx(cr,{icon:P1,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:m.jsx(Ba,{})})}});var uy={exports:{}},TG=uy.exports,mq;function qG(){return mq||(mq=1,function(t,e){(function(n,r){r()})(TG,function(){function n(d,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,f,h){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){c(b.response,f,h)},b.onerror=function(){console.error("could not download file")},b.send()}function i(d){var f=new XMLHttpRequest;f.open("HEAD",d,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Tu=="object"&&Tu.global===Tu?Tu:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,f,h){var b=o.URL||o.webkitURL,x=document.createElement("a");f=f||d.name||"download",x.download=f,x.rel="noopener",typeof d=="string"?(x.href=d,x.origin===location.origin?s(x):i(x.href)?r(d,f,h):s(x,x.target="_blank")):(x.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(d,f,h){if(f=f||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,h),f);else if(i(d))r(d,f,h);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,f,h,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return r(d,f,h);var x=d.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||x&&_||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var q=I.result;q=N?q:q.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=q:location=q,b=null},I.readAsDataURL(d)}else{var T=o.URL||o.webkitURL,O=T.createObjectURL(d);b?b.location=O:location.href=O,b=null,setTimeout(function(){T.revokeObjectURL(O)},4e4)}});o.saveAs=c.saveAs=c,t.exports=c})}(uy)),uy.exports}var RG=qG();const AG=zs(RG),K_=["Tag","Resource","Resource_Tag","Inventory","Blueprint","Blueprint_Dependency","Blueprint_Requirement","Blueprint_Production","Blueprint_Production_Requirement","Default_Inventory"],jG=_n("/$locale/apps/derivean/root/")({component(){const t=vn({mutationKey:["export"],async mutationFn(){return Sn.promise((async()=>{const e=[];await zt.transaction().execute(async n=>{for await(const r of K_)e.push({source:r,entities:await n.selectFrom(r).selectAll().execute()})}),AG.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"export.json")})(),Dr("Export game files"))}});return m.jsxs("div",{className:"flex flex-col gap-4 w-2/3 mx-auto",children:[m.jsx(jK,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text());await Vr`PRAGMA foreign_keys = OFF`.execute(zt),await Sn.promise(zt.transaction().execute(async i=>{for await(const{source:s}of r){const o=K_.find(l=>l===s);if(!o)throw new Error(`Unknown source [${s}]`);await i.deleteFrom(o).execute()}for await(const{source:s,entities:o}of r){const l=K_.find(c=>c===s);if(!l)throw new Error(`Unknown source [${s}]`);for await(const c of Object.values(o))await i.insertInto(l).values(c).execute()}}),Dr("Import game files")),await Vr`PRAGMA foreign_keys = ON`.execute(zt)}}),m.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:m.jsx(On,{iconEnabled:r2,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:m.jsx(ue,{label:"Export game files (label)"})})}),m.jsx("h2",{children:"TODO"}),m.jsxs("ul",{className:"flex flex-col gap-2",children:[m.jsx("li",{children:'Add exclusive to (building "exclusiveToId" cannot be built when target exists); Ok, exclusive to will be m:n.'}),m.jsx("li",{children:'Upgrades: Put everything into the building, drive upgrades by passive "Research" points'}),m.jsx("li",{children:"Production Queue List - managed by the user, takes the priority of the production (draggable/arrows?); this basically means production automation."}),m.jsx("li",{children:"Bundle default gameplay as exported json (put into public); add button to root to load default/selected gameplay; idea is a few buttons: Settler like, Fantasy, AoE and so on."}),m.jsx("li",{children:"Define game ending rules: amount of resources in (individual resourece per required cycle), required building in a cycle. When a player fail, game end with the ability to reset. Each game rule may have an ending message to show."}),m.jsx("li",{children:"Define winning rules: amount of resources / building built in specific cycle. When rules are not met, it's like a fail."}),m.jsx("li",{children:"Idea: Blueprint should have display list (like present resource in inventory), also production should have display list (like present resource in inventory)."}),m.jsx("li",{children:"Add something like world available resources + the ability to drain and add resources to the world. Something like Wolrd_Inventory where 0 means unlimited resources."}),m.jsx("li",{children:"World renewal resources: a list of resources with cycles and amount when they got renewed (world_renewal_queue)."}),m.jsx("li",{children:"Defines seasons: list of cyclic seasons with their length; resource production may be bound to specific season(s)."}),m.jsx("li",{children:"Add maintenance cost for a building: when a cycle ends, cost is deducted from the inventory. If there is not enough resources, building will be marked as offline (closed for production)."}),m.jsx("li",{children:"Dispaly resources per season (some resources will be available only in specific season)"}),m.jsx("li",{children:"Add resource probability drop: some resources may have not be produces (like a crop). This should be thinked out."})]})]})}}),PG=_n("/$locale/apps/derivean/game/")({component:()=>{const{tva:t}=gi({from:"__root__"}),e=t().slots;return m.jsx("div",{className:e.base(),children:m.jsx("div",{children:"management here"})})}});var G_,gq;function B1(){if(gq)return G_;gq=1;var t="\0",e="\0",n="\x01";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(f){f&&(this._isDirected=Object.hasOwn(f,"directed")?f.directed:!0,this._isMultigraph=Object.hasOwn(f,"multigraph")?f.multigraph:!1,this._isCompound=Object.hasOwn(f,"compound")?f.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(f){return this._label=f,this}graph(){return this._label}setDefaultNodeLabel(f){return this._defaultNodeLabelFn=f,typeof f!="function"&&(this._defaultNodeLabelFn=()=>f),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var f=this;return this.nodes().filter(h=>Object.keys(f._in[h]).length===0)}sinks(){var f=this;return this.nodes().filter(h=>Object.keys(f._out[h]).length===0)}setNodes(f,h){var b=arguments,x=this;return f.forEach(function(_){b.length>1?x.setNode(_,h):x.setNode(_)}),this}setNode(f,h){return Object.hasOwn(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=h),this):(this._nodes[f]=arguments.length>1?h:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=e,this._children[f]={},this._children[e][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)}node(f){return this._nodes[f]}hasNode(f){return Object.hasOwn(this._nodes,f)}removeNode(f){var h=this;if(Object.hasOwn(this._nodes,f)){var b=x=>h.removeEdge(h._edgeObjs[x]);delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],this.children(f).forEach(function(x){h.setParent(x)}),delete this._children[f]),Object.keys(this._in[f]).forEach(b),delete this._in[f],delete this._preds[f],Object.keys(this._out[f]).forEach(b),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this}setParent(f,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h===void 0)h=e;else{h+="";for(var b=h;b!==void 0;b=this.parent(b))if(b===f)throw new Error("Setting "+h+" as parent of "+f+" would create a cycle");this.setNode(h)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=h,this._children[h][f]=!0,this}_removeFromParentsChildList(f){delete this._children[this._parent[f]][f]}parent(f){if(this._isCompound){var h=this._parent[f];if(h!==e)return h}}children(f=e){if(this._isCompound){var h=this._children[f];if(h)return Object.keys(h)}else{if(f===e)return this.nodes();if(this.hasNode(f))return[]}}predecessors(f){var h=this._preds[f];if(h)return Object.keys(h)}successors(f){var h=this._sucs[f];if(h)return Object.keys(h)}neighbors(f){var h=this.predecessors(f);if(h){const x=new Set(h);for(var b of this.successors(f))x.add(b);return Array.from(x.values())}}isLeaf(f){var h;return this.isDirected()?h=this.successors(f):h=this.neighbors(f),h.length===0}filterNodes(f){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var b=this;Object.entries(this._nodes).forEach(function([N,I]){f(N)&&h.setNode(N,I)}),Object.values(this._edgeObjs).forEach(function(N){h.hasNode(N.v)&&h.hasNode(N.w)&&h.setEdge(N,b.edge(N))});var x={};function _(N){var I=b.parent(N);return I===void 0||h.hasNode(I)?(x[N]=I,I):I in x?x[I]:_(I)}return this._isCompound&&h.nodes().forEach(N=>h.setParent(N,_(N))),h}setDefaultEdgeLabel(f){return this._defaultEdgeLabelFn=f,typeof f!="function"&&(this._defaultEdgeLabelFn=()=>f),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(f,h){var b=this,x=arguments;return f.reduce(function(_,N){return x.length>1?b.setEdge(_,N,h):b.setEdge(_,N),N}),this}setEdge(){var f,h,b,x,_=!1,N=arguments[0];typeof N=="object"&&N!==null&&"v"in N?(f=N.v,h=N.w,b=N.name,arguments.length===2&&(x=arguments[1],_=!0)):(f=N,h=arguments[1],b=arguments[3],arguments.length>2&&(x=arguments[2],_=!0)),f=""+f,h=""+h,b!==void 0&&(b=""+b);var I=o(this._isDirected,f,h,b);if(Object.hasOwn(this._edgeLabels,I))return _&&(this._edgeLabels[I]=x),this;if(b!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(h),this._edgeLabels[I]=_?x:this._defaultEdgeLabelFn(f,h,b);var T=l(this._isDirected,f,h,b);return f=T.v,h=T.w,Object.freeze(T),this._edgeObjs[I]=T,i(this._preds[h],f),i(this._sucs[f],h),this._in[h][I]=T,this._out[f][I]=T,this._edgeCount++,this}edge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b);return this._edgeLabels[x]}edgeAsObj(){const f=this.edge(...arguments);return typeof f!="object"?{label:f}:f}hasEdge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b);return Object.hasOwn(this._edgeLabels,x)}removeEdge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b),_=this._edgeObjs[x];return _&&(f=_.v,h=_.w,delete this._edgeLabels[x],delete this._edgeObjs[x],s(this._preds[h],f),s(this._sucs[f],h),delete this._in[h][x],delete this._out[f][x],this._edgeCount--),this}inEdges(f,h){var b=this._in[f];if(b){var x=Object.values(b);return h?x.filter(_=>_.v===h):x}}outEdges(f,h){var b=this._out[f];if(b){var x=Object.values(b);return h?x.filter(_=>_.w===h):x}}nodeEdges(f,h){var b=this.inEdges(f,h);if(b)return b.concat(this.outEdges(f,h))}}function i(d,f){d[f]?d[f]++:d[f]=1}function s(d,f){--d[f]||delete d[f]}function o(d,f,h,b){var x=""+f,_=""+h;if(!d&&x>_){var N=x;x=_,_=N}return x+n+_+n+(b===void 0?t:b)}function l(d,f,h,b){var x=""+f,_=""+h;if(!d&&x>_){var N=x;x=_,_=N}var I={v:x,w:_};return b&&(I.name=b),I}function c(d,f){return o(d,f.v,f.w,f.name)}return G_=r,G_}var Z_,yq;function FG(){return yq||(yq=1,Z_="2.2.4"),Z_}var J_,vq;function DG(){return vq||(vq=1,J_={Graph:B1(),version:FG()}),J_}var Y_,bq;function LG(){if(bq)return Y_;bq=1;var t=B1();Y_={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var l=s.node(o),c=s.parent(o),d={v:o};return l!==void 0&&(d.value=l),c!==void 0&&(d.parent=c),d})}function r(s){return s.edges().map(function(o){var l=s.edge(o),c={v:o.v,w:o.w};return o.name!==void 0&&(c.name=o.name),l!==void 0&&(c.value=l),c})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),s.edges.forEach(function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return Y_}var X_,xq;function MG(){if(xq)return X_;xq=1,X_=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return X_}var e0,wq;function a2(){if(wq)return e0;wq=1;class t{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],l=i[r];i[n]=l,i[r]=o,s[l.key]=n,s[o.key]=r}}return e0=t,e0}var t0,_q;function l2(){if(_q)return t0;_q=1;var t=a2();t0=n;var e=()=>1;function n(i,s,o,l){return r(i,String(s),o||e,l||function(c){return i.outEdges(c)})}function r(i,s,o,l){var c={},d=new t,f,h,b=function(x){var _=x.v!==f?x.v:x.w,N=c[_],I=o(x),T=h.distance+I;if(I<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+I);T<N.distance&&(N.distance=T,N.predecessor=f,d.decrease(_,T))};for(i.nodes().forEach(function(x){var _=x===s?0:Number.POSITIVE_INFINITY;c[x]={distance:_},d.add(x,_)});d.size()>0&&(f=d.removeMin(),h=c[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(b);return c}return t0}var n0,Sq;function $G(){if(Sq)return n0;Sq=1;var t=l2();n0=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return n0}var r0,Eq;function u2(){if(Eq)return r0;Eq=1,r0=t;function t(e){var n=0,r=[],i={},s=[];function o(l){var c=i[l]={onStack:!0,lowlink:n,index:n++};if(r.push(l),e.successors(l).forEach(function(h){Object.hasOwn(i,h)?i[h].onStack&&(c.lowlink=Math.min(c.lowlink,i[h].index)):(o(h),c.lowlink=Math.min(c.lowlink,i[h].lowlink))}),c.lowlink===c.index){var d=[],f;do f=r.pop(),i[f].onStack=!1,d.push(f);while(l!==f);s.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||o(l)}),s}return r0}var i0,Nq;function BG(){if(Nq)return i0;Nq=1;var t=u2();i0=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return i0}var s0,kq;function zG(){if(kq)return s0;kq=1,s0=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},l=r.nodes();return l.forEach(function(c){o[c]={},o[c][c]={distance:0},l.forEach(function(d){c!==d&&(o[c][d]={distance:Number.POSITIVE_INFINITY})}),s(c).forEach(function(d){var f=d.v===c?d.w:d.v,h=i(d);o[c][f]={distance:h,predecessor:c}})}),l.forEach(function(c){var d=o[c];l.forEach(function(f){var h=o[f];l.forEach(function(b){var x=h[c],_=d[b],N=h[b],I=x.distance+_.distance;I<N.distance&&(N.distance=I,N.predecessor=_.predecessor)})})}),o}return s0}var o0,Iq;function c2(){if(Iq)return o0;Iq=1;function t(n){var r={},i={},s=[];function o(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(r,l)||(i[l]=!0,r[l]=!0,n.predecessors(l).forEach(o),delete i[l],s.push(l))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return o0=t,t.CycleException=e,o0}var a0,Cq;function WG(){if(Cq)return a0;Cq=1;var t=c2();a0=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return a0}var l0,Oq;function d2(){if(Oq)return l0;Oq=1,l0=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var l=i.isDirected()?h=>i.successors(h):h=>i.neighbors(h),c=o==="post"?e:n,d=[],f={};return s.forEach(h=>{if(!i.hasNode(h))throw new Error("Graph does not have node: "+h);c(h,l,f,d)}),d}function e(i,s,o,l){for(var c=[[i,!1]];c.length>0;){var d=c.pop();d[1]?l.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,c.push([d[0],!0]),r(s(d[0]),f=>c.push([f,!1])))}}function n(i,s,o,l){for(var c=[i];c.length>0;){var d=c.pop();Object.hasOwn(o,d)||(o[d]=!0,l.push(d),r(s(d),f=>c.push(f)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return l0}var u0,Tq;function UG(){if(Tq)return u0;Tq=1;var t=d2();u0=e;function e(n,r){return t(n,r,"post")}return u0}var c0,qq;function VG(){if(qq)return c0;qq=1;var t=d2();c0=e;function e(n,r){return t(n,r,"pre")}return c0}var d0,Rq;function HG(){if(Rq)return d0;Rq=1;var t=B1(),e=a2();d0=n;function n(r,i){var s=new t,o={},l=new e,c;function d(h){var b=h.v===c?h.w:h.v,x=l.priority(b);if(x!==void 0){var _=i(h);_<x&&(o[b]=c,l.decrease(b,_))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(r.nodes()[0],0);for(var f=!1;l.size()>0;){if(c=l.removeMin(),Object.hasOwn(o,c))s.setEdge(c,o[c]);else{if(f)throw new Error("Input graph is not connected: "+r);f=!0}r.nodeEdges(c).forEach(d)}return s}return d0}var f0,Aq;function QG(){return Aq||(Aq=1,f0={components:MG(),dijkstra:l2(),dijkstraAll:$G(),findCycles:BG(),floydWarshall:zG(),isAcyclic:WG(),postorder:UG(),preorder:VG(),prim:HG(),tarjan:u2(),topsort:c2()}),f0}var h0,jq;function So(){if(jq)return h0;jq=1;var t=DG();return h0={Graph:t.Graph,json:LG(),alg:QG(),version:t.version},h0}var p0,Pq;function KG(){if(Pq)return p0;Pq=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return p0=t,p0}var m0,Fq;function GG(){if(Fq)return m0;Fq=1;let t=So().Graph,e=KG();m0=r;let n=()=>1;function r(d,f){if(d.nodeCount()<=1)return[];let h=o(d,f||n);return i(h.graph,h.buckets,h.zeroIdx).flatMap(x=>d.outEdges(x.v,x.w))}function i(d,f,h){let b=[],x=f[f.length-1],_=f[0],N;for(;d.nodeCount();){for(;N=_.dequeue();)s(d,f,h,N);for(;N=x.dequeue();)s(d,f,h,N);if(d.nodeCount()){for(let I=f.length-2;I>0;--I)if(N=f[I].dequeue(),N){b=b.concat(s(d,f,h,N,!0));break}}}return b}function s(d,f,h,b,x){let _=x?[]:void 0;return d.inEdges(b.v).forEach(N=>{let I=d.edge(N),T=d.node(N.v);x&&_.push({v:N.v,w:N.w}),T.out-=I,l(f,h,T)}),d.outEdges(b.v).forEach(N=>{let I=d.edge(N),T=N.w,O=d.node(T);O.in-=I,l(f,h,O)}),d.removeNode(b.v),_}function o(d,f){let h=new t,b=0,x=0;d.nodes().forEach(I=>{h.setNode(I,{v:I,in:0,out:0})}),d.edges().forEach(I=>{let T=h.edge(I.v,I.w)||0,O=f(I),q=T+O;h.setEdge(I.v,I.w,q),x=Math.max(x,h.node(I.v).out+=O),b=Math.max(b,h.node(I.w).in+=O)});let _=c(x+b+3).map(()=>new e),N=b+1;return h.nodes().forEach(I=>{l(_,N,h.node(I))}),{graph:h,buckets:_,zeroIdx:N}}function l(d,f,h){h.out?h.in?d[h.out-h.in+f].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}function c(d){const f=[];for(let h=0;h<d;h++)f.push(h);return f}return m0}var g0,Dq;function Fr(){if(Dq)return g0;Dq=1;let t=So().Graph;g0={addBorderNode:f,addDummyNode:e,applyWithChunking:x,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:o,mapValues:L,maxRank:_,normalizeRanks:c,notime:T,partition:N,pick:D,predecessorWeights:s,range:j,removeEmptyRanks:d,simplify:n,successorWeights:i,time:I,uniqueId:q,zipObject:z};function e(P,R,B,F){let W;do W=q(F);while(P.hasNode(W));return B.dummy=R,P.setNode(W,B),W}function n(P){let R=new t().setGraph(P.graph());return P.nodes().forEach(B=>R.setNode(B,P.node(B))),P.edges().forEach(B=>{let F=R.edge(B.v,B.w)||{weight:0,minlen:1},W=P.edge(B);R.setEdge(B.v,B.w,{weight:F.weight+W.weight,minlen:Math.max(F.minlen,W.minlen)})}),R}function r(P){let R=new t({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(B=>{P.children(B).length||R.setNode(B,P.node(B))}),P.edges().forEach(B=>{R.setEdge(B,P.edge(B))}),R}function i(P){let R=P.nodes().map(B=>{let F={};return P.outEdges(B).forEach(W=>{F[W.w]=(F[W.w]||0)+P.edge(W).weight}),F});return z(P.nodes(),R)}function s(P){let R=P.nodes().map(B=>{let F={};return P.inEdges(B).forEach(W=>{F[W.v]=(F[W.v]||0)+P.edge(W).weight}),F});return z(P.nodes(),R)}function o(P,R){let B=P.x,F=P.y,W=R.x-B,U=R.y-F,$=P.width/2,X=P.height/2;if(!W&&!U)throw new Error("Not possible to find intersection inside of the rectangle");let Z,ae;return Math.abs(U)*$>Math.abs(W)*X?(U<0&&(X=-X),Z=X*W/U,ae=X):(W<0&&($=-$),Z=$,ae=$*U/W),{x:B+Z,y:F+ae}}function l(P){let R=j(_(P)+1).map(()=>[]);return P.nodes().forEach(B=>{let F=P.node(B),W=F.rank;W!==void 0&&(R[W][F.order]=B)}),R}function c(P){let R=P.nodes().map(F=>{let W=P.node(F).rank;return W===void 0?Number.MAX_VALUE:W}),B=x(Math.min,R);P.nodes().forEach(F=>{let W=P.node(F);Object.hasOwn(W,"rank")&&(W.rank-=B)})}function d(P){let R=P.nodes().map($=>P.node($).rank),B=x(Math.min,R),F=[];P.nodes().forEach($=>{let X=P.node($).rank-B;F[X]||(F[X]=[]),F[X].push($)});let W=0,U=P.graph().nodeRankFactor;Array.from(F).forEach(($,X)=>{$===void 0&&X%U!==0?--W:$!==void 0&&W&&$.forEach(Z=>P.node(Z).rank+=W)})}function f(P,R,B,F){let W={width:0,height:0};return arguments.length>=4&&(W.rank=B,W.order=F),e(P,"border",W,R)}function h(P,R=b){const B=[];for(let F=0;F<P.length;F+=R){const W=P.slice(F,F+R);B.push(W)}return B}const b=65535;function x(P,R){if(R.length>b){const B=h(R);return P.apply(null,B.map(F=>P.apply(null,F)))}else return P.apply(null,R)}function _(P){const B=P.nodes().map(F=>{let W=P.node(F).rank;return W===void 0?Number.MIN_VALUE:W});return x(Math.max,B)}function N(P,R){let B={lhs:[],rhs:[]};return P.forEach(F=>{R(F)?B.lhs.push(F):B.rhs.push(F)}),B}function I(P,R){let B=Date.now();try{return R()}finally{console.log(P+" time: "+(Date.now()-B)+"ms")}}function T(P,R){return R()}let O=0;function q(P){var R=++O;return toString(P)+R}function j(P,R,B=1){R==null&&(R=P,P=0);let F=U=>U<R;B<0&&(F=U=>R<U);const W=[];for(let U=P;F(U);U+=B)W.push(U);return W}function D(P,R){const B={};for(const F of R)P[F]!==void 0&&(B[F]=P[F]);return B}function L(P,R){let B=R;return typeof R=="string"&&(B=F=>F[R]),Object.entries(P).reduce((F,[W,U])=>(F[W]=B(U,W),F),{})}function z(P,R){return P.reduce((B,F,W)=>(B[F]=R[W],B),{})}return g0}var y0,Lq;function ZG(){if(Lq)return y0;Lq=1;let t=GG(),e=Fr().uniqueId;y0={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,l(s)):r(s)).forEach(c=>{let d=s.edge(c);s.removeEdge(c),d.forwardName=c.name,d.reversed=!0,s.setEdge(c.w,c.v,d,e("rev"))});function l(c){return d=>c.edge(d).weight}}function r(s){let o=[],l={},c={};function d(f){Object.hasOwn(c,f)||(c[f]=!0,l[f]=!0,s.outEdges(f).forEach(h=>{Object.hasOwn(l,h.w)?o.push(h):d(h.w)}),delete l[f])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let l=s.edge(o);if(l.reversed){s.removeEdge(o);let c=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,c)}})}return y0}var v0,Mq;function JG(){if(Mq)return v0;Mq=1;let t=Fr();v0={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,l=i.node(o).rank,c=s.w,d=i.node(c).rank,f=s.name,h=i.edge(s),b=h.labelRank;if(d===l+1)return;i.removeEdge(s);let x,_,N;for(N=0,++l;l<d;++N,++l)h.points=[],_={width:0,height:0,edgeLabel:h,edgeObj:s,rank:l},x=t.addDummyNode(i,"edge",_,"_d"),l===b&&(_.width=h.width,_.height=h.height,_.dummy="edge-label",_.labelpos=h.labelpos),i.setEdge(o,x,{weight:h.weight},f),N===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,c,{weight:h.weight},f)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),l=o.edgeLabel,c;for(i.setEdge(o.edgeObj,l);o.dummy;)c=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=c,o=i.node(s)})}return v0}var b0,$q;function hv(){if($q)return b0;$q=1;const{applyWithChunking:t}=Fr();b0={longestPath:e,slack:n};function e(r){var i={};function s(o){var l=r.node(o);if(Object.hasOwn(i,o))return l.rank;i[o]=!0;let c=r.outEdges(o).map(f=>f==null?Number.POSITIVE_INFINITY:s(f.w)-r.edge(f).minlen);var d=t(Math.min,c);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return b0}var x0,Bq;function f2(){if(Bq)return x0;Bq=1;var t=So().Graph,e=hv().slack;x0=n;function n(o){var l=new t({directed:!1}),c=o.nodes()[0],d=o.nodeCount();l.setNode(c,{});for(var f,h;r(l,o)<d;)f=i(l,o),h=l.hasNode(f.v)?e(o,f):-e(o,f),s(l,o,h);return l}function r(o,l){function c(d){l.nodeEdges(d).forEach(f=>{var h=f.v,b=d===h?f.w:h;!o.hasNode(b)&&!e(l,f)&&(o.setNode(b,{}),o.setEdge(d,b,{}),c(b))})}return o.nodes().forEach(c),o.nodeCount()}function i(o,l){return l.edges().reduce((d,f)=>{let h=Number.POSITIVE_INFINITY;return o.hasNode(f.v)!==o.hasNode(f.w)&&(h=e(l,f)),h<d[0]?[h,f]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,l,c){o.nodes().forEach(d=>l.node(d).rank+=c)}return x0}var w0,zq;function YG(){if(zq)return w0;zq=1;var t=f2(),e=hv().slack,n=hv().longestPath,r=So().alg.preorder,i=So().alg.postorder,s=Fr().simplify;w0=o,o.initLowLimValues=f,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=b,o.enterEdge=x,o.exchangeEdges=_;function o(O){O=s(O),n(O);var q=t(O);f(q),l(q,O);for(var j,D;j=b(q);)D=x(q,O,j),_(q,O,j,D)}function l(O,q){var j=i(O,O.nodes());j=j.slice(0,j.length-1),j.forEach(D=>c(O,q,D))}function c(O,q,j){var D=O.node(j),L=D.parent;O.edge(j,L).cutvalue=d(O,q,j)}function d(O,q,j){var D=O.node(j),L=D.parent,z=!0,P=q.edge(j,L),R=0;return P||(z=!1,P=q.edge(L,j)),R=P.weight,q.nodeEdges(j).forEach(B=>{var F=B.v===j,W=F?B.w:B.v;if(W!==L){var U=F===z,$=q.edge(B).weight;if(R+=U?$:-$,I(O,j,W)){var X=O.edge(j,W).cutvalue;R+=U?-X:X}}}),R}function f(O,q){arguments.length<2&&(q=O.nodes()[0]),h(O,{},1,q)}function h(O,q,j,D,L){var z=j,P=O.node(D);return q[D]=!0,O.neighbors(D).forEach(R=>{Object.hasOwn(q,R)||(j=h(O,q,j,R,D))}),P.low=z,P.lim=j++,L?P.parent=L:delete P.parent,j}function b(O){return O.edges().find(q=>O.edge(q).cutvalue<0)}function x(O,q,j){var D=j.v,L=j.w;q.hasEdge(D,L)||(D=j.w,L=j.v);var z=O.node(D),P=O.node(L),R=z,B=!1;z.lim>P.lim&&(R=P,B=!0);var F=q.edges().filter(W=>B===T(O,O.node(W.v),R)&&B!==T(O,O.node(W.w),R));return F.reduce((W,U)=>e(q,U)<e(q,W)?U:W)}function _(O,q,j,D){var L=j.v,z=j.w;O.removeEdge(L,z),O.setEdge(D.v,D.w,{}),f(O),l(O,q),N(O,q)}function N(O,q){var j=O.nodes().find(L=>!q.node(L).parent),D=r(O,j);D=D.slice(1),D.forEach(L=>{var z=O.node(L).parent,P=q.edge(L,z),R=!1;P||(P=q.edge(z,L),R=!0),q.node(L).rank=q.node(z).rank+(R?P.minlen:-P.minlen)})}function I(O,q,j){return O.hasEdge(q,j)}function T(O,q,j){return j.low<=q.lim&&q.lim<=j.lim}return w0}var _0,Wq;function XG(){if(Wq)return _0;Wq=1;var t=hv(),e=t.longestPath,n=f2(),r=YG();_0=i;function i(c){switch(c.graph().ranker){case"network-simplex":l(c);break;case"tight-tree":o(c);break;case"longest-path":s(c);break;default:l(c)}}var s=e;function o(c){e(c),n(c)}function l(c){r(c)}return _0}var S0,Uq;function eZ(){if(Uq)return S0;Uq=1,S0=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),l=o.edgeObj,c=e(r,i,l.v,l.w),d=c.path,f=c.lca,h=0,b=d[h],x=!0;for(;s!==l.w;){if(o=r.node(s),x){for(;(b=d[h])!==f&&r.node(b).maxRank<o.rank;)h++;b===f&&(x=!1)}if(!x){for(;h<d.length-1&&r.node(b=d[h+1]).minRank<=o.rank;)h++;b=d[h]}r.setParent(s,b),s=r.successors(s)[0]}})}function e(r,i,s,o){let l=[],c=[],d=Math.min(i[s].low,i[o].low),f=Math.max(i[s].lim,i[o].lim),h,b;h=s;do h=r.parent(h),l.push(h);while(h&&(i[h].low>d||f>i[h].lim));for(b=h,h=o;(h=r.parent(h))!==b;)c.push(h);return{path:l.concat(c.reverse()),lca:b}}function n(r){let i={},s=0;function o(l){let c=s;r.children(l).forEach(o),i[l]={low:c,lim:s++}}return r.children().forEach(o),i}return S0}var E0,Vq;function tZ(){if(Vq)return E0;Vq=1;let t=Fr();E0={run:e,cleanup:s};function e(o){let l=t.addDummyNode(o,"root",{},"_root"),c=r(o),d=Object.values(c),f=t.applyWithChunking(Math.max,d)-1,h=2*f+1;o.graph().nestingRoot=l,o.edges().forEach(x=>o.edge(x).minlen*=h);let b=i(o)+1;o.children().forEach(x=>n(o,l,h,b,f,c,x)),o.graph().nodeRankFactor=h}function n(o,l,c,d,f,h,b){let x=o.children(b);if(!x.length){b!==l&&o.setEdge(l,b,{weight:0,minlen:c});return}let _=t.addBorderNode(o,"_bt"),N=t.addBorderNode(o,"_bb"),I=o.node(b);o.setParent(_,b),I.borderTop=_,o.setParent(N,b),I.borderBottom=N,x.forEach(T=>{n(o,l,c,d,f,h,T);let O=o.node(T),q=O.borderTop?O.borderTop:T,j=O.borderBottom?O.borderBottom:T,D=O.borderTop?d:2*d,L=q!==j?1:f-h[b]+1;o.setEdge(_,q,{weight:D,minlen:L,nestingEdge:!0}),o.setEdge(j,N,{weight:D,minlen:L,nestingEdge:!0})}),o.parent(b)||o.setEdge(l,_,{weight:0,minlen:f+h[b]})}function r(o){var l={};function c(d,f){var h=o.children(d);h&&h.length&&h.forEach(b=>c(b,f+1)),l[d]=f}return o.children().forEach(d=>c(d,1)),l}function i(o){return o.edges().reduce((l,c)=>l+o.edge(c).weight,0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(c=>{var d=o.edge(c);d.nestingEdge&&o.removeEdge(c)})}return E0}var N0,Hq;function nZ(){if(Hq)return N0;Hq=1;let t=Fr();N0=e;function e(r){function i(s){let o=r.children(s),l=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let c=l.minRank,d=l.maxRank+1;c<d;++c)n(r,"borderLeft","_bl",s,l,c),n(r,"borderRight","_br",s,l,c)}}r.children().forEach(i)}function n(r,i,s,o,l,c){let d={width:0,height:0,rank:c,borderType:i},f=l[i][c-1],h=t.addDummyNode(r,"border",d,s);l[i][c]=h,r.setParent(h,o),f&&r.setEdge(f,h,{weight:1})}return N0}var k0,Qq;function rZ(){if(Qq)return k0;Qq=1,k0={adjust:t,undo:e};function t(c){let d=c.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(c)}function e(c){let d=c.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(c),(d==="lr"||d==="rl")&&(o(c),n(c))}function n(c){c.nodes().forEach(d=>r(c.node(d))),c.edges().forEach(d=>r(c.edge(d)))}function r(c){let d=c.width;c.width=c.height,c.height=d}function i(c){c.nodes().forEach(d=>s(c.node(d))),c.edges().forEach(d=>{let f=c.edge(d);f.points.forEach(s),Object.hasOwn(f,"y")&&s(f)})}function s(c){c.y=-c.y}function o(c){c.nodes().forEach(d=>l(c.node(d))),c.edges().forEach(d=>{let f=c.edge(d);f.points.forEach(l),Object.hasOwn(f,"x")&&l(f)})}function l(c){let d=c.x;c.x=c.y,c.y=d}return k0}var I0,Kq;function iZ(){if(Kq)return I0;Kq=1;let t=Fr();I0=e;function e(n){let r={},i=n.nodes().filter(f=>!n.children(f).length),s=i.map(f=>n.node(f).rank),o=t.applyWithChunking(Math.max,s),l=t.range(o+1).map(()=>[]);function c(f){if(r[f])return;r[f]=!0;let h=n.node(f);l[h.rank].push(f),n.successors(f).forEach(c)}return i.sort((f,h)=>n.node(f).rank-n.node(h).rank).forEach(c),l}return I0}var C0,Gq;function sZ(){if(Gq)return C0;Gq=1;let t=Fr().zipObject;C0=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((b,x)=>x)),l=i.flatMap(b=>r.outEdges(b).map(x=>({pos:o[x.w],weight:r.edge(x).weight})).sort((x,_)=>x.pos-_.pos)),c=1;for(;c<s.length;)c<<=1;let d=2*c-1;c-=1;let f=new Array(d).fill(0),h=0;return l.forEach(b=>{let x=b.pos+c;f[x]+=b.weight;let _=0;for(;x>0;)x%2&&(_+=f[x+1]),x=x-1>>1,f[x]+=b.weight;h+=b.weight*_}),h}return C0}var O0,Zq;function oZ(){if(Zq)return O0;Zq=1,O0=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,l)=>{let c=e.edge(l),d=e.node(l.v);return{sum:o.sum+c.weight*d.order,weight:o.weight+c.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return O0}var T0,Jq;function aZ(){if(Jq)return T0;Jq=1;let t=Fr();T0=e;function e(i,s){let o={};i.forEach((c,d)=>{let f=o[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:d};c.barycenter!==void 0&&(f.barycenter=c.barycenter,f.weight=c.weight)}),s.edges().forEach(c=>{let d=o[c.v],f=o[c.w];d!==void 0&&f!==void 0&&(f.indegree++,d.out.push(o[c.w]))});let l=Object.values(o).filter(c=>!c.indegree);return n(l)}function n(i){let s=[];function o(c){return d=>{d.merged||(d.barycenter===void 0||c.barycenter===void 0||d.barycenter>=c.barycenter)&&r(c,d)}}function l(c){return d=>{d.in.push(c),--d.indegree===0&&i.push(d)}}for(;i.length;){let c=i.pop();s.push(c),c.in.reverse().forEach(o(c)),c.out.forEach(l(c))}return s.filter(c=>!c.merged).map(c=>t.pick(c,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,l=0;i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),s.weight&&(o+=s.barycenter*s.weight,l+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/l,i.weight=l,i.i=Math.min(s.i,i.i),s.merged=!0}return T0}var q0,Yq;function lZ(){if(Yq)return q0;Yq=1;let t=Fr();q0=e;function e(i,s){let o=t.partition(i,_=>Object.hasOwn(_,"barycenter")),l=o.lhs,c=o.rhs.sort((_,N)=>N.i-_.i),d=[],f=0,h=0,b=0;l.sort(r(!!s)),b=n(d,c,b),l.forEach(_=>{b+=_.vs.length,d.push(_.vs),f+=_.barycenter*_.weight,h+=_.weight,b=n(d,c,b)});let x={vs:d.flat(!0)};return h&&(x.barycenter=f/h,x.weight=h),x}function n(i,s,o){let l;for(;s.length&&(l=s[s.length-1]).i<=o;)s.pop(),i.push(l.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return q0}var R0,Xq;function uZ(){if(Xq)return R0;Xq=1;let t=oZ(),e=aZ(),n=lZ();R0=r;function r(o,l,c,d){let f=o.children(l),h=o.node(l),b=h?h.borderLeft:void 0,x=h?h.borderRight:void 0,_={};b&&(f=f.filter(O=>O!==b&&O!==x));let N=t(o,f);N.forEach(O=>{if(o.children(O.v).length){let q=r(o,O.v,c,d);_[O.v]=q,Object.hasOwn(q,"barycenter")&&s(O,q)}});let I=e(N,c);i(I,_);let T=n(I,d);if(b&&(T.vs=[b,T.vs,x].flat(!0),o.predecessors(b).length)){let O=o.node(o.predecessors(b)[0]),q=o.node(o.predecessors(x)[0]);Object.hasOwn(T,"barycenter")||(T.barycenter=0,T.weight=0),T.barycenter=(T.barycenter*T.weight+O.order+q.order)/(T.weight+2),T.weight+=2}return T}function i(o,l){o.forEach(c=>{c.vs=c.vs.flatMap(d=>l[d]?l[d].vs:d)})}function s(o,l){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)}return R0}var A0,e3;function cZ(){if(e3)return A0;e3=1;let t=So().Graph,e=Fr();A0=n;function n(i,s,o){let l=r(i),c=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let f=i.node(d),h=i.parent(d);(f.rank===s||f.minRank<=s&&s<=f.maxRank)&&(c.setNode(d),c.setParent(d,h||l),i[o](d).forEach(b=>{let x=b.v===d?b.w:b.v,_=c.edge(x,d),N=_!==void 0?_.weight:0;c.setEdge(x,d,{weight:i.edge(b).weight+N})}),Object.hasOwn(f,"minRank")&&c.setNode(d,{borderLeft:f.borderLeft[s],borderRight:f.borderRight[s]}))}),c}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return A0}var j0,t3;function dZ(){if(t3)return j0;t3=1,j0=t;function t(e,n,r){let i={},s;r.forEach(o=>{let l=e.parent(o),c,d;for(;l;){if(c=e.parent(l),c?(d=i[c],i[c]=l):(d=s,s=l),d&&d!==l){n.setEdge(d,l);return}l=c}})}return j0}var P0,n3;function fZ(){if(n3)return P0;n3=1;let t=iZ(),e=sZ(),n=uZ(),r=cZ(),i=dZ(),s=So().Graph,o=Fr();P0=l;function l(h,b){if(b&&typeof b.customOrder=="function"){b.customOrder(h,l);return}let x=o.maxRank(h),_=c(h,o.range(1,x+1),"inEdges"),N=c(h,o.range(x-1,-1,-1),"outEdges"),I=t(h);if(f(h,I),b&&b.disableOptimalOrderHeuristic)return;let T=Number.POSITIVE_INFINITY,O;for(let q=0,j=0;j<4;++q,++j){d(q%2?_:N,q%4>=2),I=o.buildLayerMatrix(h);let D=e(h,I);D<T&&(j=0,O=Object.assign({},I),T=D)}f(h,O)}function c(h,b,x){return b.map(function(_){return r(h,_,x)})}function d(h,b){let x=new s;h.forEach(function(_){let N=_.graph().root,I=n(_,N,x,b);I.vs.forEach((T,O)=>_.node(T).order=O),i(_,x,I.vs)})}function f(h,b){Object.values(b).forEach(x=>x.forEach((_,N)=>h.node(_).order=N))}return P0}var F0,r3;function hZ(){if(r3)return F0;r3=1;let t=So().Graph,e=Fr();F0={positionX:x,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:h,findSmallestWidthAlignment:f,balance:b};function n(I,T){let O={};function q(j,D){let L=0,z=0,P=j.length,R=D[D.length-1];return D.forEach((B,F)=>{let W=i(I,B),U=W?I.node(W).order:P;(W||B===R)&&(D.slice(z,F+1).forEach($=>{I.predecessors($).forEach(X=>{let Z=I.node(X),ae=Z.order;(ae<L||U<ae)&&!(Z.dummy&&I.node($).dummy)&&s(O,X,$)})}),z=F+1,L=U)}),D}return T.length&&T.reduce(q),O}function r(I,T){let O={};function q(D,L,z,P,R){let B;e.range(L,z).forEach(F=>{B=D[F],I.node(B).dummy&&I.predecessors(B).forEach(W=>{let U=I.node(W);U.dummy&&(U.order<P||U.order>R)&&s(O,W,B)})})}function j(D,L){let z=-1,P,R=0;return L.forEach((B,F)=>{if(I.node(B).dummy==="border"){let W=I.predecessors(B);W.length&&(P=I.node(W[0]).order,q(L,R,F,z,P),R=F,z=P)}q(L,R,L.length,P,D.length)}),L}return T.length&&T.reduce(j),O}function i(I,T){if(I.node(T).dummy)return I.predecessors(T).find(O=>I.node(O).dummy)}function s(I,T,O){if(T>O){let j=T;T=O,O=j}let q=I[T];q||(I[T]=q={}),q[O]=!0}function o(I,T,O){if(T>O){let q=T;T=O,O=q}return!!I[T]&&Object.hasOwn(I[T],O)}function l(I,T,O,q){let j={},D={},L={};return T.forEach(z=>{z.forEach((P,R)=>{j[P]=P,D[P]=P,L[P]=R})}),T.forEach(z=>{let P=-1;z.forEach(R=>{let B=q(R);if(B.length){B=B.sort((W,U)=>L[W]-L[U]);let F=(B.length-1)/2;for(let W=Math.floor(F),U=Math.ceil(F);W<=U;++W){let $=B[W];D[R]===R&&P<L[$]&&!o(O,R,$)&&(D[$]=R,D[R]=j[R]=j[$],P=L[$])}}})}),{root:j,align:D}}function c(I,T,O,q,j){let D={},L=d(I,T,O,j),z=j?"borderLeft":"borderRight";function P(F,W){let U=L.nodes(),$=U.pop(),X={};for(;$;)X[$]?F($):(X[$]=!0,U.push($),U=U.concat(W($))),$=U.pop()}function R(F){D[F]=L.inEdges(F).reduce((W,U)=>Math.max(W,D[U.v]+L.edge(U)),0)}function B(F){let W=L.outEdges(F).reduce(($,X)=>Math.min($,D[X.w]-L.edge(X)),Number.POSITIVE_INFINITY),U=I.node(F);W!==Number.POSITIVE_INFINITY&&U.borderType!==z&&(D[F]=Math.max(D[F],W))}return P(R,L.predecessors.bind(L)),P(B,L.successors.bind(L)),Object.keys(q).forEach(F=>D[F]=D[O[F]]),D}function d(I,T,O,q){let j=new t,D=I.graph(),L=_(D.nodesep,D.edgesep,q);return T.forEach(z=>{let P;z.forEach(R=>{let B=O[R];if(j.setNode(B),P){var F=O[P],W=j.edge(F,B);j.setEdge(F,B,Math.max(L(I,R,P),W||0))}P=R})}),j}function f(I,T){return Object.values(T).reduce((O,q)=>{let j=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(q).forEach(([z,P])=>{let R=N(I,z)/2;j=Math.max(P+R,j),D=Math.min(P-R,D)});const L=j-D;return L<O[0]&&(O=[L,q]),O},[Number.POSITIVE_INFINITY,null])[1]}function h(I,T){let O=Object.values(T),q=e.applyWithChunking(Math.min,O),j=e.applyWithChunking(Math.max,O);["u","d"].forEach(D=>{["l","r"].forEach(L=>{let z=D+L,P=I[z];if(P===T)return;let R=Object.values(P),B=q-e.applyWithChunking(Math.min,R);L!=="l"&&(B=j-e.applyWithChunking(Math.max,R)),B&&(I[z]=e.mapValues(P,F=>F+B))})})}function b(I,T){return e.mapValues(I.ul,(O,q)=>{if(T)return I[T.toLowerCase()][q];{let j=Object.values(I).map(D=>D[q]).sort((D,L)=>D-L);return(j[1]+j[2])/2}})}function x(I){let T=e.buildLayerMatrix(I),O=Object.assign(n(I,T),r(I,T)),q={},j;["u","d"].forEach(L=>{j=L==="u"?T:Object.values(T).reverse(),["l","r"].forEach(z=>{z==="r"&&(j=j.map(F=>Object.values(F).reverse()));let P=(L==="u"?I.predecessors:I.successors).bind(I),R=l(I,j,O,P),B=c(I,j,R.root,R.align,z==="r");z==="r"&&(B=e.mapValues(B,F=>-F)),q[L+z]=B})});let D=f(I,q);return h(q,D),b(q,I.graph().align)}function _(I,T,O){return(q,j,D)=>{let L=q.node(j),z=q.node(D),P=0,R;if(P+=L.width/2,Object.hasOwn(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":R=-L.width/2;break;case"r":R=L.width/2;break}if(R&&(P+=O?R:-R),R=0,P+=(L.dummy?T:I)/2,P+=(z.dummy?T:I)/2,P+=z.width/2,Object.hasOwn(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":R=z.width/2;break;case"r":R=-z.width/2;break}return R&&(P+=O?R:-R),R=0,P}}function N(I,T){return I.node(T).width}return F0}var D0,i3;function pZ(){if(i3)return D0;i3=1;let t=Fr(),e=hZ().positionX;D0=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,l=0;s.forEach(c=>{const d=c.reduce((f,h)=>{const b=i.node(h).height;return f>b?f:b},0);c.forEach(f=>i.node(f).y=l+d/2),l+=d+o})}return D0}var L0,s3;function mZ(){if(s3)return L0;s3=1;let t=ZG(),e=JG(),n=XG(),r=Fr().normalizeRanks,i=eZ(),s=Fr().removeEmptyRanks,o=tZ(),l=nZ(),c=rZ(),d=fZ(),f=pZ(),h=Fr(),b=So().Graph;L0=x;function x(de,ye){let we=ye&&ye.debugTiming?h.time:h.notime;we("layout",()=>{let Ne=we("  buildLayoutGraph",()=>P(de));we("  runLayout",()=>_(Ne,we,ye)),we("  updateInputGraph",()=>N(de,Ne))})}function _(de,ye,we){ye("    makeSpaceForEdgeLabels",()=>R(de)),ye("    removeSelfEdges",()=>ie(de)),ye("    acyclic",()=>t.run(de)),ye("    nestingGraph.run",()=>o.run(de)),ye("    rank",()=>n(h.asNonCompoundGraph(de))),ye("    injectEdgeLabelProxies",()=>B(de)),ye("    removeEmptyRanks",()=>s(de)),ye("    nestingGraph.cleanup",()=>o.cleanup(de)),ye("    normalizeRanks",()=>r(de)),ye("    assignRankMinMax",()=>F(de)),ye("    removeEdgeLabelProxies",()=>W(de)),ye("    normalize.run",()=>e.run(de)),ye("    parentDummyChains",()=>i(de)),ye("    addBorderSegments",()=>l(de)),ye("    order",()=>d(de,we)),ye("    insertSelfEdges",()=>ee(de)),ye("    adjustCoordinateSystem",()=>c.adjust(de)),ye("    position",()=>f(de)),ye("    positionSelfEdges",()=>se(de)),ye("    removeBorderNodes",()=>ae(de)),ye("    normalize.undo",()=>e.undo(de)),ye("    fixupEdgeLabelCoords",()=>X(de)),ye("    undoCoordinateSystem",()=>c.undo(de)),ye("    translateGraph",()=>U(de)),ye("    assignNodeIntersects",()=>$(de)),ye("    reversePoints",()=>Z(de)),ye("    acyclic.undo",()=>t.undo(de))}function N(de,ye){de.nodes().forEach(we=>{let Ne=de.node(we),ze=ye.node(we);Ne&&(Ne.x=ze.x,Ne.y=ze.y,Ne.rank=ze.rank,ye.children(we).length&&(Ne.width=ze.width,Ne.height=ze.height))}),de.edges().forEach(we=>{let Ne=de.edge(we),ze=ye.edge(we);Ne.points=ze.points,Object.hasOwn(ze,"x")&&(Ne.x=ze.x,Ne.y=ze.y)}),de.graph().width=ye.graph().width,de.graph().height=ye.graph().height}let I=["nodesep","edgesep","ranksep","marginx","marginy"],T={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},O=["acyclicer","ranker","rankdir","align"],q=["width","height"],j={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],L={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function P(de){let ye=new b({multigraph:!0,compound:!0}),we=ce(de.graph());return ye.setGraph(Object.assign({},T,Y(we,I),h.pick(we,O))),de.nodes().forEach(Ne=>{let ze=ce(de.node(Ne));const qe=Y(ze,q);Object.keys(j).forEach(De=>{qe[De]===void 0&&(qe[De]=j[De])}),ye.setNode(Ne,qe),ye.setParent(Ne,de.parent(Ne))}),de.edges().forEach(Ne=>{let ze=ce(de.edge(Ne));ye.setEdge(Ne,Object.assign({},L,Y(ze,D),h.pick(ze,z)))}),ye}function R(de){let ye=de.graph();ye.ranksep/=2,de.edges().forEach(we=>{let Ne=de.edge(we);Ne.minlen*=2,Ne.labelpos.toLowerCase()!=="c"&&(ye.rankdir==="TB"||ye.rankdir==="BT"?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}function B(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(we.width&&we.height){let Ne=de.node(ye.v),qe={rank:(de.node(ye.w).rank-Ne.rank)/2+Ne.rank,e:ye};h.addDummyNode(de,"edge-proxy",qe,"_ep")}})}function F(de){let ye=0;de.nodes().forEach(we=>{let Ne=de.node(we);Ne.borderTop&&(Ne.minRank=de.node(Ne.borderTop).rank,Ne.maxRank=de.node(Ne.borderBottom).rank,ye=Math.max(ye,Ne.maxRank))}),de.graph().maxRank=ye}function W(de){de.nodes().forEach(ye=>{let we=de.node(ye);we.dummy==="edge-proxy"&&(de.edge(we.e).labelRank=we.rank,de.removeNode(ye))})}function U(de){let ye=Number.POSITIVE_INFINITY,we=0,Ne=Number.POSITIVE_INFINITY,ze=0,qe=de.graph(),De=qe.marginx||0,Ze=qe.marginy||0;function Xe(Ue){let ut=Ue.x,_t=Ue.y,Ot=Ue.width,Wt=Ue.height;ye=Math.min(ye,ut-Ot/2),we=Math.max(we,ut+Ot/2),Ne=Math.min(Ne,_t-Wt/2),ze=Math.max(ze,_t+Wt/2)}de.nodes().forEach(Ue=>Xe(de.node(Ue))),de.edges().forEach(Ue=>{let ut=de.edge(Ue);Object.hasOwn(ut,"x")&&Xe(ut)}),ye-=De,Ne-=Ze,de.nodes().forEach(Ue=>{let ut=de.node(Ue);ut.x-=ye,ut.y-=Ne}),de.edges().forEach(Ue=>{let ut=de.edge(Ue);ut.points.forEach(_t=>{_t.x-=ye,_t.y-=Ne}),Object.hasOwn(ut,"x")&&(ut.x-=ye),Object.hasOwn(ut,"y")&&(ut.y-=Ne)}),qe.width=we-ye+De,qe.height=ze-Ne+Ze}function $(de){de.edges().forEach(ye=>{let we=de.edge(ye),Ne=de.node(ye.v),ze=de.node(ye.w),qe,De;we.points?(qe=we.points[0],De=we.points[we.points.length-1]):(we.points=[],qe=ze,De=Ne),we.points.unshift(h.intersectRect(Ne,qe)),we.points.push(h.intersectRect(ze,De))})}function X(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(Object.hasOwn(we,"x"))switch((we.labelpos==="l"||we.labelpos==="r")&&(we.width-=we.labeloffset),we.labelpos){case"l":we.x-=we.width/2+we.labeloffset;break;case"r":we.x+=we.width/2+we.labeloffset;break}})}function Z(de){de.edges().forEach(ye=>{let we=de.edge(ye);we.reversed&&we.points.reverse()})}function ae(de){de.nodes().forEach(ye=>{if(de.children(ye).length){let we=de.node(ye),Ne=de.node(we.borderTop),ze=de.node(we.borderBottom),qe=de.node(we.borderLeft[we.borderLeft.length-1]),De=de.node(we.borderRight[we.borderRight.length-1]);we.width=Math.abs(De.x-qe.x),we.height=Math.abs(ze.y-Ne.y),we.x=qe.x+we.width/2,we.y=Ne.y+we.height/2}}),de.nodes().forEach(ye=>{de.node(ye).dummy==="border"&&de.removeNode(ye)})}function ie(de){de.edges().forEach(ye=>{if(ye.v===ye.w){var we=de.node(ye.v);we.selfEdges||(we.selfEdges=[]),we.selfEdges.push({e:ye,label:de.edge(ye)}),de.removeEdge(ye)}})}function ee(de){var ye=h.buildLayerMatrix(de);ye.forEach(we=>{var Ne=0;we.forEach((ze,qe)=>{var De=de.node(ze);De.order=qe+Ne,(De.selfEdges||[]).forEach(Ze=>{h.addDummyNode(de,"selfedge",{width:Ze.label.width,height:Ze.label.height,rank:De.rank,order:qe+ ++Ne,e:Ze.e,label:Ze.label},"_se")}),delete De.selfEdges})})}function se(de){de.nodes().forEach(ye=>{var we=de.node(ye);if(we.dummy==="selfedge"){var Ne=de.node(we.e.v),ze=Ne.x+Ne.width/2,qe=Ne.y,De=we.x-ze,Ze=Ne.height/2;de.setEdge(we.e,we.label),de.removeNode(ye),we.label.points=[{x:ze+2*De/3,y:qe-Ze},{x:ze+5*De/6,y:qe-Ze},{x:ze+De,y:qe},{x:ze+5*De/6,y:qe+Ze},{x:ze+2*De/3,y:qe+Ze}],we.label.x=we.x,we.label.y=we.y}})}function Y(de,ye){return h.mapValues(h.pick(de,ye),Number)}function ce(de){var ye={};return de&&Object.entries(de).forEach(([we,Ne])=>{typeof we=="string"&&(we=we.toLowerCase()),ye[we]=Ne}),ye}return L0}var M0,o3;function gZ(){if(o3)return M0;o3=1;let t=Fr(),e=So().Graph;M0={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,l)=>{let c="layer"+l;s.setNode(c,{rank:"same"}),o.reduce((d,f)=>(s.setEdge(d,f,{style:"invis"}),f))}),s}return M0}var $0,a3;function yZ(){return a3||(a3=1,$0="1.1.4"),$0}var B0,l3;function vZ(){return l3||(l3=1,B0={graphlib:So(),layout:mZ(),debug:gZ(),util:{time:Fr().time,notime:Fr().notime},version:yZ()}),B0}var bZ=vZ();const z1=zs(bZ);function $r(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=$r(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var xZ={value:()=>{}};function vb(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cy(n)}function cy(t){this._=t}function wZ(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cy.prototype=vb.prototype={constructor:cy,on:function(t,e){var n=this._,r=wZ(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=_Z(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=u3(n[i],t.name,e);else if(e==null)for(i in n)n[i]=u3(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cy(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function _Z(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function u3(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=xZ,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var aE="http://www.w3.org/1999/xhtml";const c3={svg:"http://www.w3.org/2000/svg",xhtml:aE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bb(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),c3.hasOwnProperty(e)?{space:c3[e],local:t}:t}function SZ(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===aE&&e.documentElement.namespaceURI===aE?e.createElement(t):e.createElementNS(n,t)}}function EZ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function h2(t){var e=bb(t);return(e.local?EZ:SZ)(e)}function NZ(){}function W1(t){return t==null?NZ:function(){return this.querySelector(t)}}function kZ(t){typeof t!="function"&&(t=W1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),c,d,f=0;f<o;++f)(c=s[f])&&(d=t.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d);return new ms(r,this._parents)}function IZ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function CZ(){return[]}function p2(t){return t==null?CZ:function(){return this.querySelectorAll(t)}}function OZ(t){return function(){return IZ(t.apply(this,arguments))}}function TZ(t){typeof t=="function"?t=OZ(t):t=p2(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&(r.push(t.call(c,c.__data__,d,o)),i.push(c));return new ms(r,i)}function m2(t){return function(){return this.matches(t)}}function g2(t){return function(e){return e.matches(t)}}var qZ=Array.prototype.find;function RZ(t){return function(){return qZ.call(this.children,t)}}function AZ(){return this.firstElementChild}function jZ(t){return this.select(t==null?AZ:RZ(typeof t=="function"?t:g2(t)))}var PZ=Array.prototype.filter;function FZ(){return Array.from(this.children)}function DZ(t){return function(){return PZ.call(this.children,t)}}function LZ(t){return this.selectAll(t==null?FZ:DZ(typeof t=="function"?t:g2(t)))}function MZ(t){typeof t!="function"&&(t=m2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new ms(r,this._parents)}function y2(t){return new Array(t.length)}function $Z(){return new ms(this._enter||this._groups.map(y2),this._parents)}function pv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}pv.prototype={constructor:pv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function BZ(t){return function(){return t}}function zZ(t,e,n,r,i,s){for(var o=0,l,c=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new pv(t,s[o]);for(;o<c;++o)(l=e[o])&&(i[o]=l)}function WZ(t,e,n,r,i,s,o){var l,c,d=new Map,f=e.length,h=s.length,b=new Array(f),x;for(l=0;l<f;++l)(c=e[l])&&(b[l]=x=o.call(c,c.__data__,l,e)+"",d.has(x)?i[l]=c:d.set(x,c));for(l=0;l<h;++l)x=o.call(t,s[l],l,s)+"",(c=d.get(x))?(r[l]=c,c.__data__=s[l],d.delete(x)):n[l]=new pv(t,s[l]);for(l=0;l<f;++l)(c=e[l])&&d.get(b[l])===c&&(i[l]=c)}function UZ(t){return t.__data__}function VZ(t,e){if(!arguments.length)return Array.from(this,UZ);var n=e?WZ:zZ,r=this._parents,i=this._groups;typeof t!="function"&&(t=BZ(t));for(var s=i.length,o=new Array(s),l=new Array(s),c=new Array(s),d=0;d<s;++d){var f=r[d],h=i[d],b=h.length,x=HZ(t.call(f,f&&f.__data__,d,r)),_=x.length,N=l[d]=new Array(_),I=o[d]=new Array(_),T=c[d]=new Array(b);n(f,h,N,I,T,x,e);for(var O=0,q=0,j,D;O<_;++O)if(j=N[O]){for(O>=q&&(q=O+1);!(D=I[q])&&++q<_;);j._next=D||null}}return o=new ms(o,r),o._enter=l,o._exit=c,o}function HZ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QZ(){return new ms(this._exit||this._groups.map(y2),this._parents)}function KZ(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function GZ(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),c=0;c<o;++c)for(var d=n[c],f=r[c],h=d.length,b=l[c]=new Array(h),x,_=0;_<h;++_)(x=d[_]||f[_])&&(b[_]=x);for(;c<i;++c)l[c]=n[c];return new ms(l,this._parents)}function ZZ(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function JZ(t){t||(t=YZ);function e(h,b){return h&&b?t(h.__data__,b.__data__):!h-!b}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=i[s]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(c[f]=d);c.sort(e)}return new ms(i,this._parents).order()}function YZ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function XZ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function eJ(){return Array.from(this)}function tJ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function nJ(){let t=0;for(const e of this)++t;return t}function rJ(){return!this.node()}function iJ(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function sJ(t){return function(){this.removeAttribute(t)}}function oJ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function aJ(t,e){return function(){this.setAttribute(t,e)}}function lJ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function uJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function cJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function dJ(t,e){var n=bb(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?oJ:sJ:typeof e=="function"?n.local?cJ:uJ:n.local?lJ:aJ)(n,e))}function v2(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fJ(t){return function(){this.style.removeProperty(t)}}function hJ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function pJ(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function mJ(t,e,n){return arguments.length>1?this.each((e==null?fJ:typeof e=="function"?pJ:hJ)(t,e,n??"")):Dd(this.node(),t)}function Dd(t,e){return t.style.getPropertyValue(e)||v2(t).getComputedStyle(t,null).getPropertyValue(e)}function gJ(t){return function(){delete this[t]}}function yJ(t,e){return function(){this[t]=e}}function vJ(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function bJ(t,e){return arguments.length>1?this.each((e==null?gJ:typeof e=="function"?vJ:yJ)(t,e)):this.node()[t]}function b2(t){return t.trim().split(/^|\s+/)}function U1(t){return t.classList||new x2(t)}function x2(t){this._node=t,this._names=b2(t.getAttribute("class")||"")}x2.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function w2(t,e){for(var n=U1(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function _2(t,e){for(var n=U1(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function xJ(t){return function(){w2(this,t)}}function wJ(t){return function(){_2(this,t)}}function _J(t,e){return function(){(e.apply(this,arguments)?w2:_2)(this,t)}}function SJ(t,e){var n=b2(t+"");if(arguments.length<2){for(var r=U1(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?_J:e?xJ:wJ)(n,e))}function EJ(){this.textContent=""}function NJ(t){return function(){this.textContent=t}}function kJ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function IJ(t){return arguments.length?this.each(t==null?EJ:(typeof t=="function"?kJ:NJ)(t)):this.node().textContent}function CJ(){this.innerHTML=""}function OJ(t){return function(){this.innerHTML=t}}function TJ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function qJ(t){return arguments.length?this.each(t==null?CJ:(typeof t=="function"?TJ:OJ)(t)):this.node().innerHTML}function RJ(){this.nextSibling&&this.parentNode.appendChild(this)}function AJ(){return this.each(RJ)}function jJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function PJ(){return this.each(jJ)}function FJ(t){var e=typeof t=="function"?t:h2(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function DJ(){return null}function LJ(t,e){var n=typeof t=="function"?t:h2(t),r=e==null?DJ:typeof e=="function"?e:W1(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function MJ(){var t=this.parentNode;t&&t.removeChild(this)}function $J(){return this.each(MJ)}function BJ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zJ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function WJ(t){return this.select(t?zJ:BJ)}function UJ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function VJ(t){return function(e){t.call(this,e,this.__data__)}}function HJ(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function QJ(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function KJ(t,e,n){return function(){var r=this.__on,i,s=VJ(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function GJ(t,e,n){var r=HJ(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,f;c<d;++c)for(i=0,f=l[c];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?KJ:QJ,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function S2(t,e,n){var r=v2(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ZJ(t,e){return function(){return S2(this,t,e)}}function JJ(t,e){return function(){return S2(this,t,e.apply(this,arguments))}}function YJ(t,e){return this.each((typeof e=="function"?JJ:ZJ)(t,e))}function*XJ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var E2=[null];function ms(t,e){this._groups=t,this._parents=e}function Yp(){return new ms([[document.documentElement]],E2)}function eY(){return this}ms.prototype=Yp.prototype={constructor:ms,select:kZ,selectAll:TZ,selectChild:jZ,selectChildren:LZ,filter:MZ,data:VZ,enter:$Z,exit:QZ,join:KZ,merge:GZ,selection:eY,order:ZZ,sort:JZ,call:XZ,nodes:eJ,node:tJ,size:nJ,empty:rJ,each:iJ,attr:dJ,style:mJ,property:bJ,classed:SJ,text:IJ,html:qJ,raise:AJ,lower:PJ,append:FJ,insert:LJ,remove:$J,clone:WJ,datum:UJ,on:GJ,dispatch:YJ,[Symbol.iterator]:XJ};function cs(t){return typeof t=="string"?new ms([[document.querySelector(t)]],[document.documentElement]):new ms([[t]],E2)}function tY(t){let e;for(;e=t.sourceEvent;)t=e;return t}function uo(t,e){if(t=tY(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const nY={passive:!1},bp={capture:!0,passive:!1};function z0(t){t.stopImmediatePropagation()}function Ed(t){t.preventDefault(),t.stopImmediatePropagation()}function N2(t){var e=t.document.documentElement,n=cs(t).on("dragstart.drag",Ed,bp);"onselectstart"in e?n.on("selectstart.drag",Ed,bp):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function k2(t,e){var n=t.document.documentElement,r=cs(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ed,bp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Tg=t=>()=>t;function lE(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:c,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}lE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function rY(t){return!t.ctrlKey&&!t.button}function iY(){return this.parentNode}function sY(t,e){return e??{x:t.x,y:t.y}}function oY(){return navigator.maxTouchPoints||"ontouchstart"in this}function I2(){var t=rY,e=iY,n=sY,r=oY,i={},s=vb("start","drag","end"),o=0,l,c,d,f,h=0;function b(j){j.on("mousedown.drag",x).filter(r).on("touchstart.drag",I).on("touchmove.drag",T,nY).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(j,D){if(!(f||!t.call(this,j,D))){var L=q(this,e.call(this,j,D),j,D,"mouse");L&&(cs(j.view).on("mousemove.drag",_,bp).on("mouseup.drag",N,bp),N2(j.view),z0(j),d=!1,l=j.clientX,c=j.clientY,L("start",j))}}function _(j){if(Ed(j),!d){var D=j.clientX-l,L=j.clientY-c;d=D*D+L*L>h}i.mouse("drag",j)}function N(j){cs(j.view).on("mousemove.drag mouseup.drag",null),k2(j.view,d),Ed(j),i.mouse("end",j)}function I(j,D){if(t.call(this,j,D)){var L=j.changedTouches,z=e.call(this,j,D),P=L.length,R,B;for(R=0;R<P;++R)(B=q(this,z,j,D,L[R].identifier,L[R]))&&(z0(j),B("start",j,L[R]))}}function T(j){var D=j.changedTouches,L=D.length,z,P;for(z=0;z<L;++z)(P=i[D[z].identifier])&&(Ed(j),P("drag",j,D[z]))}function O(j){var D=j.changedTouches,L=D.length,z,P;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),z=0;z<L;++z)(P=i[D[z].identifier])&&(z0(j),P("end",j,D[z]))}function q(j,D,L,z,P,R){var B=s.copy(),F=uo(R||L,D),W,U,$;if(($=n.call(j,new lE("beforestart",{sourceEvent:L,target:b,identifier:P,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:B}),z))!=null)return W=$.x-F[0]||0,U=$.y-F[1]||0,function X(Z,ae,ie){var ee=F,se;switch(Z){case"start":i[P]=X,se=o++;break;case"end":delete i[P],--o;case"drag":F=uo(ie||ae,D),se=o;break}B.call(Z,j,new lE(Z,{sourceEvent:ae,subject:$,target:b,identifier:P,active:se,x:F[0]+W,y:F[1]+U,dx:F[0]-ee[0],dy:F[1]-ee[1],dispatch:B}),z)}}return b.filter=function(j){return arguments.length?(t=typeof j=="function"?j:Tg(!!j),b):t},b.container=function(j){return arguments.length?(e=typeof j=="function"?j:Tg(j),b):e},b.subject=function(j){return arguments.length?(n=typeof j=="function"?j:Tg(j),b):n},b.touchable=function(j){return arguments.length?(r=typeof j=="function"?j:Tg(!!j),b):r},b.on=function(){var j=s.on.apply(s,arguments);return j===s?b:j},b.clickDistance=function(j){return arguments.length?(h=(j=+j)*j,b):Math.sqrt(h)},b}function V1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function C2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xp(){}var xp=.7,mv=1/xp,Nd="\\s*([+-]?\\d+)\\s*",wp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",aY=/^#([0-9a-f]{3,8})$/,lY=new RegExp(`^rgb\\(${Nd},${Nd},${Nd}\\)$`),uY=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),cY=new RegExp(`^rgba\\(${Nd},${Nd},${Nd},${wp}\\)$`),dY=new RegExp(`^rgba\\(${Go},${Go},${Go},${wp}\\)$`),fY=new RegExp(`^hsl\\(${wp},${Go},${Go}\\)$`),hY=new RegExp(`^hsla\\(${wp},${Go},${Go},${wp}\\)$`),d3={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};V1(Xp,_p,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:f3,formatHex:f3,formatHex8:pY,formatHsl:mY,formatRgb:h3,toString:h3});function f3(){return this.rgb().formatHex()}function pY(){return this.rgb().formatHex8()}function mY(){return O2(this).formatHsl()}function h3(){return this.rgb().formatRgb()}function _p(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=aY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?p3(e):n===3?new Hi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=lY.exec(t))?new Hi(e[1],e[2],e[3],1):(e=uY.exec(t))?new Hi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cY.exec(t))?qg(e[1],e[2],e[3],e[4]):(e=dY.exec(t))?qg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=fY.exec(t))?y3(e[1],e[2]/100,e[3]/100,1):(e=hY.exec(t))?y3(e[1],e[2]/100,e[3]/100,e[4]):d3.hasOwnProperty(t)?p3(d3[t]):t==="transparent"?new Hi(NaN,NaN,NaN,0):null}function p3(t){return new Hi(t>>16&255,t>>8&255,t&255,1)}function qg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hi(t,e,n,r)}function gY(t){return t instanceof Xp||(t=_p(t)),t?(t=t.rgb(),new Hi(t.r,t.g,t.b,t.opacity)):new Hi}function uE(t,e,n,r){return arguments.length===1?gY(t):new Hi(t,e,n,r??1)}function Hi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}V1(Hi,uE,C2(Xp,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new Hi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xp:Math.pow(xp,t),new Hi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hi(Bu(this.r),Bu(this.g),Bu(this.b),gv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m3,formatHex:m3,formatHex8:yY,formatRgb:g3,toString:g3}));function m3(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function yY(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function g3(){const t=gv(this.opacity);return`${t===1?"rgb(":"rgba("}${Bu(this.r)}, ${Bu(this.g)}, ${Bu(this.b)}${t===1?")":`, ${t})`}`}function gv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fu(t){return t=Bu(t),(t<16?"0":"")+t.toString(16)}function y3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ho(t,e,n,r)}function O2(t){if(t instanceof ho)return new ho(t.h,t.s,t.l,t.opacity);if(t instanceof Xp||(t=_p(t)),!t)return new ho;if(t instanceof ho)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new ho(o,l,c,t.opacity)}function vY(t,e,n,r){return arguments.length===1?O2(t):new ho(t,e,n,r??1)}function ho(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}V1(ho,vY,C2(Xp,{brighter(t){return t=t==null?mv:Math.pow(mv,t),new ho(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xp:Math.pow(xp,t),new ho(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Hi(W0(t>=240?t-240:t+120,i,r),W0(t,i,r),W0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ho(v3(this.h),Rg(this.s),Rg(this.l),gv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gv(this.opacity);return`${t===1?"hsl(":"hsla("}${v3(this.h)}, ${Rg(this.s)*100}%, ${Rg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function v3(t){return t=(t||0)%360,t<0?t+360:t}function Rg(t){return Math.max(0,Math.min(1,t||0))}function W0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const T2=t=>()=>t;function bY(t,e){return function(n){return t+n*e}}function xY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wY(t){return(t=+t)==1?q2:function(e,n){return n-e?xY(e,n,t):T2(isNaN(e)?n:e)}}function q2(t,e){var n=e-t;return n?bY(t,n):T2(isNaN(t)?e:t)}const b3=function t(e){var n=wY(e);function r(i,s){var o=n((i=uE(i)).r,(s=uE(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=q2(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function xl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var cE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U0=new RegExp(cE.source,"g");function _Y(t){return function(){return t}}function SY(t){return function(e){return t(e)+""}}function EY(t,e){var n=cE.lastIndex=U0.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=cE.exec(t))&&(i=U0.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:xl(r,i)})),n=U0.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?SY(c[0].x):_Y(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(d);return l.join("")})}var x3=180/Math.PI,dE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function R2(t,e,n,r,i,s){var o,l,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*x3,skewX:Math.atan(c)*x3,scaleX:o,scaleY:l}}var Ag;function NY(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?dE:R2(e.a,e.b,e.c,e.d,e.e,e.f)}function kY(t){return t==null||(Ag||(Ag=document.createElementNS("http://www.w3.org/2000/svg","g")),Ag.setAttribute("transform",t),!(t=Ag.transform.baseVal.consolidate()))?dE:(t=t.matrix,R2(t.a,t.b,t.c,t.d,t.e,t.f))}function A2(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,f,h,b,x,_){if(d!==h||f!==b){var N=x.push("translate(",null,e,null,n);_.push({i:N-4,x:xl(d,h)},{i:N-2,x:xl(f,b)})}else(h||b)&&x.push("translate("+h+e+b+n)}function o(d,f,h,b){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),b.push({i:h.push(i(h)+"rotate(",null,r)-2,x:xl(d,f)})):f&&h.push(i(h)+"rotate("+f+r)}function l(d,f,h,b){d!==f?b.push({i:h.push(i(h)+"skewX(",null,r)-2,x:xl(d,f)}):f&&h.push(i(h)+"skewX("+f+r)}function c(d,f,h,b,x,_){if(d!==h||f!==b){var N=x.push(i(x)+"scale(",null,",",null,")");_.push({i:N-4,x:xl(d,h)},{i:N-2,x:xl(f,b)})}else(h!==1||b!==1)&&x.push(i(x)+"scale("+h+","+b+")")}return function(d,f){var h=[],b=[];return d=t(d),f=t(f),s(d.translateX,d.translateY,f.translateX,f.translateY,h,b),o(d.rotate,f.rotate,h,b),l(d.skewX,f.skewX,h,b),c(d.scaleX,d.scaleY,f.scaleX,f.scaleY,h,b),d=f=null,function(x){for(var _=-1,N=b.length,I;++_<N;)h[(I=b[_]).i]=I.x(x);return h.join("")}}}var IY=A2(NY,"px, ","px)","deg)"),CY=A2(kY,", ",")",")"),OY=1e-12;function w3(t){return((t=Math.exp(t))+1/t)/2}function TY(t){return((t=Math.exp(t))-1/t)/2}function qY(t){return((t=Math.exp(2*t))-1)/(t+1)}const RY=function t(e,n,r){function i(s,o){var l=s[0],c=s[1],d=s[2],f=o[0],h=o[1],b=o[2],x=f-l,_=h-c,N=x*x+_*_,I,T;if(N<OY)T=Math.log(b/d)/e,I=function(z){return[l+z*x,c+z*_,d*Math.exp(e*z*T)]};else{var O=Math.sqrt(N),q=(b*b-d*d+r*N)/(2*d*n*O),j=(b*b-d*d-r*N)/(2*b*n*O),D=Math.log(Math.sqrt(q*q+1)-q),L=Math.log(Math.sqrt(j*j+1)-j);T=(L-D)/e,I=function(z){var P=z*T,R=w3(D),B=d/(n*O)*(R*qY(e*P+D)-TY(D));return[l+B*x,c+B*_,d*R/w3(e*P+D)]}}return I.duration=T*1e3*e/Math.SQRT2,I}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,c=l*l;return t(o,l,c)},i}(Math.SQRT2,2,4);var Ld=0,bh=0,ih=0,j2=1e3,yv,xh,vv=0,ec=0,xb=0,Sp=typeof performance=="object"&&performance.now?performance:Date,P2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function H1(){return ec||(P2(AY),ec=Sp.now()+xb)}function AY(){ec=0}function bv(){this._call=this._time=this._next=null}bv.prototype=F2.prototype={constructor:bv,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?H1():+n)+(e==null?0:+e),!this._next&&xh!==this&&(xh?xh._next=this:yv=this,xh=this),this._call=t,this._time=n,fE()},stop:function(){this._call&&(this._call=null,this._time=1/0,fE())}};function F2(t,e,n){var r=new bv;return r.restart(t,e,n),r}function jY(){H1(),++Ld;for(var t=yv,e;t;)(e=ec-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ld}function _3(){ec=(vv=Sp.now())+xb,Ld=bh=0;try{jY()}finally{Ld=0,FY(),ec=0}}function PY(){var t=Sp.now(),e=t-vv;e>j2&&(xb-=e,vv=t)}function FY(){for(var t,e=yv,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:yv=n);xh=t,fE(r)}function fE(t){if(!Ld){bh&&(bh=clearTimeout(bh));var e=t-ec;e>24?(t<1/0&&(bh=setTimeout(_3,t-Sp.now()-xb)),ih&&(ih=clearInterval(ih))):(ih||(vv=Sp.now(),ih=setInterval(PY,j2)),Ld=1,P2(_3))}}function S3(t,e,n){var r=new bv;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var DY=vb("start","end","cancel","interrupt"),LY=[],D2=0,E3=1,hE=2,dy=3,N3=4,pE=5,fy=6;function wb(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;MY(t,n,{name:e,index:r,group:i,on:DY,tween:LY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:D2})}function Q1(t,e){var n=Ro(t,e);if(n.state>D2)throw new Error("too late; already scheduled");return n}function ia(t,e){var n=Ro(t,e);if(n.state>dy)throw new Error("too late; already running");return n}function Ro(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function MY(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=F2(s,0,n.time);function s(d){n.state=E3,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var f,h,b,x;if(n.state!==E3)return c();for(f in r)if(x=r[f],x.name===n.name){if(x.state===dy)return S3(o);x.state===N3?(x.state=fy,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[f]):+f<e&&(x.state=fy,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[f])}if(S3(function(){n.state===dy&&(n.state=N3,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=hE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===hE){for(n.state=dy,i=new Array(b=n.tween.length),f=0,h=-1;f<b;++f)(x=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=x);i.length=h+1}}function l(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=pE,1),h=-1,b=i.length;++h<b;)i[h].call(t,f);n.state===pE&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=fy,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function hy(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>hE&&r.state<pE,r.state=fy,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function $Y(t){return this.each(function(){hy(this,t)})}function BY(t,e){var n,r;return function(){var i=ia(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function zY(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ia(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},c=0,d=i.length;c<d;++c)if(i[c].name===e){i[c]=l;break}c===d&&i.push(l)}s.tween=i}}function WY(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ro(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?BY:zY)(n,t,e))}function K1(t,e,n){var r=t._id;return t.each(function(){var i=ia(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ro(i,r).value[e]}}function L2(t,e){var n;return(typeof e=="number"?xl:e instanceof _p?b3:(n=_p(e))?(e=n,b3):EY)(t,e)}function UY(t){return function(){this.removeAttribute(t)}}function VY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function HY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function QY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function KY(t,e,n){var r,i,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=l+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l)))}}function GY(t,e,n){var r,i,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=l+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l)))}}function ZY(t,e){var n=bb(t),r=n==="transform"?CY:L2;return this.attrTween(t,typeof e=="function"?(n.local?GY:KY)(n,r,K1(this,"attr."+t,e)):e==null?(n.local?VY:UY)(n):(n.local?QY:HY)(n,r,e))}function JY(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function YY(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function XY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&YY(t,s)),n}return i._value=e,i}function eX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&JY(t,s)),n}return i._value=e,i}function tX(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=bb(t);return this.tween(n,(r.local?XY:eX)(r,e))}function nX(t,e){return function(){Q1(this,t).delay=+e.apply(this,arguments)}}function rX(t,e){return e=+e,function(){Q1(this,t).delay=e}}function iX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nX:rX)(e,t)):Ro(this.node(),e).delay}function sX(t,e){return function(){ia(this,t).duration=+e.apply(this,arguments)}}function oX(t,e){return e=+e,function(){ia(this,t).duration=e}}function aX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sX:oX)(e,t)):Ro(this.node(),e).duration}function lX(t,e){if(typeof e!="function")throw new Error;return function(){ia(this,t).ease=e}}function uX(t){var e=this._id;return arguments.length?this.each(lX(e,t)):Ro(this.node(),e).ease}function cX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ia(this,t).ease=n}}function dX(t){if(typeof t!="function")throw new Error;return this.each(cX(this._id,t))}function fX(t){typeof t!="function"&&(t=m2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new $a(r,this._parents,this._name,this._id)}function hX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var c=e[l],d=n[l],f=c.length,h=o[l]=new Array(f),b,x=0;x<f;++x)(b=c[x]||d[x])&&(h[x]=b);for(;l<r;++l)o[l]=e[l];return new $a(o,this._parents,this._name,this._id)}function pX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function mX(t,e,n){var r,i,s=pX(e)?Q1:ia;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function gX(t,e){var n=this._id;return arguments.length<2?Ro(this.node(),n).on.on(t):this.each(mX(n,t,e))}function yX(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function vX(){return this.on("end.remove",yX(this._id))}function bX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=W1(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],c=l.length,d=s[o]=new Array(c),f,h,b=0;b<c;++b)(f=l[b])&&(h=t.call(f,f.__data__,b,l))&&("__data__"in f&&(h.__data__=f.__data__),d[b]=h,wb(d[b],e,n,b,d,Ro(f,n)));return new $a(s,this._parents,e,n)}function xX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=p2(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var c=r[l],d=c.length,f,h=0;h<d;++h)if(f=c[h]){for(var b=t.call(f,f.__data__,h,c),x,_=Ro(f,n),N=0,I=b.length;N<I;++N)(x=b[N])&&wb(x,e,n,N,b,_);s.push(b),o.push(f)}return new $a(s,o,e,n)}var wX=Yp.prototype.constructor;function _X(){return new wX(this._groups,this._parents)}function SX(t,e){var n,r,i;return function(){var s=Dd(this,t),o=(this.style.removeProperty(t),Dd(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function M2(t){return function(){this.style.removeProperty(t)}}function EX(t,e,n){var r,i=n+"",s;return function(){var o=Dd(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function NX(t,e,n){var r,i,s;return function(){var o=Dd(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),Dd(this,t))),o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l))}}function kX(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var c=ia(this,t),d=c.on,f=c.value[s]==null?l||(l=M2(e)):void 0;(d!==n||i!==f)&&(r=(n=d).copy()).on(o,i=f),c.on=r}}function IX(t,e,n){var r=(t+="")=="transform"?IY:L2;return e==null?this.styleTween(t,SX(t,r)).on("end.style."+t,M2(t)):typeof e=="function"?this.styleTween(t,NX(t,r,K1(this,"style."+t,e))).each(kX(this._id,t)):this.styleTween(t,EX(t,r,e),n).on("end.style."+t,null)}function CX(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function OX(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&CX(t,o,n)),r}return s._value=e,s}function TX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,OX(t,e,n??""))}function qX(t){return function(){this.textContent=t}}function RX(t){return function(){var e=t(this);this.textContent=e??""}}function AX(t){return this.tween("text",typeof t=="function"?RX(K1(this,"text",t)):qX(t==null?"":t+""))}function jX(t){return function(e){this.textContent=t.call(this,e)}}function PX(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&jX(i)),e}return r._value=t,r}function FX(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,PX(t))}function DX(){for(var t=this._name,e=this._id,n=$2(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,c,d=0;d<l;++d)if(c=o[d]){var f=Ro(c,e);wb(c,t,n,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new $a(r,this._parents,t,n)}function LX(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--i===0&&s()}};n.each(function(){var d=ia(this,r),f=d.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),d.on=e}),i===0&&s()})}var MX=0;function $a(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function $2(){return++MX}var _a=Yp.prototype;$a.prototype={constructor:$a,select:bX,selectAll:xX,selectChild:_a.selectChild,selectChildren:_a.selectChildren,filter:fX,merge:hX,selection:_X,transition:DX,call:_a.call,nodes:_a.nodes,node:_a.node,size:_a.size,empty:_a.empty,each:_a.each,on:gX,attr:ZY,attrTween:tX,style:IX,styleTween:TX,text:AX,textTween:FX,remove:vX,tween:WY,delay:iX,duration:aX,ease:uX,easeVarying:dX,end:LX,[Symbol.iterator]:_a[Symbol.iterator]};function $X(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var BX={time:null,delay:0,duration:250,ease:$X};function zX(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function WX(t){var e,n;t instanceof $a?(e=t._id,t=t._name):(e=$2(),(n=BX).time=H1(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&wb(c,t,e,d,o,n||zX(c,e));return new $a(r,this._parents,t,e)}Yp.prototype.interrupt=$Y;Yp.prototype.transition=WX;const jg=t=>()=>t;function UX(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ta(t,e,n){this.k=t,this.x=e,this.y=n}Ta.prototype={constructor:Ta,scale:function(t){return t===1?this:new Ta(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ta(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _b=new Ta(1,0,0);B2.prototype=Ta.prototype;function B2(t){for(;!t.__zoom;)if(!(t=t.parentNode))return _b;return t.__zoom}function V0(t){t.stopImmediatePropagation()}function sh(t){t.preventDefault(),t.stopImmediatePropagation()}function VX(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function HX(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function k3(){return this.__zoom||_b}function QX(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function KX(){return navigator.maxTouchPoints||"ontouchstart"in this}function GX(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function z2(){var t=VX,e=HX,n=GX,r=QX,i=KX,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=RY,d=vb("start","zoom","end"),f,h,b,x=500,_=150,N=0,I=10;function T($){$.property("__zoom",k3).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",B).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function($,X,Z,ae){var ie=$.selection?$.selection():$;ie.property("__zoom",k3),$!==ie?D($,X,Z,ae):ie.interrupt().each(function(){L(this,arguments).event(ae).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},T.scaleBy=function($,X,Z,ae){T.scaleTo($,function(){var ie=this.__zoom.k,ee=typeof X=="function"?X.apply(this,arguments):X;return ie*ee},Z,ae)},T.scaleTo=function($,X,Z,ae){T.transform($,function(){var ie=e.apply(this,arguments),ee=this.__zoom,se=Z==null?j(ie):typeof Z=="function"?Z.apply(this,arguments):Z,Y=ee.invert(se),ce=typeof X=="function"?X.apply(this,arguments):X;return n(q(O(ee,ce),se,Y),ie,o)},Z,ae)},T.translateBy=function($,X,Z,ae){T.transform($,function(){return n(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof Z=="function"?Z.apply(this,arguments):Z),e.apply(this,arguments),o)},null,ae)},T.translateTo=function($,X,Z,ae,ie){T.transform($,function(){var ee=e.apply(this,arguments),se=this.__zoom,Y=ae==null?j(ee):typeof ae=="function"?ae.apply(this,arguments):ae;return n(_b.translate(Y[0],Y[1]).scale(se.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof Z=="function"?-Z.apply(this,arguments):-Z),ee,o)},ae,ie)};function O($,X){return X=Math.max(s[0],Math.min(s[1],X)),X===$.k?$:new Ta(X,$.x,$.y)}function q($,X,Z){var ae=X[0]-Z[0]*$.k,ie=X[1]-Z[1]*$.k;return ae===$.x&&ie===$.y?$:new Ta($.k,ae,ie)}function j($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function D($,X,Z,ae){$.on("start.zoom",function(){L(this,arguments).event(ae).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(ae).end()}).tween("zoom",function(){var ie=this,ee=arguments,se=L(ie,ee).event(ae),Y=e.apply(ie,ee),ce=Z==null?j(Y):typeof Z=="function"?Z.apply(ie,ee):Z,de=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),ye=ie.__zoom,we=typeof X=="function"?X.apply(ie,ee):X,Ne=c(ye.invert(ce).concat(de/ye.k),we.invert(ce).concat(de/we.k));return function(ze){if(ze===1)ze=we;else{var qe=Ne(ze),De=de/qe[2];ze=new Ta(De,ce[0]-qe[0]*De,ce[1]-qe[1]*De)}se.zoom(null,ze)}})}function L($,X,Z){return!Z&&$.__zooming||new z($,X)}function z($,X){this.that=$,this.args=X,this.active=0,this.sourceEvent=null,this.extent=e.apply($,X),this.taps=0}z.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,X){return this.mouse&&$!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var X=cs(this.that).datum();d.call($,this.that,new UX($,{sourceEvent:this.sourceEvent,target:T,type:$,transform:this.that.__zoom,dispatch:d}),X)}};function P($,...X){if(!t.apply(this,arguments))return;var Z=L(this,X).event($),ae=this.__zoom,ie=Math.max(s[0],Math.min(s[1],ae.k*Math.pow(2,r.apply(this,arguments)))),ee=uo($);if(Z.wheel)(Z.mouse[0][0]!==ee[0]||Z.mouse[0][1]!==ee[1])&&(Z.mouse[1]=ae.invert(Z.mouse[0]=ee)),clearTimeout(Z.wheel);else{if(ae.k===ie)return;Z.mouse=[ee,ae.invert(ee)],hy(this),Z.start()}sh($),Z.wheel=setTimeout(se,_),Z.zoom("mouse",n(q(O(ae,ie),Z.mouse[0],Z.mouse[1]),Z.extent,o));function se(){Z.wheel=null,Z.end()}}function R($,...X){if(b||!t.apply(this,arguments))return;var Z=$.currentTarget,ae=L(this,X,!0).event($),ie=cs($.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",de,!0),ee=uo($,Z),se=$.clientX,Y=$.clientY;N2($.view),V0($),ae.mouse=[ee,this.__zoom.invert(ee)],hy(this),ae.start();function ce(ye){if(sh(ye),!ae.moved){var we=ye.clientX-se,Ne=ye.clientY-Y;ae.moved=we*we+Ne*Ne>N}ae.event(ye).zoom("mouse",n(q(ae.that.__zoom,ae.mouse[0]=uo(ye,Z),ae.mouse[1]),ae.extent,o))}function de(ye){ie.on("mousemove.zoom mouseup.zoom",null),k2(ye.view,ae.moved),sh(ye),ae.event(ye).end()}}function B($,...X){if(t.apply(this,arguments)){var Z=this.__zoom,ae=uo($.changedTouches?$.changedTouches[0]:$,this),ie=Z.invert(ae),ee=Z.k*($.shiftKey?.5:2),se=n(q(O(Z,ee),ae,ie),e.apply(this,X),o);sh($),l>0?cs(this).transition().duration(l).call(D,se,ae,$):cs(this).call(T.transform,se,ae,$)}}function F($,...X){if(t.apply(this,arguments)){var Z=$.touches,ae=Z.length,ie=L(this,X,$.changedTouches.length===ae).event($),ee,se,Y,ce;for(V0($),se=0;se<ae;++se)Y=Z[se],ce=uo(Y,this),ce=[ce,this.__zoom.invert(ce),Y.identifier],ie.touch0?!ie.touch1&&ie.touch0[2]!==ce[2]&&(ie.touch1=ce,ie.taps=0):(ie.touch0=ce,ee=!0,ie.taps=1+!!f);f&&(f=clearTimeout(f)),ee&&(ie.taps<2&&(h=ce[0],f=setTimeout(function(){f=null},x)),hy(this),ie.start())}}function W($,...X){if(this.__zooming){var Z=L(this,X).event($),ae=$.changedTouches,ie=ae.length,ee,se,Y,ce;for(sh($),ee=0;ee<ie;++ee)se=ae[ee],Y=uo(se,this),Z.touch0&&Z.touch0[2]===se.identifier?Z.touch0[0]=Y:Z.touch1&&Z.touch1[2]===se.identifier&&(Z.touch1[0]=Y);if(se=Z.that.__zoom,Z.touch1){var de=Z.touch0[0],ye=Z.touch0[1],we=Z.touch1[0],Ne=Z.touch1[1],ze=(ze=we[0]-de[0])*ze+(ze=we[1]-de[1])*ze,qe=(qe=Ne[0]-ye[0])*qe+(qe=Ne[1]-ye[1])*qe;se=O(se,Math.sqrt(ze/qe)),Y=[(de[0]+we[0])/2,(de[1]+we[1])/2],ce=[(ye[0]+Ne[0])/2,(ye[1]+Ne[1])/2]}else if(Z.touch0)Y=Z.touch0[0],ce=Z.touch0[1];else return;Z.zoom("touch",n(q(se,Y,ce),Z.extent,o))}}function U($,...X){if(this.__zooming){var Z=L(this,X).event($),ae=$.changedTouches,ie=ae.length,ee,se;for(V0($),b&&clearTimeout(b),b=setTimeout(function(){b=null},x),ee=0;ee<ie;++ee)se=ae[ee],Z.touch0&&Z.touch0[2]===se.identifier?delete Z.touch0:Z.touch1&&Z.touch1[2]===se.identifier&&delete Z.touch1;if(Z.touch1&&!Z.touch0&&(Z.touch0=Z.touch1,delete Z.touch1),Z.touch0)Z.touch0[1]=this.__zoom.invert(Z.touch0[0]);else if(Z.end(),Z.taps===2&&(se=uo(se,this),Math.hypot(h[0]-se[0],h[1]-se[1])<I)){var Y=cs(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return T.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:jg(+$),T):r},T.filter=function($){return arguments.length?(t=typeof $=="function"?$:jg(!!$),T):t},T.touchable=function($){return arguments.length?(i=typeof $=="function"?$:jg(!!$),T):i},T.extent=function($){return arguments.length?(e=typeof $=="function"?$:jg([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),T):e},T.scaleExtent=function($){return arguments.length?(s[0]=+$[0],s[1]=+$[1],T):[s[0],s[1]]},T.translateExtent=function($){return arguments.length?(o[0][0]=+$[0][0],o[1][0]=+$[1][0],o[0][1]=+$[0][1],o[1][1]=+$[1][1],T):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},T.constrain=function($){return arguments.length?(n=$,T):n},T.duration=function($){return arguments.length?(l=+$,T):l},T.interpolate=function($){return arguments.length?(c=$,T):c},T.on=function(){var $=d.on.apply(d,arguments);return $===d?T:$},T.clickDistance=function($){return arguments.length?(N=($=+$)*$,T):Math.sqrt(N)},T.tapDistance=function($){return arguments.length?(I=+$,T):I},T}const za={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Ep=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],W2=["Enter"," ","Escape"];var Md;(function(t){t.Strict="strict",t.Loose="loose"})(Md||(Md={}));var zu;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(zu||(zu={}));var Np;(function(t){t.Partial="partial",t.Full="full"})(Np||(Np={}));const U2={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Il;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Il||(Il={}));var xv;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(xv||(xv={}));var Dt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Dt||(Dt={}));const I3={[Dt.Left]:Dt.Right,[Dt.Right]:Dt.Left,[Dt.Top]:Dt.Bottom,[Dt.Bottom]:Dt.Top};function V2(t){return t===null?null:t?"valid":"invalid"}const H2=t=>"id"in t&&"source"in t&&"target"in t,ZX=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),G1=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),em=(t,e=[0,0])=>{const{width:n,height:r}=Wa(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},JX=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):G1(i)?i:e.nodeLookup.get(i.id));const l=o?wv(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Sb(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Eb(n)},tm=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=wv(r);n=Sb(n,i)}}),Eb(n)},Q2=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const l={...nm(e,[n,r,i]),width:e.width/i,height:e.height/i},c=[];for(const d of t.values()){const{measured:f,selectable:h=!0,hidden:b=!1}=d;if(o&&!h||b)continue;const x=f.width??d.width??d.initialWidth??null,_=f.height??d.height??d.initialHeight??null,N=kp(l,Bd(d)),I=(x??0)*(_??0),T=s&&N>0;(!d.internals.handleBounds||T||N>=I||d.dragging)&&c.push(d)}return c},YX=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function mE(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function gE({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const l=tm(t),c=Z1(l,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(c,{duration:o?.duration}),Promise.resolve(!0)}function K2({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),l=o.parentId?n.get(o.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let h=i;if(o.extent==="parent"&&!o.expandParent)if(!l)s?.("005",za.error005());else{const x=l.measured.width,_=l.measured.height;x&&_&&(h=[[c,d],[c+x,d+_]])}else l&&zd(o.extent)&&(h=[[o.extent[0][0]+c,o.extent[0][1]+d],[o.extent[1][0]+c,o.extent[1][1]+d]]);const b=zd(h)?tc(e,h,o.measured):e;return{position:{x:b.x-c+o.measured.width*f[0],y:b.y-d+o.measured.height*f[1]},positionAbsolute:b}}async function XX({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(b=>b.id)),o=[];for(const b of n){if(b.deletable===!1)continue;const x=s.has(b.id),_=!x&&b.parentId&&o.find(N=>N.id===b.parentId);(x||_)&&o.push(b)}const l=new Set(e.map(b=>b.id)),c=r.filter(b=>b.deletable!==!1),f=YX(o,c);for(const b of c)l.has(b.id)&&!f.find(_=>_.id===b.id)&&f.push(b);if(!i)return{edges:f,nodes:o};const h=await i({nodes:o,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:o}:{edges:[],nodes:[]}:h}const $d=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),tc=(t={x:0,y:0},e,n)=>({x:$d(t.x,e[0][0],e[1][0]-(n?.width??0)),y:$d(t.y,e[0][1],e[1][1]-(n?.height??0))});function G2(t,e,n){const{width:r,height:i}=Wa(n),{x:s,y:o}=n.internals.positionAbsolute;return tc(t,[[s,o],[s+r,o+i]],e)}const C3=(t,e,n)=>t<e?$d(Math.abs(t-e),1,e)/e:t>n?-$d(Math.abs(t-n),1,e)/e:0,Z2=(t,e,n=15,r=40)=>{const i=C3(t.x,r,e.width-r)*n,s=C3(t.y,r,e.height-r)*n;return[i,s]},Sb=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),yE=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Eb=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Bd=(t,e=[0,0])=>{const{x:n,y:r}=G1(t)?t.internals.positionAbsolute:em(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},wv=(t,e=[0,0])=>{const{x:n,y:r}=G1(t)?t.internals.positionAbsolute:em(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},J2=(t,e)=>Eb(Sb(yE(t),yE(e))),kp=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},O3=t=>yo(t.width)&&yo(t.height)&&yo(t.x)&&yo(t.y),yo=t=>!isNaN(t)&&isFinite(t),eee=(t,e)=>{},Nb=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),nm=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?Nb(l,o):l},Y2=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),Z1=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),l=n/(t.height*(1+s)),c=Math.min(o,l),d=$d(c,r,i),f=t.x+t.width/2,h=t.y+t.height/2,b=e/2-f*d,x=n/2-h*d;return{x:b,y:x,zoom:d}},_v=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function zd(t){return t!==void 0&&t!=="parent"}function Wa(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function X2(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function eD(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function T3(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Mh(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Aa(t),l=nm({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:c,y:d}=n?Nb(l,e):l;return{xSnapped:c,ySnapped:d,...l}}const kb=t=>({width:t.offsetWidth,height:t.offsetHeight}),tD=t=>t?.getRootNode?.()||window?.document,tee=["INPUT","SELECT","TEXTAREA"];function vE(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:tee.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const nD=t=>"clientX"in t,Aa=(t,e)=>{const n=nD(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},q3=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...kb(o)}})};function rD({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const c=t*.125+i*.375+o*.375+n*.125,d=e*.125+s*.375+l*.375+r*.125,f=Math.abs(c-t),h=Math.abs(d-e);return[c,d,f,h]}function Pg(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function R3({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Dt.Left:return[e-Pg(e-r,s),n];case Dt.Right:return[e+Pg(r-e,s),n];case Dt.Top:return[e,n-Pg(n-i,s)];case Dt.Bottom:return[e,n+Pg(i-n,s)]}}function J1({sourceX:t,sourceY:e,sourcePosition:n=Dt.Bottom,targetX:r,targetY:i,targetPosition:s=Dt.Top,curvature:o=.25}){const[l,c]=R3({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[d,f]=R3({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[h,b,x,_]=rD({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${t},${e} C${l},${c} ${d},${f} ${r},${i}`,h,b,x,_]}function iD({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[s,l,i,o]}function nee({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function ree({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Sb(wv(t),wv(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return kp(o,Eb(s))>0}const iee=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,see=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),oee=(t,e)=>{if(!t.source||!t.target)return e;let n;return H2(t)?n={...t}:n={...t,id:iee(t)},see(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function sD({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,l]=iD({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,l]}const A3={[Dt.Left]:{x:-1,y:0},[Dt.Right]:{x:1,y:0},[Dt.Top]:{x:0,y:-1},[Dt.Bottom]:{x:0,y:1}},aee=({source:t,sourcePosition:e=Dt.Bottom,target:n})=>e===Dt.Left||e===Dt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},j3=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function lee({source:t,sourcePosition:e=Dt.Bottom,target:n,targetPosition:r=Dt.Top,center:i,offset:s}){const o=A3[e],l=A3[r],c={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},f=aee({source:c,sourcePosition:e,target:d}),h=f.x!==0?"x":"y",b=f[h];let x=[],_,N;const I={x:0,y:0},T={x:0,y:0},[O,q,j,D]=iD({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*l[h]===-1){_=i.x??O,N=i.y??q;const z=[{x:_,y:c.y},{x:_,y:d.y}],P=[{x:c.x,y:N},{x:d.x,y:N}];o[h]===b?x=h==="x"?z:P:x=h==="x"?P:z}else{const z=[{x:c.x,y:d.y}],P=[{x:d.x,y:c.y}];if(h==="x"?x=o.x===b?P:z:x=o.y===b?z:P,e===r){const U=Math.abs(t[h]-n[h]);if(U<=s){const $=Math.min(s-1,s-U);o[h]===b?I[h]=(c[h]>t[h]?-1:1)*$:T[h]=(d[h]>n[h]?-1:1)*$}}if(e!==r){const U=h==="x"?"y":"x",$=o[h]===l[U],X=c[U]>d[U],Z=c[U]<d[U];(o[h]===1&&(!$&&X||$&&Z)||o[h]!==1&&(!$&&Z||$&&X))&&(x=h==="x"?z:P)}const R={x:c.x+I.x,y:c.y+I.y},B={x:d.x+T.x,y:d.y+T.y},F=Math.max(Math.abs(R.x-x[0].x),Math.abs(B.x-x[0].x)),W=Math.max(Math.abs(R.y-x[0].y),Math.abs(B.y-x[0].y));F>=W?(_=(R.x+B.x)/2,N=x[0].y):(_=x[0].x,N=(R.y+B.y)/2)}return[[t,{x:c.x+I.x,y:c.y+I.y},...x,{x:d.x+T.x,y:d.y+T.y},n],_,N,j,D]}function uee(t,e,n,r){const i=Math.min(j3(t,e)/2,j3(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*f}`}const l=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${s},${o+i*c}Q ${s},${o} ${s+i*l},${o}`}function bE({sourceX:t,sourceY:e,sourcePosition:n=Dt.Bottom,targetX:r,targetY:i,targetPosition:s=Dt.Top,borderRadius:o=5,centerX:l,centerY:c,offset:d=20}){const[f,h,b,x,_]=lee({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:l,y:c},offset:d});return[f.reduce((I,T,O)=>{let q="";return O>0&&O<f.length-1?q=uee(f[O-1],T,f[O+1],o):q=`${O===0?"M":"L"}${T.x} ${T.y}`,I+=q,I},""),h,b,x,_]}function P3(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function cee(t){const{sourceNode:e,targetNode:n}=t;if(!P3(e)||!P3(n))return null;const r=e.internals.handleBounds||F3(e.handles),i=n.internals.handleBounds||F3(n.handles),s=D3(r?.source??[],t.sourceHandle),o=D3(t.connectionMode===Md.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",za.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=s?.position||Dt.Bottom,c=o?.position||Dt.Top,d=Ip(e,s,l),f=Ip(n,o,c);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}function F3(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Ip(t,e,n=Dt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??Wa(t);if(r)return{x:i+o/2,y:s+l/2};switch(e?.position??n){case Dt.Top:return{x:i+o/2,y:s};case Dt.Right:return{x:i+o,y:s+l/2};case Dt.Bottom:return{x:i+o/2,y:s+l};case Dt.Left:return{x:i,y:s+l/2}}}function D3(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function xE(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function dee(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const d=xE(c,e);s.has(d)||(o.push({id:d,color:c.color||n,...c}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const Y1={nodeOrigin:[0,0],nodeExtent:Ep,elevateNodesOnSelect:!0,defaults:{}},fee={...Y1,checkEquality:!0};function X1(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function hee(t,e,n){const r=X1(Y1,n);for(const i of t.values())if(i.parentId)eN(i,t,e,r);else{const s=em(i,r.nodeOrigin),o=zd(i.extent)?i.extent:r.nodeExtent,l=tc(s,o,Wa(i));i.internals.positionAbsolute=l}}function wE(t,e,n,r){const i=X1(fee,r),s=new Map(e),o=i?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let c=s.get(l.id);if(i.checkEquality&&l===c?.internals.userNode)e.set(l.id,c);else{const d=em(l,i.nodeOrigin),f=zd(l.extent)?l.extent:i.nodeExtent,h=tc(d,f,Wa(l));c={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:h,handleBounds:l.measured?c?.internals.handleBounds:void 0,z:oD(l,o),userNode:l}},e.set(l.id,c)}l.parentId&&eN(c,e,n,r)}}function pee(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function eN(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=X1(Y1,r),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}pee(t,n);const d=i?1e3:0,{x:f,y:h,z:b}=mee(t,c,s,o,d),{positionAbsolute:x}=t.internals,_=f!==x.x||h!==x.y;(_||b!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:_?{x:f,y:h}:x,z:b})}function oD(t,e){return(yo(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function mee(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,l=Wa(t),c=em(t,n),d=zd(t.extent)?tc(c,t.extent,l):c;let f=tc({x:s+d.x,y:o+d.y},r,l);t.extent==="parent"&&(f=G2(f,l,e));const h=oD(t,i),b=e.internals.z??0;return{x:f.x,y:f.y,z:b>h?b:h}}function tN(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const l=e.get(o.parentId);if(!l)continue;const c=s.get(o.parentId)?.expandedRect??Bd(l),d=J2(c,o.rect);s.set(o.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:o,parent:l},c)=>{const d=l.internals.positionAbsolute,f=Wa(l),h=l.origin??r,b=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,x=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,_=Math.max(f.width,Math.round(o.width)),N=Math.max(f.height,Math.round(o.height)),I=(_-f.width)*h[0],T=(N-f.height)*h[1];(b>0||x>0||I||T)&&(i.push({id:c,type:"position",position:{x:l.position.x-b+I,y:l.position.y-x+T}}),n.get(c)?.forEach(O=>{t.some(q=>q.id===O.id)||i.push({id:O.id,type:"position",position:{x:O.position.x+b,y:O.position.y+x}})})),(f.width<o.width||f.height<o.height||b||x)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:_+(b?h[0]*b-I:0),height:N+(x?h[1]*x-T:0)}})}),i}function gee(t,e,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const b of t.values()){const x=e.get(b.id);if(x)if(x.hidden)x.internals={...x.internals,handleBounds:void 0},l=!0;else{const _=kb(b.nodeElement),N=x.measured.width!==_.width||x.measured.height!==_.height;if(!!(_.width&&_.height&&(N||!x.internals.handleBounds||b.force))){const T=b.nodeElement.getBoundingClientRect(),O=zd(x.extent)?x.extent:s;let{positionAbsolute:q}=x.internals;x.parentId&&x.extent==="parent"?q=G2(q,_,e.get(x.parentId)):O&&(q=tc(q,O,_)),x.measured=_,x.internals={...x.internals,positionAbsolute:q,handleBounds:{source:q3("source",b.nodeElement,T,f,x.id),target:q3("target",b.nodeElement,T,f,x.id)}},x.parentId&&eN(x,e,n,{nodeOrigin:i}),l=!0,N&&(c.push({id:x.id,type:"dimensions",dimensions:_}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:Bd(x,i)}))}}}if(h.length>0){const b=tN(h,e,n,i);c.push(...b)}return{changes:c,updatedInternals:l}}async function yee({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function L3(t,e,n,r,i,s){let o=i;const l=r.get(o)||new Map;r.set(o,l.set(n,e)),o=`${i}-${t}`;const c=r.get(o)||new Map;if(r.set(o,c.set(n,e)),s){o=`${i}-${t}-${s}`;const d=r.get(o)||new Map;r.set(o,d.set(n,e))}}function aD(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,c={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l},d=`${i}-${o}`,f=`${s}-${l}`;L3("source",c,f,t,i,o),L3("target",c,d,t,s,l),e.set(r.id,r)}}function lD(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:lD(n,e):!1}function M3(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function vee(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!lD(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function H0({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,l]of e){const c=n.get(o)?.internals.userNode;c&&i.push({...c,position:l.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function bee({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,c=!1,d={x:0,y:0},f=null,h=!1,b=null,x=!1;function _({noDragClassName:I,handleSelector:T,domNode:O,isSelectable:q,nodeId:j,nodeClickDistance:D=0}){b=cs(O);function L({x:B,y:F},W){const{nodeLookup:U,nodeExtent:$,snapGrid:X,snapToGrid:Z,nodeOrigin:ae,onNodeDrag:ie,onSelectionDrag:ee,onError:se,updateNodePositions:Y}=e();s={x:B,y:F};let ce=!1,de={x:0,y:0,x2:0,y2:0};if(l.size>1&&$){const ye=tm(l);de=yE(ye)}for(const[ye,we]of l){if(!U.has(ye))continue;let Ne={x:B-we.distance.x,y:F-we.distance.y};Z&&(Ne=Nb(Ne,X));let ze=[[$[0][0],$[0][1]],[$[1][0],$[1][1]]];if(l.size>1&&$&&!we.extent){const{positionAbsolute:Ze}=we.internals,Xe=Ze.x-de.x+$[0][0],Ue=Ze.x+we.measured.width-de.x2+$[1][0],ut=Ze.y-de.y+$[0][1],_t=Ze.y+we.measured.height-de.y2+$[1][1];ze=[[Xe,ut],[Ue,_t]]}const{position:qe,positionAbsolute:De}=K2({nodeId:ye,nextPosition:Ne,nodeLookup:U,nodeExtent:ze,nodeOrigin:ae,onError:se});ce=ce||we.position.x!==qe.x||we.position.y!==qe.y,we.position=qe,we.internals.positionAbsolute=De}if(ce&&(Y(l,!0),W&&(r||ie||!j&&ee))){const[ye,we]=H0({nodeId:j,dragItems:l,nodeLookup:U});r?.(W,l,ye,we),ie?.(W,ye,we),j||ee?.(W,we)}}async function z(){if(!f)return;const{transform:B,panBy:F,autoPanSpeed:W}=e(),[U,$]=Z2(d,f,W);(U!==0||$!==0)&&(s.x=(s.x??0)-U/B[2],s.y=(s.y??0)-$/B[2],await F({x:U,y:$})&&L(s,null)),o=requestAnimationFrame(z)}function P(B){const{nodeLookup:F,multiSelectionActive:W,nodesDraggable:U,transform:$,snapGrid:X,snapToGrid:Z,selectNodesOnDrag:ae,onNodeDragStart:ie,onSelectionDragStart:ee,unselectNodesAndEdges:se}=e();h=!0,(!ae||!q)&&!W&&j&&(F.get(j)?.selected||se()),q&&ae&&j&&t?.(j);const Y=Mh(B.sourceEvent,{transform:$,snapGrid:X,snapToGrid:Z,containerBounds:f});if(s=Y,l=vee(F,U,Y,j),l.size>0&&(n||ie||!j&&ee)){const[ce,de]=H0({nodeId:j,dragItems:l,nodeLookup:F});n?.(B.sourceEvent,l,ce,de),ie?.(B.sourceEvent,ce,de),j||ee?.(B.sourceEvent,de)}}const R=I2().clickDistance(D).on("start",B=>{const{domNode:F,nodeDragThreshold:W,transform:U,snapGrid:$,snapToGrid:X}=e();f=F?.getBoundingClientRect()||null,x=!1,W===0&&P(B),s=Mh(B.sourceEvent,{transform:U,snapGrid:$,snapToGrid:X,containerBounds:f}),d=Aa(B.sourceEvent,f)}).on("drag",B=>{const{autoPanOnNodeDrag:F,transform:W,snapGrid:U,snapToGrid:$,nodeDragThreshold:X,nodeLookup:Z}=e(),ae=Mh(B.sourceEvent,{transform:W,snapGrid:U,snapToGrid:$,containerBounds:f});if((B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||j&&!Z.has(j))&&(x=!0),!x){if(!c&&F&&h&&(c=!0,z()),!h){const ie=ae.xSnapped-(s.x??0),ee=ae.ySnapped-(s.y??0);Math.sqrt(ie*ie+ee*ee)>X&&P(B)}(s.x!==ae.xSnapped||s.y!==ae.ySnapped)&&l&&h&&(d=Aa(B.sourceEvent,f),L(ae,B.sourceEvent))}}).on("end",B=>{if(!(!h||x)&&(c=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:F,updateNodePositions:W,onNodeDragStop:U,onSelectionDragStop:$}=e();if(W(l,!1),i||U||!j&&$){const[X,Z]=H0({nodeId:j,dragItems:l,nodeLookup:F,dragging:!1});i?.(B.sourceEvent,l,X,Z),U?.(B.sourceEvent,X,Z),j||$?.(B.sourceEvent,Z)}}}).filter(B=>{const F=B.target;return!B.button&&(!I||!M3(F,`.${I}`,O))&&(!T||M3(F,T,O))});b.call(R)}function N(){b?.on(".drag",null)}return{update:_,destroy:N}}function xee(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())kp(i,Bd(s))>0&&r.push(s);return r}const wee=250;function _ee(t,e,n,r){let i=[],s=1/0;const o=xee(t,n,e+wee);for(const l of o){const c=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:h}=Ip(l,d,d.position,!0),b=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(h-t.y,2));b>e||(b<s?(i=[{...d,x:f,y:h}],s=b):b===s&&i.push({...d,x:f,y:h}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(c=>c.type===l)??i[0]}return i[0]}function uD(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const l=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],c=(n?l?.find(d=>d.id===n):l?.[0])??null;return c&&s?{...c,...Ip(o,c,c.position,!0)}:c}function cD(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function See(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const dD=()=>!0;function Eee(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:f,flowId:h,panBy:b,cancelConnection:x,onConnectStart:_,onConnect:N,onConnectEnd:I,isValidConnection:T=dD,onReconnectEnd:O,updateConnection:q,getTransform:j,getFromHandle:D,autoPanSpeed:L}){const z=tD(t.target);let P=0,R;const{x:B,y:F}=Aa(t),W=z?.elementFromPoint(B,F),U=cD(s,W),$=l?.getBoundingClientRect();if(!$||!U)return;const X=uD(i,U,r,c,e);if(!X)return;let Z=Aa(t,$),ae=!1,ie=null,ee=!1,se=null;function Y(){if(!f||!$)return;const[De,Ze]=Z2(Z,$,L);b({x:De,y:Ze}),P=requestAnimationFrame(Y)}const ce={...X,nodeId:i,type:U,position:X.position},de=c.get(i),we={inProgress:!0,isValid:null,from:Ip(de,ce,Dt.Left,!0),fromHandle:ce,fromPosition:ce.position,fromNode:de,to:Z,toHandle:null,toPosition:I3[ce.position],toNode:null};q(we);let Ne=we;_?.(t,{nodeId:i,handleId:r,handleType:U});function ze(De){if(!D()||!ce){qe(De);return}const Ze=j();Z=Aa(De,$),R=_ee(nm(Z,Ze,!1,[1,1]),n,c,ce),ae||(Y(),ae=!0);const Xe=fD(De,{handle:R,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:T,doc:z,lib:d,flowId:h,nodeLookup:c});se=Xe.handleDomNode,ie=Xe.connection,ee=See(!!R,Xe.isValid);const Ue={...Ne,isValid:ee,to:R&&ee?Y2({x:R.x,y:R.y},Ze):Z,toHandle:Xe.toHandle,toPosition:ee&&Xe.toHandle?Xe.toHandle.position:I3[ce.position],toNode:Xe.toHandle?c.get(Xe.toHandle.nodeId):null};ee&&R&&Ne.toHandle&&Ue.toHandle&&Ne.toHandle.type===Ue.toHandle.type&&Ne.toHandle.nodeId===Ue.toHandle.nodeId&&Ne.toHandle.id===Ue.toHandle.id&&Ne.to.x===Ue.to.x&&Ne.to.y===Ue.to.y||(q(Ue),Ne=Ue)}function qe(De){(R||se)&&ie&&ee&&N?.(ie);const{inProgress:Ze,...Xe}=Ne,Ue={...Xe,toPosition:Ne.toHandle?Ne.toPosition:null};I?.(De,Ue),s&&O?.(De,Ue),x(),cancelAnimationFrame(P),ae=!1,ee=!1,ie=null,se=null,z.removeEventListener("mousemove",ze),z.removeEventListener("mouseup",qe),z.removeEventListener("touchmove",ze),z.removeEventListener("touchend",qe)}z.addEventListener("mousemove",ze),z.addEventListener("mouseup",qe),z.addEventListener("touchmove",ze),z.addEventListener("touchend",qe)}function fD(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:c,isValidConnection:d=dD,nodeLookup:f}){const h=s==="target",b=e?o.querySelector(`.${l}-flow__handle[data-id="${c}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x,y:_}=Aa(t),N=o.elementFromPoint(x,_),I=N?.classList.contains(`${l}-flow__handle`)?N:b,T={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const O=cD(void 0,I),q=I.getAttribute("data-nodeid"),j=I.getAttribute("data-handleid"),D=I.classList.contains("connectable"),L=I.classList.contains("connectableend");if(!q||!O)return T;const z={source:h?q:r,sourceHandle:h?j:i,target:h?r:q,targetHandle:h?i:j};T.connection=z;const R=D&&L&&(n===Md.Strict?h&&O==="source"||!h&&O==="target":q!==r||j!==i);T.isValid=R&&d(z),T.toHandle=uD(q,O,j,f,n,!1)}return T}const _E={onPointerDown:Eee,isValid:fD};function Nee({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=cs(t);function s({translateExtent:l,width:c,height:d,zoomStep:f=10,pannable:h=!0,zoomable:b=!0,inversePan:x=!1}){const _=q=>{const j=n();if(q.sourceEvent.type!=="wheel"||!e)return;const D=-q.sourceEvent.deltaY*(q.sourceEvent.deltaMode===1?.05:q.sourceEvent.deltaMode?1:.002)*f,L=j[2]*Math.pow(2,D);e.scaleTo(L)};let N=[0,0];const I=q=>{(q.sourceEvent.type==="mousedown"||q.sourceEvent.type==="touchstart")&&(N=[q.sourceEvent.clientX??q.sourceEvent.touches[0].clientX,q.sourceEvent.clientY??q.sourceEvent.touches[0].clientY])},T=q=>{const j=n();if(q.sourceEvent.type!=="mousemove"&&q.sourceEvent.type!=="touchmove"||!e)return;const D=[q.sourceEvent.clientX??q.sourceEvent.touches[0].clientX,q.sourceEvent.clientY??q.sourceEvent.touches[0].clientY],L=[D[0]-N[0],D[1]-N[1]];N=D;const z=r()*Math.max(j[2],Math.log(j[2]))*(x?-1:1),P={x:j[0]-L[0]*z,y:j[1]-L[1]*z},R=[[0,0],[c,d]];e.setViewportConstrained({x:P.x,y:P.y,zoom:j[2]},R,l)},O=z2().on("start",I).on("zoom",h?T:null).on("zoom.wheel",b?_:null);i.call(O,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:uo}}const kee=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Ib=t=>({x:t.x,y:t.y,zoom:t.k}),Q0=({x:t,y:e,zoom:n})=>_b.translate(t,e).scale(n),id=(t,e)=>t.target.closest(`.${e}`),hD=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),K0=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},pD=t=>{const e=t.ctrlKey&&_v()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Iee({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return f=>{if(id(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&o){const I=uo(f),T=pD(f),O=h*Math.pow(2,T);r.scaleTo(n,O,I,f);return}const b=f.deltaMode===1?20:1;let x=i===zu.Vertical?0:f.deltaX*b,_=i===zu.Horizontal?0:f.deltaY*b;!_v()&&f.shiftKey&&i!==zu.Vertical&&(x=f.deltaY*b,_=0),r.translateBy(n,-(x/h)*s,-(_/h)*s,{internal:!0});const N=Ib(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l?.(f,N)),t.isPanScrolling&&(c?.(f,N),t.panScrollTimeout=setTimeout(()=>{d?.(f,N),t.isPanScrolling=!1},150))}}function Cee({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||id(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function Oee({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Ib(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function Tee({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&hD(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,Ib(s.transform))}}function qee({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&hD(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&kee(t.prevViewport,o.transform))){const l=Ib(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,l)},n?150:0)}}}function Ree({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:c,lib:d}){return f=>{const h=t||e,b=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(id(f,`${d}-flow__node`)||id(f,`${d}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||o||id(f,l)&&f.type==="wheel"||id(f,c)&&(f.type!=="wheel"||i&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&f.touches?.length>1)return f.preventDefault(),!1;if(!h&&!i&&!b&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&x}}function Aee({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),b=z2().clickDistance(!yo(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),x=cs(t).call(b);q({x:s.x,y:s.y,zoom:$d(s.zoom,e,n)},[[0,0],[h.width,h.height]],i);const _=x.on("wheel.zoom"),N=x.on("dblclick.zoom");b.wheelDelta(pD);function I(W,U){return x?new Promise($=>{b?.transform(K0(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function T({noWheelClassName:W,noPanClassName:U,onPaneContextMenu:$,userSelectionActive:X,panOnScroll:Z,panOnDrag:ae,panOnScrollMode:ie,panOnScrollSpeed:ee,preventScrolling:se,zoomOnPinch:Y,zoomOnScroll:ce,zoomOnDoubleClick:de,zoomActivationKeyPressed:ye,lib:we,onTransformChange:Ne}){X&&!f.isZoomingOrPanning&&O();const qe=Z&&!ye&&!X?Iee({zoomPanValues:f,noWheelClassName:W,d3Selection:x,d3Zoom:b,panOnScrollMode:ie,panOnScrollSpeed:ee,zoomOnPinch:Y,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):Cee({noWheelClassName:W,preventScrolling:se,d3ZoomHandler:_});if(x.on("wheel.zoom",qe,{passive:!1}),!X){const Ze=Oee({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});b.on("start",Ze);const Xe=Tee({zoomPanValues:f,panOnDrag:ae,onPaneContextMenu:!!$,onPanZoom:o,onTransformChange:Ne});b.on("zoom",Xe);const Ue=qee({zoomPanValues:f,panOnDrag:ae,panOnScroll:Z,onPaneContextMenu:$,onPanZoomEnd:c,onDraggingChange:d});b.on("end",Ue)}const De=Ree({zoomActivationKeyPressed:ye,panOnDrag:ae,zoomOnScroll:ce,panOnScroll:Z,zoomOnDoubleClick:de,zoomOnPinch:Y,userSelectionActive:X,noPanClassName:U,noWheelClassName:W,lib:we});b.filter(De),de?x.on("dblclick.zoom",N):x.on("dblclick.zoom",null)}function O(){b.on("zoom",null)}async function q(W,U,$){const X=Q0(W),Z=b?.constrain()(X,U,$);return Z&&await I(Z),new Promise(ae=>ae(Z))}async function j(W,U){const $=Q0(W);return await I($,U),new Promise(X=>X($))}function D(W){if(x){const U=Q0(W),$=x.property("__zoom");($.k!==W.zoom||$.x!==W.x||$.y!==W.y)&&b?.transform(x,U,null,{sync:!0})}}function L(){const W=x?B2(x.node()):{x:0,y:0,k:1};return{x:W.x,y:W.y,zoom:W.k}}function z(W,U){return x?new Promise($=>{b?.scaleTo(K0(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function P(W,U){return x?new Promise($=>{b?.scaleBy(K0(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function R(W){b?.scaleExtent(W)}function B(W){b?.translateExtent(W)}function F(W){const U=!yo(W)||W<0?0:W;b?.clickDistance(U)}return{update:T,destroy:O,setViewport:j,setViewportConstrained:q,getViewport:L,scaleTo:z,scaleBy:P,setScaleExtent:R,setTranslateExtent:B,syncViewport:D,setClickDistance:F}}var $h;(function(t){t.Line="line",t.Handle="handle"})($h||($h={}));function jee({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,l=n-r,c=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function Pee(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function gl(t,e){return Math.max(0,e-t)}function yl(t,e){return Math.max(0,t-e)}function Fg(t,e,n){return Math.max(0,e-t,t-n)}function $3(t,e){return t?!e:e}function Fee(t,e,n,r,i,s,o,l){let{affectsX:c,affectsY:d}=e;const{isHorizontal:f,isVertical:h}=e,b=f&&h,{xSnapped:x,ySnapped:_}=n,{minWidth:N,maxWidth:I,minHeight:T,maxHeight:O}=r,{x:q,y:j,width:D,height:L,aspectRatio:z}=t;let P=Math.floor(f?x-t.pointerX:0),R=Math.floor(h?_-t.pointerY:0);const B=D+(c?-P:P),F=L+(d?-R:R),W=-s[0]*D,U=-s[1]*L;let $=Fg(B,N,I),X=Fg(F,T,O);if(o){let ie=0,ee=0;c&&P<0?ie=gl(q+P+W,o[0][0]):!c&&P>0&&(ie=yl(q+B+W,o[1][0])),d&&R<0?ee=gl(j+R+U,o[0][1]):!d&&R>0&&(ee=yl(j+F+U,o[1][1])),$=Math.max($,ie),X=Math.max(X,ee)}if(l){let ie=0,ee=0;c&&P>0?ie=yl(q+P,l[0][0]):!c&&P<0&&(ie=gl(q+B,l[1][0])),d&&R>0?ee=yl(j+R,l[0][1]):!d&&R<0&&(ee=gl(j+F,l[1][1])),$=Math.max($,ie),X=Math.max(X,ee)}if(i){if(f){const ie=Fg(B/z,T,O)*z;if($=Math.max($,ie),o){let ee=0;!c&&!d||c&&!d&&b?ee=yl(j+U+B/z,o[1][1])*z:ee=gl(j+U+(c?P:-P)/z,o[0][1])*z,$=Math.max($,ee)}if(l){let ee=0;!c&&!d||c&&!d&&b?ee=gl(j+B/z,l[1][1])*z:ee=yl(j+(c?P:-P)/z,l[0][1])*z,$=Math.max($,ee)}}if(h){const ie=Fg(F*z,N,I)/z;if(X=Math.max(X,ie),o){let ee=0;!c&&!d||d&&!c&&b?ee=yl(q+F*z+W,o[1][0])/z:ee=gl(q+(d?R:-R)*z+W,o[0][0])/z,X=Math.max(X,ee)}if(l){let ee=0;!c&&!d||d&&!c&&b?ee=gl(q+F*z,l[1][0])/z:ee=yl(q+(d?R:-R)*z,l[0][0])/z,X=Math.max(X,ee)}}}R=R+(R<0?X:-X),P=P+(P<0?$:-$),i&&(b?B>F*z?R=($3(c,d)?-P:P)/z:P=($3(c,d)?-R:R)*z:f?(R=P/z,d=c):(P=R*z,c=d));const Z=c?q+P:q,ae=d?j+R:j;return{width:D+(c?-P:P),height:L+(d?-R:R),x:s[0]*P*(c?-1:1)+Z,y:s[1]*R*(d?-1:1)+ae}}const mD={width:0,height:0,x:0,y:0},Dee={...mD,pointerX:0,pointerY:0,aspectRatio:1};function Lee(t){return[[0,0],[t.measured.width,t.measured.height]]}function Mee(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,l=n[0]*s,c=n[1]*o;return[[r-l,i-c],[r+s-l,i+o-c]]}function $ee({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=cs(t);function o({controlPosition:c,boundaries:d,keepAspectRatio:f,onResizeStart:h,onResize:b,onResizeEnd:x,shouldResize:_}){let N={...mD},I={...Dee};const T=Pee(c);let O,q=null,j=[],D,L,z;const P=I2().on("start",R=>{const{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,paneDomNode:X}=n();if(O=B.get(e),!O)return;q=X?.getBoundingClientRect()??null;const{xSnapped:Z,ySnapped:ae}=Mh(R.sourceEvent,{transform:F,snapGrid:W,snapToGrid:U,containerBounds:q});N={width:O.measured.width??0,height:O.measured.height??0,x:O.position.x??0,y:O.position.y??0},I={...N,pointerX:Z,pointerY:ae,aspectRatio:N.width/N.height},D=void 0,O.parentId&&(O.extent==="parent"||O.expandParent)&&(D=B.get(O.parentId),L=D&&O.extent==="parent"?Lee(D):void 0),j=[],z=void 0;for(const[ie,ee]of B)if(ee.parentId===e&&(j.push({id:ie,position:{...ee.position},extent:ee.extent}),ee.extent==="parent"||ee.expandParent)){const se=Mee(ee,O,ee.origin??$);z?z=[[Math.min(se[0][0],z[0][0]),Math.min(se[0][1],z[0][1])],[Math.max(se[1][0],z[1][0]),Math.max(se[1][1],z[1][1])]]:z=se}h?.(R,{...N})}).on("drag",R=>{const{transform:B,snapGrid:F,snapToGrid:W,nodeOrigin:U}=n(),$=Mh(R.sourceEvent,{transform:B,snapGrid:F,snapToGrid:W,containerBounds:q}),X=[];if(!O)return;const{x:Z,y:ae,width:ie,height:ee}=N,se={},Y=O.origin??U,{width:ce,height:de,x:ye,y:we}=Fee(I,T,$,d,f,Y,L,z),Ne=ce!==ie,ze=de!==ee,qe=ye!==Z&&Ne,De=we!==ae&&ze;if(!qe&&!De&&!Ne&&!ze)return;if((qe||De||Y[0]===1||Y[1]===1)&&(se.x=qe?ye:N.x,se.y=De?we:N.y,N.x=se.x,N.y=se.y,j.length>0)){const ut=ye-Z,_t=we-ae;for(const Ot of j)Ot.position={x:Ot.position.x-ut+Y[0]*(ce-ie),y:Ot.position.y-_t+Y[1]*(de-ee)},X.push(Ot)}if((Ne||ze)&&(se.width=Ne?ce:N.width,se.height=ze?de:N.height,N.width=se.width,N.height=se.height),D&&O.expandParent){const ut=Y[0]*(se.width??0);se.x&&se.x<ut&&(N.x=ut,I.x=I.x-(se.x-ut));const _t=Y[1]*(se.height??0);se.y&&se.y<_t&&(N.y=_t,I.y=I.y-(se.y-_t))}const Ze=jee({width:N.width,prevWidth:ie,height:N.height,prevHeight:ee,affectsX:T.affectsX,affectsY:T.affectsY}),Xe={...N,direction:Ze};_?.(R,Xe)!==!1&&(b?.(R,Xe),r(se,X))}).on("end",R=>{x?.(R,{...N}),i?.()});s.call(P)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}const B3=t=>{let e;const n=new Set,r=(f,h)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const x=e;e=h??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(_=>_(e,x))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{n.clear()}},d=e=t(r,i,c);return c},Bee=t=>t?B3(t):B3,{useDebugValue:zee}=An,{useSyncExternalStoreWithSelector:Wee}=L4,Uee=t=>t;function gD(t,e=Uee,n){const r=Wee(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return zee(r),r}const z3=(t,e)=>{const n=Bee(t),r=(i,s=e)=>gD(n,i,s);return Object.assign(r,n),r},Vee=(t,e)=>t?z3(t,e):z3;function wr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const Cb=Q.createContext(null),Hee=Cb.Provider,yD=za.error001();function Nn(t,e){const n=Q.useContext(Cb);if(n===null)throw new Error(yD);return gD(n,t,e)}function dr(){const t=Q.useContext(Cb);if(t===null)throw new Error(yD);return Q.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const W3={display:"none"},Qee={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vD="react-flow__node-desc",bD="react-flow__edge-desc",Kee="react-flow__aria-live",Gee=t=>t.ariaLiveMessage;function Zee({rfId:t}){const e=Nn(Gee);return m.jsx("div",{id:`${Kee}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Qee,children:e})}function Jee({rfId:t,disableKeyboardA11y:e}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{id:`${vD}-${t}`,style:W3,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),m.jsx("div",{id:`${bD}-${t}`,style:W3,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&m.jsx(Zee,{rfId:t})]})}const Yee=t=>t.userSelectionActive?"none":"all",nN=Q.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=Nn(Yee),l=`${t}`.split("-");return m.jsx("div",{className:$r(["react-flow__panel",n,...l]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});function Xee({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:m.jsx(nN,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ete=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Dg=t=>t.id;function tte(t,e){return wr(t.selectedNodes.map(Dg),e.selectedNodes.map(Dg))&&wr(t.selectedEdges.map(Dg),e.selectedEdges.map(Dg))}function nte({onSelectionChange:t}){const e=dr(),{selectedNodes:n,selectedEdges:r}=Nn(ete,tte);return Q.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const rte=t=>!!t.onSelectionChangeHandlers;function ite({onSelectionChange:t}){const e=Nn(rte);return t||e?m.jsx(nte,{onSelectionChange:t}):null}const xD=[0,0],ste={x:0,y:0,zoom:1},ote=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],U3=[...ote,"rfId"],ate=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),V3={translateExtent:Ep,nodeOrigin:xD,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function lte(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=Nn(ate,wr),f=dr();Q.useEffect(()=>(c(t.defaultNodes,t.defaultEdges),()=>{h.current=V3,l()}),[]);const h=Q.useRef(V3);return Q.useEffect(()=>{for(const b of U3){const x=t[b],_=h.current[b];x!==_&&(typeof t[b]>"u"||(b==="nodes"?e(x):b==="edges"?n(x):b==="minZoom"?r(x):b==="maxZoom"?i(x):b==="translateExtent"?s(x):b==="nodeExtent"?o(x):b==="paneClickDistance"?d(x):b==="fitView"?f.setState({fitViewOnInit:x}):b==="fitViewOptions"?f.setState({fitViewOnInitOptions:x}):f.setState({[b]:x})))}h.current=t},U3.map(b=>t[b])),null}function H3(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function ute(t){const[e,n]=Q.useState(t==="system"?null:t);return Q.useEffect(()=>{if(t!=="system"){n(t);return}const r=H3(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:H3()?.matches?"dark":"light"}const Q3=typeof document<"u"?document:null;function Cp(t=null,e={target:Q3,actInsideInputWithModifier:!0}){const[n,r]=Q.useState(!1),i=Q.useRef(!1),s=Q.useRef(new Set([])),[o,l]=Q.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((h,b)=>h.concat(...b),[]);return[d,f]}return[[],[]]},[t]);return Q.useEffect(()=>{const c=e?.target||Q3;if(t!==null){const d=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&vE(b))return!1;const _=G3(b.code,l);s.current.add(b[_]),K3(o,s.current,!1)&&(b.preventDefault(),r(!0))},f=b=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&vE(b))return!1;const _=G3(b.code,l);K3(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[_]),b.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return c?.addEventListener("keydown",d),c?.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c?.removeEventListener("keydown",d),c?.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function K3(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function G3(t,e){return e.includes(t)?"code":"key"}const cte=()=>{const t=dr();return Q.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const l=mE(n,e),{width:c,height:d}=kb(o);return gE({nodes:l,width:c,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:l}=t.getState(),c=typeof r?.zoom<"u"?r.zoom:o,d=i/2-e*c,f=s/2-n*c;return l?(await l.setViewport({x:d,y:f,zoom:c},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),c=Z1(e,r,i,s,o,n?.padding??.1);return l?(await l.setViewport(c,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:l}=s.getBoundingClientRect(),c={x:e.x-o,y:e.y-l};return nm(c,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=Y2(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function wD(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const c of o)dte(c,l);n.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function dte(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function fte(t,e){return wD(t,e)}function hte(t,e){return wD(t,e)}function ku(t,e){return{id:t,type:"select",selected:e}}function sd(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(ku(s.id,o)))}return r}function Z3({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),l=o?.internals?.userNode??o;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function J3(t){return{id:t.id,type:"remove"}}const Y3=t=>ZX(t),pte=t=>H2(t);function _D(t){return Q.forwardRef(t)}const mte=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function X3(t){const[e,n]=Q.useState(BigInt(0)),[r]=Q.useState(()=>gte(()=>n(i=>i+BigInt(1))));return mte(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function gte(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const SD=Q.createContext(null);function yte({children:t}){const e=dr(),n=Q.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:f,onNodesChange:h,nodeLookup:b}=e.getState();let x=c;for(const _ of l)x=typeof _=="function"?_(x):_;f?d(x):h&&h(Z3({items:x,lookup:b}))},[]),r=X3(n),i=Q.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:b}=e.getState();let x=c;for(const _ of l)x=typeof _=="function"?_(x):_;f?d(x):h&&h(Z3({items:x,lookup:b}))},[]),s=X3(i),o=Q.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return m.jsx(SD.Provider,{value:o,children:t})}function vte(){const t=Q.useContext(SD);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const bte=t=>!!t.panZoom;function rm(){const t=cte(),e=dr(),n=vte(),r=Nn(bte),i=Q.useMemo(()=>{const s=h=>e.getState().nodeLookup.get(h),o=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},c=h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState(),_=Y3(h)?h:b.get(h.id),N=_.parentId?eD(_.position,_.measured,_.parentId,b,x):_.position,I={..._,position:N,width:_.measured?.width??_.width,height:_.measured?.height??_.height};return Bd(I)},d=(h,b,x={replace:!1})=>{o(_=>_.map(N=>{if(N.id===h){const I=typeof b=="function"?b(N):b;return x.replace&&Y3(I)?I:{...N,...I}}return N}))},f=(h,b,x={replace:!1})=>{l(_=>_.map(N=>{if(N.id===h){const I=typeof b=="function"?b(N):b;return x.replace&&pte(I)?I:{...N,...I}}return N}))};return{getNodes:()=>e.getState().nodes.map(h=>({...h})),getNode:h=>s(h)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:h=[]}=e.getState();return h.map(b=>({...b}))},getEdge:h=>e.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const b=Array.isArray(h)?h:[h];n.nodeQueue.push(x=>[...x,...b])},addEdges:h=>{const b=Array.isArray(h)?h:[h];n.edgeQueue.push(x=>[...x,...b])},toObject:()=>{const{nodes:h=[],edges:b=[],transform:x}=e.getState(),[_,N,I]=x;return{nodes:h.map(T=>({...T})),edges:b.map(T=>({...T})),viewport:{x:_,y:N,zoom:I}}},deleteElements:async({nodes:h=[],edges:b=[]})=>{const{nodes:x,edges:_,onNodesDelete:N,onEdgesDelete:I,triggerNodeChanges:T,triggerEdgeChanges:O,onDelete:q,onBeforeDelete:j}=e.getState(),{nodes:D,edges:L}=await XX({nodesToRemove:h,edgesToRemove:b,nodes:x,edges:_,onBeforeDelete:j}),z=L.length>0,P=D.length>0;if(z){const R=L.map(J3);I?.(L),O(R)}if(P){const R=D.map(J3);N?.(D),T(R)}return(P||z)&&q?.({nodes:D,edges:L}),{deletedNodes:D,deletedEdges:L}},getIntersectingNodes:(h,b=!0,x)=>{const _=O3(h),N=_?h:c(h),I=x!==void 0;return N?(x||e.getState().nodes).filter(T=>{const O=e.getState().nodeLookup.get(T.id);if(O&&!_&&(T.id===h.id||!O.internals.positionAbsolute))return!1;const q=Bd(I?T:O),j=kp(q,N);return b&&j>0||j>=N.width*N.height}):[]},isNodeIntersecting:(h,b,x=!0)=>{const N=O3(h)?h:c(h);if(!N)return!1;const I=kp(N,b);return x&&I>0||I>=N.width*N.height},updateNode:d,updateNodeData:(h,b,x={replace:!1})=>{d(h,_=>{const N=typeof b=="function"?b(_):b;return x.replace?{..._,data:N}:{..._,data:{..._.data,...N}}},x)},updateEdge:f,updateEdgeData:(h,b,x={replace:!1})=>{f(h,_=>{const N=typeof b=="function"?b(_):b;return x.replace?{..._,data:N}:{..._,data:{..._.data,...N}}},x)},getNodesBounds:h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState();return JX(h,{nodeLookup:b,nodeOrigin:x})},getHandleConnections:({type:h,id:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}-${h}${b?`-${b}`:""}`)?.values()??[]),getNodeConnections:({type:h,handleId:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}${h?b?`-${h}-${b}`:`-${h}`:""}`)?.values()??[])}},[]);return Q.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const eR=t=>t.selected,xte={actInsideInputWithModifier:!1},wte=typeof window<"u"?window:void 0;function _te({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=dr(),{deleteElements:r}=rm(),i=Cp(t,xte),s=Cp(e,{target:wte});Q.useEffect(()=>{if(i){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(eR),edges:o.filter(eR)}),n.setState({nodesSelectionActive:!1})}},[i]),Q.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function Ste(t){const e=dr();Q.useEffect(()=>{const n=()=>{if(!t.current)return!1;const r=kb(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",za.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Ob={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ete=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function Nte({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=zu.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:f,maxZoom:h,zoomActivationKeyCode:b,preventScrolling:x=!0,children:_,noWheelClassName:N,noPanClassName:I,onViewportChange:T,isControlledViewport:O,paneClickDistance:q}){const j=dr(),D=Q.useRef(null),{userSelectionActive:L,lib:z}=Nn(Ete,wr),P=Cp(b),R=Q.useRef();Ste(D);const B=Q.useCallback(F=>{T?.({x:F[0],y:F[1],zoom:F[2]}),O||j.setState({transform:F})},[T,O]);return Q.useEffect(()=>{if(D.current){R.current=Aee({domNode:D.current,minZoom:f,maxZoom:h,translateExtent:d,viewport:c,paneClickDistance:q,onDraggingChange:$=>j.setState({paneDragging:$}),onPanZoomStart:($,X)=>{const{onViewportChangeStart:Z,onMoveStart:ae}=j.getState();ae?.($,X),Z?.(X)},onPanZoom:($,X)=>{const{onViewportChange:Z,onMove:ae}=j.getState();ae?.($,X),Z?.(X)},onPanZoomEnd:($,X)=>{const{onViewportChangeEnd:Z,onMoveEnd:ae}=j.getState();ae?.($,X),Z?.(X)}});const{x:F,y:W,zoom:U}=R.current.getViewport();return j.setState({panZoom:R.current,transform:[F,W,U],domNode:D.current.closest(".react-flow")}),()=>{R.current?.destroy()}}},[]),Q.useEffect(()=>{R.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:x,noPanClassName:I,userSelectionActive:L,noWheelClassName:N,lib:z,onTransformChange:B})},[t,e,n,r,i,s,o,l,P,x,I,L,N,z,B]),m.jsx("div",{className:"react-flow__renderer",ref:D,style:Ob,children:_})}const kte=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Ite(){const{userSelectionActive:t,userSelectionRect:e}=Nn(kte,wr);return t&&e?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const G0=(t,e)=>n=>{n.target===e.current&&t?.(n)},Cte=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function Ote({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Np.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:b,children:x}){const _=dr(),{userSelectionActive:N,elementsSelectable:I,dragging:T}=Nn(Cte,wr),O=I&&(t||N),q=Q.useRef(null),j=Q.useRef(),D=Q.useRef(new Set),L=Q.useRef(new Set),z=Q.useRef(!1),P=Q.useRef(!1),R=Z=>{if(z.current){z.current=!1;return}l?.(Z),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},B=Z=>{if(Array.isArray(r)&&r?.includes(2)){Z.preventDefault();return}c?.(Z)},F=d?Z=>d(Z):void 0,W=Z=>{const{resetSelectedElements:ae,domNode:ie}=_.getState();if(j.current=ie?.getBoundingClientRect(),!I||!t||Z.button!==0||Z.target!==q.current||!j.current)return;Z.target?.setPointerCapture?.(Z.pointerId),P.current=!0,z.current=!1;const{x:ee,y:se}=Aa(Z.nativeEvent,j.current);ae(),_.setState({userSelectionRect:{width:0,height:0,startX:ee,startY:se,x:ee,y:se}}),s?.(Z)},U=Z=>{const{userSelectionRect:ae,transform:ie,nodeLookup:ee,edgeLookup:se,connectionLookup:Y,triggerNodeChanges:ce,triggerEdgeChanges:de,defaultEdgeOptions:ye}=_.getState();if(!j.current||!ae)return;z.current=!0;const{x:we,y:Ne}=Aa(Z.nativeEvent,j.current),{startX:ze,startY:qe}=ae,De={startX:ze,startY:qe,x:we<ze?we:ze,y:Ne<qe?Ne:qe,width:Math.abs(we-ze),height:Math.abs(Ne-qe)},Ze=D.current,Xe=L.current;D.current=new Set(Q2(ee,De,ie,n===Np.Partial,!0).map(ut=>ut.id)),L.current=new Set;const Ue=ye?.selectable??!0;for(const ut of D.current){const _t=Y.get(ut);if(_t)for(const{edgeId:Ot}of _t.values()){const Wt=se.get(Ot);Wt&&(Wt.selectable??Ue)&&L.current.add(Ot)}}if(!T3(Ze,D.current)){const ut=sd(ee,D.current,!0);ce(ut)}if(!T3(Xe,L.current)){const ut=sd(se,L.current);de(ut)}_.setState({userSelectionRect:De,userSelectionActive:!0,nodesSelectionActive:!1})},$=Z=>{if(Z.button!==0||!P.current)return;Z.target?.releasePointerCapture?.(Z.pointerId);const{userSelectionRect:ae}=_.getState();!N&&ae&&Z.target===q.current&&R?.(Z),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),o?.(Z),(e||i)&&(z.current=!1),P.current=!1},X=r===!0||Array.isArray(r)&&r.includes(0);return m.jsxs("div",{className:$r(["react-flow__pane",{draggable:X,dragging:T,selection:t}]),onClick:O?void 0:G0(R,q),onContextMenu:G0(B,q),onWheel:G0(F,q),onPointerEnter:O?void 0:f,onPointerDown:O?W:h,onPointerMove:O?U:h,onPointerUp:O?$:void 0,onPointerLeave:b,ref:q,style:Ob,children:[x,m.jsx(Ite,{})]})}function SE({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:c}=e.getState(),d=l.get(t);if(!d){c?.("012",za.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function ED({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=dr(),[c,d]=Q.useState(!1),f=Q.useRef();return Q.useEffect(()=>{f.current=bee({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{SE({id:h,store:l,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),Q.useEffect(()=>{if(e)f.current?.destroy();else if(t.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{f.current?.destroy()}},[n,r,e,s,t,i]),c}const Tte=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function ND(){const t=dr();return Q.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:f}=t.getState(),h=new Map,b=Tte(o),x=i?s[0]:5,_=i?s[1]:5,N=n.direction.x*x*n.factor,I=n.direction.y*_*n.factor;for(const[,T]of d){if(!b(T))continue;let O={x:T.internals.positionAbsolute.x+N,y:T.internals.positionAbsolute.y+I};i&&(O=Nb(O,s));const{position:q,positionAbsolute:j}=K2({nodeId:T.id,nextPosition:O,nodeLookup:d,nodeExtent:r,nodeOrigin:f,onError:l});T.position=q,T.internals.positionAbsolute=j,h.set(T.id,T)}c(h)},[])}const rN=Q.createContext(null),qte=rN.Provider;rN.Consumer;const kD=()=>Q.useContext(rN),Rte=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),Ate=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:c,isValid:d}=o,f=c?.nodeId===t&&c?.id===e&&c?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:f,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Md.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,valid:f&&d}};function jte({type:t="source",position:e=Dt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:c,className:d,onMouseDown:f,onTouchStart:h,...b},x){const _=o||null,N=t==="target",I=dr(),T=kD(),{connectOnClick:O,noPanClassName:q,rfId:j}=Nn(Rte,wr),{connectingFrom:D,connectingTo:L,clickConnecting:z,isPossibleEndHandle:P,connectionInProcess:R,valid:B}=Nn(Ate(T,_,t),wr);T||I.getState().onError?.("010",za.error010());const F=$=>{const{defaultEdgeOptions:X,onConnect:Z,hasDefaultEdges:ae}=I.getState(),ie={...X,...$};if(ae){const{edges:ee,setEdges:se}=I.getState();se(oee(ie,ee))}Z?.(ie),l?.(ie)},W=$=>{if(!T)return;const X=nD($.nativeEvent);if(i&&(X&&$.button===0||!X)){const Z=I.getState();_E.onPointerDown($.nativeEvent,{autoPanOnConnect:Z.autoPanOnConnect,connectionMode:Z.connectionMode,connectionRadius:Z.connectionRadius,domNode:Z.domNode,nodeLookup:Z.nodeLookup,lib:Z.lib,isTarget:N,handleId:_,nodeId:T,flowId:Z.rfId,panBy:Z.panBy,cancelConnection:Z.cancelConnection,onConnectStart:Z.onConnectStart,onConnectEnd:Z.onConnectEnd,updateConnection:Z.updateConnection,onConnect:F,isValidConnection:n||Z.isValidConnection,getTransform:()=>I.getState().transform,getFromHandle:()=>I.getState().connection.fromHandle,autoPanSpeed:Z.autoPanSpeed})}X?f?.($):h?.($)},U=$=>{const{onClickConnectStart:X,onClickConnectEnd:Z,connectionClickStartHandle:ae,connectionMode:ie,isValidConnection:ee,lib:se,rfId:Y,nodeLookup:ce,connection:de}=I.getState();if(!T||!ae&&!i)return;if(!ae){X?.($.nativeEvent,{nodeId:T,handleId:_,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:T,type:t,id:_}});return}const ye=tD($.target),we=n||ee,{connection:Ne,isValid:ze}=_E.isValid($.nativeEvent,{handle:{nodeId:T,id:_,type:t},connectionMode:ie,fromNodeId:ae.nodeId,fromHandleId:ae.id||null,fromType:ae.type,isValidConnection:we,flowId:Y,doc:ye,lib:se,nodeLookup:ce});ze&&Ne&&F(Ne);const qe=structuredClone(de);delete qe.inProgress,qe.toPosition=qe.toHandle?qe.toHandle.position:null,Z?.($,qe),I.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":_,"data-nodeid":T,"data-handlepos":e,"data-id":`${j}-${T}-${_}-${t}`,className:$r(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",q,d,{source:!N,target:N,connectable:r,connectablestart:i,connectableend:s,clickconnecting:z,connectingfrom:D,connectingto:L,valid:B,connectionindicator:r&&(!R||P)&&(R?s:i)}]),onMouseDown:W,onTouchStart:W,onClick:O?U:void 0,ref:x,...b,children:c})}const mi=Q.memo(_D(jte));function Pte({data:t,isConnectable:e,sourcePosition:n=Dt.Bottom}){return m.jsxs(m.Fragment,{children:[t?.label,m.jsx(mi,{type:"source",position:n,isConnectable:e})]})}function Fte({data:t,isConnectable:e,targetPosition:n=Dt.Top,sourcePosition:r=Dt.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(mi,{type:"target",position:n,isConnectable:e}),t?.label,m.jsx(mi,{type:"source",position:r,isConnectable:e})]})}function Dte(){return null}function Lte({data:t,isConnectable:e,targetPosition:n=Dt.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(mi,{type:"target",position:n,isConnectable:e}),t?.label]})}const Sv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},tR={input:Pte,default:Fte,output:Lte,group:Dte};function Mte(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const $te=t=>{const{width:e,height:n,x:r,y:i}=tm(t.nodeLookup,{filter:s=>!!s.selected});return{width:yo(e)?e:null,height:yo(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Bte({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=dr(),{width:i,height:s,transformString:o,userSelectionActive:l}=Nn($te,wr),c=ND(),d=Q.useRef(null);if(Q.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),ED({nodeRef:d}),l||!i||!s)return null;const f=t?b=>{const x=r.getState().nodes.filter(_=>_.selected);t(b,x)}:void 0,h=b=>{Object.prototype.hasOwnProperty.call(Sv,b.key)&&(b.preventDefault(),c({direction:Sv[b.key],factor:b.shiftKey?4:1}))};return m.jsx("div",{className:$r(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:m.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s}})})}const nR=typeof window<"u"?window:void 0,zte=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function ID({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:I,elementsSelectable:T,zoomOnScroll:O,zoomOnPinch:q,panOnScroll:j,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:P,defaultViewport:R,translateExtent:B,minZoom:F,maxZoom:W,preventScrolling:U,onSelectionContextMenu:$,noWheelClassName:X,noPanClassName:Z,disableKeyboardA11y:ae,onViewportChange:ie,isControlledViewport:ee}){const{nodesSelectionActive:se,userSelectionActive:Y}=Nn(zte),ce=Cp(d,{target:nR}),de=Cp(N,{target:nR}),ye=de||P,we=de||j,Ne=f&&ye!==!0,ze=ce||Y||Ne;return _te({deleteKeyCode:c,multiSelectionKeyCode:_}),m.jsx(Nte,{onPaneContextMenu:s,elementsSelectable:T,zoomOnScroll:O,zoomOnPinch:q,panOnScroll:we,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:!ce&&ye,defaultViewport:R,translateExtent:B,minZoom:F,maxZoom:W,zoomActivationKeyCode:I,preventScrolling:U,noWheelClassName:X,noPanClassName:Z,onViewportChange:ie,isControlledViewport:ee,paneClickDistance:l,children:m.jsxs(Ote,{onSelectionStart:b,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ye,isSelecting:!!ze,selectionMode:h,selectionKeyPressed:ce,selectionOnDrag:Ne,children:[t,se&&m.jsx(Bte,{onSelectionContextMenu:$,noPanClassName:Z,disableKeyboardA11y:ae})]})})}ID.displayName="FlowRenderer";const Wte=Q.memo(ID),Ute=t=>e=>t?Q2(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Vte(t){return Nn(Q.useCallback(Ute(t),[t]),wr)}const Hte=t=>t.updateNodeInternals;function Qte(){const t=Nn(Hte),[e]=Q.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return Q.useEffect(()=>()=>{e?.disconnect()},[e]),e}function Kte({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=dr(),s=Q.useRef(null),o=Q.useRef(null),l=Q.useRef(t.sourcePosition),c=Q.useRef(t.targetPosition),d=Q.useRef(e),f=n&&!!t.internals.handleBounds;return Q.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[f,t.hidden]),Q.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),Q.useEffect(()=>{if(s.current){const h=d.current!==e,b=l.current!==t.sourcePosition,x=c.current!==t.targetPosition;(h||b||x)&&(d.current=e,l.current=t.sourcePosition,c.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function Gte({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:f,resizeObserver:h,noDragClassName:b,noPanClassName:x,disableKeyboardA11y:_,rfId:N,nodeTypes:I,nodeExtent:T,nodeClickDistance:O,onError:q}){const{node:j,internals:D,isParent:L}=Nn(qe=>{const De=qe.nodeLookup.get(t),Ze=qe.parentLookup.has(t);return{node:De,internals:De.internals,isParent:Ze}},wr);let z=j.type||"default",P=I?.[z]||tR[z];P===void 0&&(q?.("003",za.error003(z)),z="default",P=tR.default);const R=!!(j.draggable||l&&typeof j.draggable>"u"),B=!!(j.selectable||c&&typeof j.selectable>"u"),F=!!(j.connectable||d&&typeof j.connectable>"u"),W=!!(j.focusable||f&&typeof j.focusable>"u"),U=dr(),$=X2(j),X=Kte({node:j,nodeType:z,hasDimensions:$,resizeObserver:h}),Z=ED({nodeRef:X,disabled:j.hidden||!R,noDragClassName:b,handleSelector:j.dragHandle,nodeId:t,isSelectable:B,nodeClickDistance:O}),ae=ND();if(j.hidden)return null;const ie=Wa(j),ee=Mte(j),se=B||R||e||n||r||i,Y=n?qe=>n(qe,{...D.userNode}):void 0,ce=r?qe=>r(qe,{...D.userNode}):void 0,de=i?qe=>i(qe,{...D.userNode}):void 0,ye=s?qe=>s(qe,{...D.userNode}):void 0,we=o?qe=>o(qe,{...D.userNode}):void 0,Ne=qe=>{const{selectNodesOnDrag:De,nodeDragThreshold:Ze}=U.getState();B&&(!De||!R||Ze>0)&&SE({id:t,store:U,nodeRef:X}),e&&e(qe,{...D.userNode})},ze=qe=>{if(!(vE(qe.nativeEvent)||_))if(W2.includes(qe.key)&&B){const De=qe.key==="Escape";SE({id:t,store:U,unselect:De,nodeRef:X})}else R&&j.selected&&Object.prototype.hasOwnProperty.call(Sv,qe.key)&&(qe.preventDefault(),U.setState({ariaLiveMessage:`Moved selected node ${qe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D.positionAbsolute.x}, y: ${~~D.positionAbsolute.y}`}),ae({direction:Sv[qe.key],factor:qe.shiftKey?4:1}))};return m.jsx("div",{className:$r(["react-flow__node",`react-flow__node-${z}`,{[x]:R},j.className,{selected:j.selected,selectable:B,parent:L,draggable:R,dragging:Z}]),ref:X,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:se?"all":"none",visibility:$?"visible":"hidden",...j.style,...ee},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:Y,onMouseMove:ce,onMouseLeave:de,onContextMenu:ye,onClick:Ne,onDoubleClick:we,onKeyDown:W?ze:void 0,tabIndex:W?0:void 0,role:W?"button":void 0,"aria-describedby":_?void 0:`${vD}-${N}`,"aria-label":j.ariaLabel,children:m.jsx(qte,{value:t,children:m.jsx(P,{id:t,data:j.data,type:z,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:j.selected,selectable:B,draggable:R,deletable:j.deletable??!0,isConnectable:F,sourcePosition:j.sourcePosition,targetPosition:j.targetPosition,dragging:Z,dragHandle:j.dragHandle,zIndex:D.z,parentId:j.parentId,...ie})})})}const Zte=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function CD(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Nn(Zte,wr),o=Vte(t.onlyRenderVisibleElements),l=Qte();return m.jsx("div",{className:"react-flow__nodes",style:Ob,children:o.map(c=>m.jsx(Gte,{id:c,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},c))})}CD.displayName="NodeRenderer";const Jte=Q.memo(CD);function Yte(t){return Nn(Q.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&ree({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),wr)}const Xte=({color:t="none",strokeWidth:e=1})=>m.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ene=({color:t="none",strokeWidth:e=1})=>m.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),rR={[xv.Arrow]:Xte,[xv.ArrowClosed]:ene};function tne(t){const e=dr();return Q.useMemo(()=>Object.prototype.hasOwnProperty.call(rR,t)?rR[t]:(e.getState().onError?.("009",za.error009(t)),null),[t])}const nne=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=tne(e);return c?m.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:m.jsx(c,{color:n,strokeWidth:o})}):null},OD=({defaultColor:t,rfId:e})=>{const n=Nn(s=>s.edges),r=Nn(s=>s.defaultEdgeOptions),i=Q.useMemo(()=>dee(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?m.jsx("svg",{className:"react-flow__marker",children:m.jsx("defs",{children:i.map(s=>m.jsx(nne,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};OD.displayName="MarkerDefinitions";var rne=Q.memo(OD);function TD({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...f}){const[h,b]=Q.useState({x:1,y:0,width:0,height:0}),x=$r(["react-flow__edge-textwrapper",d]),_=Q.useRef(null);return Q.useEffect(()=>{if(_.current){const N=_.current.getBBox();b({x:N.x,y:N.y,width:N.width,height:N.height})}},[n]),typeof n>"u"||!n?null:m.jsxs("g",{transform:`translate(${t-h.width/2} ${e-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...f,children:[i&&m.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),m.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:_,style:r,children:n}),c]})}TD.displayName="EdgeText";const ine=Q.memo(TD);function im({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...f}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...f,d:t,fill:"none",className:$r(["react-flow__edge-path",f.className])}),d&&m.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&yo(e)&&yo(n)?m.jsx(ine,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function iR({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Dt.Left||t===Dt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function qD({sourceX:t,sourceY:e,sourcePosition:n=Dt.Bottom,targetX:r,targetY:i,targetPosition:s=Dt.Top}){const[o,l]=iR({pos:n,x1:t,y1:e,x2:r,y2:i}),[c,d]=iR({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,h,b,x]=rD({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${o},${l} ${c},${d} ${r},${i}`,f,h,b,x]}function RD(t){return Q.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Dt.Bottom,targetPosition:l=Dt.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:T})=>{const[O,q,j]=qD({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),D=t.isInternal?void 0:e;return m.jsx(im,{id:D,path:O,labelX:q,labelY:j,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:T})})}const sne=RD({isInternal:!1}),AD=RD({isInternal:!0});sne.displayName="SimpleBezierEdge";AD.displayName="SimpleBezierEdgeInternal";function jD(t){return Q.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,sourcePosition:x=Dt.Bottom,targetPosition:_=Dt.Top,markerEnd:N,markerStart:I,pathOptions:T,interactionWidth:O})=>{const[q,j,D]=bE({sourceX:n,sourceY:r,sourcePosition:x,targetX:i,targetY:s,targetPosition:_,borderRadius:T?.borderRadius,offset:T?.offset}),L=t.isInternal?void 0:e;return m.jsx(im,{id:L,path:q,labelX:j,labelY:D,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:N,markerStart:I,interactionWidth:O})})}const PD=jD({isInternal:!1}),FD=jD({isInternal:!0});PD.displayName="SmoothStepEdge";FD.displayName="SmoothStepEdgeInternal";function DD(t){return Q.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return m.jsx(PD,{...n,id:r,pathOptions:Q.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const one=DD({isInternal:!1}),LD=DD({isInternal:!0});one.displayName="StepEdge";LD.displayName="StepEdgeInternal";function MD(t){return Q.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:_,interactionWidth:N})=>{const[I,T,O]=sD({sourceX:n,sourceY:r,targetX:i,targetY:s}),q=t.isInternal?void 0:e;return m.jsx(im,{id:q,path:I,labelX:T,labelY:O,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:_,interactionWidth:N})})}const ane=MD({isInternal:!1}),$D=MD({isInternal:!0});ane.displayName="StraightEdge";$D.displayName="StraightEdgeInternal";function BD(t){return Q.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Dt.Bottom,targetPosition:l=Dt.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,pathOptions:T,interactionWidth:O})=>{const[q,j,D]=J1({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:T?.curvature}),L=t.isInternal?void 0:e;return m.jsx(im,{id:L,path:q,labelX:j,labelY:D,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:O})})}const lne=BD({isInternal:!1}),zD=BD({isInternal:!0});lne.displayName="BezierEdge";zD.displayName="BezierEdgeInternal";const sR={default:zD,straight:$D,step:LD,smoothstep:FD,simplebezier:AD},oR={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},une=(t,e,n)=>n===Dt.Left?t-e:n===Dt.Right?t+e:t,cne=(t,e,n)=>n===Dt.Top?t-e:n===Dt.Bottom?t+e:t,aR="react-flow__edgeupdater";function lR({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return m.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:$r([aR,`${aR}-${l}`]),cx:une(e,r,t),cy:cne(n,r,t),r,stroke:"transparent",fill:"transparent"})}function dne({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:b,setUpdateHover:x}){const _=dr(),N=(j,D)=>{if(j.button!==0)return;const{autoPanOnConnect:L,domNode:z,isValidConnection:P,connectionMode:R,connectionRadius:B,lib:F,onConnectStart:W,onConnectEnd:U,cancelConnection:$,nodeLookup:X,rfId:Z,panBy:ae,updateConnection:ie}=_.getState(),ee=D.type==="target";b(!0),f?.(j,n,D.type);const se=(ce,de)=>{b(!1),h?.(ce,n,D.type,de)},Y=ce=>d?.(n,ce);_E.onPointerDown(j.nativeEvent,{autoPanOnConnect:L,connectionMode:R,connectionRadius:B,domNode:z,handleId:D.id,nodeId:D.nodeId,nodeLookup:X,isTarget:ee,edgeUpdaterType:D.type,lib:F,flowId:Z,cancelConnection:$,panBy:ae,isValidConnection:P,onConnect:Y,onConnectStart:W,onConnectEnd:U,onReconnectEnd:se,updateConnection:ie,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle})},I=j=>N(j,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),T=j=>N(j,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),O=()=>x(!0),q=()=>x(!1);return m.jsxs(m.Fragment,{children:[(t===!0||t==="source")&&m.jsx(lR,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:I,onMouseEnter:O,onMouseOut:q,type:"source"}),(t===!0||t==="target")&&m.jsx(lR,{position:c,centerX:s,centerY:o,radius:e,onMouseDown:T,onMouseEnter:O,onMouseOut:q,type:"target"})]})}function fne({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:f,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,rfId:_,edgeTypes:N,noPanClassName:I,onError:T,disableKeyboardA11y:O}){let q=Nn(Ue=>Ue.edgeLookup.get(t));const j=Nn(Ue=>Ue.defaultEdgeOptions);q=j?{...j,...q}:q;let D=q.type||"default",L=N?.[D]||sR[D];L===void 0&&(T?.("011",za.error011(D)),D="default",L=sR.default);const z=!!(q.focusable||e&&typeof q.focusable>"u"),P=typeof h<"u"&&(q.reconnectable||n&&typeof q.reconnectable>"u"),R=!!(q.selectable||r&&typeof q.selectable>"u"),B=Q.useRef(null),[F,W]=Q.useState(!1),[U,$]=Q.useState(!1),X=dr(),{zIndex:Z,sourceX:ae,sourceY:ie,targetX:ee,targetY:se,sourcePosition:Y,targetPosition:ce}=Nn(Q.useCallback(Ue=>{const ut=Ue.nodeLookup.get(q.source),_t=Ue.nodeLookup.get(q.target);if(!ut||!_t)return{zIndex:q.zIndex,...oR};const Ot=cee({id:t,sourceNode:ut,targetNode:_t,sourceHandle:q.sourceHandle||null,targetHandle:q.targetHandle||null,connectionMode:Ue.connectionMode,onError:T});return{zIndex:nee({selected:q.selected,zIndex:q.zIndex,sourceNode:ut,targetNode:_t,elevateOnSelect:Ue.elevateEdgesOnSelect}),...Ot||oR}},[q.source,q.target,q.sourceHandle,q.targetHandle,q.selected,q.zIndex]),wr),de=Q.useMemo(()=>q.markerStart?`url('#${xE(q.markerStart,_)}')`:void 0,[q.markerStart,_]),ye=Q.useMemo(()=>q.markerEnd?`url('#${xE(q.markerEnd,_)}')`:void 0,[q.markerEnd,_]);if(q.hidden||ae===null||ie===null||ee===null||se===null)return null;const we=Ue=>{const{addSelectedEdges:ut,unselectNodesAndEdges:_t,multiSelectionActive:Ot}=X.getState();R&&(X.setState({nodesSelectionActive:!1}),q.selected&&Ot?(_t({nodes:[],edges:[q]}),B.current?.blur()):ut([t])),i&&i(Ue,q)},Ne=s?Ue=>{s(Ue,{...q})}:void 0,ze=o?Ue=>{o(Ue,{...q})}:void 0,qe=l?Ue=>{l(Ue,{...q})}:void 0,De=c?Ue=>{c(Ue,{...q})}:void 0,Ze=d?Ue=>{d(Ue,{...q})}:void 0,Xe=Ue=>{if(!O&&W2.includes(Ue.key)&&R){const{unselectNodesAndEdges:ut,addSelectedEdges:_t}=X.getState();Ue.key==="Escape"?(B.current?.blur(),ut({edges:[q]})):_t([t])}};return m.jsx("svg",{style:{zIndex:Z},children:m.jsxs("g",{className:$r(["react-flow__edge",`react-flow__edge-${D}`,q.className,I,{selected:q.selected,animated:q.animated,inactive:!R&&!i,updating:F,selectable:R}]),onClick:we,onDoubleClick:Ne,onContextMenu:ze,onMouseEnter:qe,onMouseMove:De,onMouseLeave:Ze,onKeyDown:z?Xe:void 0,tabIndex:z?0:void 0,role:z?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":q.ariaLabel===null?void 0:q.ariaLabel||`Edge from ${q.source} to ${q.target}`,"aria-describedby":z?`${bD}-${_}`:void 0,ref:B,children:[!U&&m.jsx(L,{id:t,source:q.source,target:q.target,type:q.type,selected:q.selected,animated:q.animated,selectable:R,deletable:q.deletable??!0,label:q.label,labelStyle:q.labelStyle,labelShowBg:q.labelShowBg,labelBgStyle:q.labelBgStyle,labelBgPadding:q.labelBgPadding,labelBgBorderRadius:q.labelBgBorderRadius,sourceX:ae,sourceY:ie,targetX:ee,targetY:se,sourcePosition:Y,targetPosition:ce,data:q.data,style:q.style,sourceHandleId:q.sourceHandle,targetHandleId:q.targetHandle,markerStart:de,markerEnd:ye,pathOptions:"pathOptions"in q?q.pathOptions:void 0,interactionWidth:q.interactionWidth}),P&&m.jsx(dne,{edge:q,isReconnectable:P,reconnectRadius:f,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,sourceX:ae,sourceY:ie,targetX:ee,targetY:se,sourcePosition:Y,targetPosition:ce,setUpdateHover:W,setReconnecting:$})]})})}const hne=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function WD({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,disableKeyboardA11y:N}){const{edgesFocusable:I,edgesReconnectable:T,elementsSelectable:O,onError:q}=Nn(hne,wr),j=Yte(e);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(rne,{defaultColor:t,rfId:n}),j.map(D=>m.jsx(fne,{id:D,edgesFocusable:I,edgesReconnectable:T,elementsSelectable:O,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:f,reconnectRadius:h,onDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,rfId:n,onError:q,edgeTypes:r,disableKeyboardA11y:N},D))]})}WD.displayName="EdgeRenderer";const pne=Q.memo(WD),mne=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function gne({children:t}){const e=Nn(mne);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function yne(t){const e=rm(),n=Q.useRef(!1);Q.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const vne=t=>t.panZoom?.syncViewport;function bne(t){const e=Nn(vne),n=dr();return Q.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function xne(t){return t.connection.inProgress?{...t.connection,to:nm(t.connection.to,t.transform)}:{...t.connection}}function wne(t){return xne}function _ne(t){const e=wne();return Nn(e,wr)}const Sne=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Ene({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:c}=Nn(Sne,wr);return!(s&&i&&c)?null:m.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:$r(["react-flow__connection",V2(l)]),children:m.jsx(UD,{style:e,type:n,CustomComponent:r,isValid:l})})})}const UD=({style:t,type:e=Il.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:c,to:d,toNode:f,toHandle:h,toPosition:b}=_ne();if(!i)return;if(n)return m.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:b,connectionStatus:V2(r),toNode:f,toHandle:h});let x="";const _={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:b};switch(e){case Il.Bezier:[x]=J1(_);break;case Il.SimpleBezier:[x]=qD(_);break;case Il.Step:[x]=bE({..._,borderRadius:0});break;case Il.SmoothStep:[x]=bE(_);break;default:[x]=sD(_)}return m.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};UD.displayName="ConnectionLine";const Nne={};function uR(t=Nne){Q.useRef(t),dr(),Q.useEffect(()=>{},[t])}function kne(){dr(),Q.useRef(!1),Q.useEffect(()=>{},[])}function VD({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:b,onSelectionEnd:x,connectionLineType:_,connectionLineStyle:N,connectionLineComponent:I,connectionLineContainerStyle:T,selectionKeyCode:O,selectionOnDrag:q,selectionMode:j,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,deleteKeyCode:P,onlyRenderVisibleElements:R,elementsSelectable:B,defaultViewport:F,translateExtent:W,minZoom:U,maxZoom:$,preventScrolling:X,defaultMarkerColor:Z,zoomOnScroll:ae,zoomOnPinch:ie,panOnScroll:ee,panOnScrollSpeed:se,panOnScrollMode:Y,zoomOnDoubleClick:ce,panOnDrag:de,onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneScroll:qe,onPaneContextMenu:De,paneClickDistance:Ze,nodeClickDistance:Xe,onEdgeContextMenu:Ue,onEdgeMouseEnter:ut,onEdgeMouseMove:_t,onEdgeMouseLeave:Ot,reconnectRadius:Wt,onReconnect:en,onReconnectStart:xe,onReconnectEnd:ve,noDragClassName:ke,noWheelClassName:je,noPanClassName:Ve,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ct,viewport:Ht,onViewportChange:Qt}){return uR(t),uR(e),kne(),yne(n),bne(Ht),m.jsx(Wte,{onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneContextMenu:De,onPaneScroll:qe,paneClickDistance:Ze,deleteKeyCode:P,selectionKeyCode:O,selectionOnDrag:q,selectionMode:j,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,elementsSelectable:B,zoomOnScroll:ae,zoomOnPinch:ie,zoomOnDoubleClick:ce,panOnScroll:ee,panOnScrollSpeed:se,panOnScrollMode:Y,panOnDrag:de,defaultViewport:F,translateExtent:W,minZoom:U,maxZoom:$,onSelectionContextMenu:h,preventScrolling:X,noDragClassName:ke,noWheelClassName:je,noPanClassName:Ve,disableKeyboardA11y:rt,onViewportChange:Qt,isControlledViewport:!!Ht,children:m.jsxs(gne,{children:[m.jsx(pne,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:en,onReconnectStart:xe,onReconnectEnd:ve,onlyRenderVisibleElements:R,onEdgeContextMenu:Ue,onEdgeMouseEnter:ut,onEdgeMouseMove:_t,onEdgeMouseLeave:Ot,reconnectRadius:Wt,defaultMarkerColor:Z,noPanClassName:Ve,disableKeyboardA11y:rt,rfId:ct}),m.jsx(Ene,{style:N,type:_,component:I,containerStyle:T}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(Jte,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:Xe,onlyRenderVisibleElements:R,noPanClassName:Ve,noDragClassName:ke,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ct}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}VD.displayName="GraphView";const Ine=Q.memo(VD),cR=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}={})=>{const d=new Map,f=new Map,h=new Map,b=new Map,x=r??e??[],_=n??t??[],N=l??[0,0],I=c??Ep;aD(h,b,x),wE(_,d,f,{nodeOrigin:N,nodeExtent:I,elevateNodesOnSelect:!1});let T=[0,0,1];if(o&&i&&s){const O=tm(d,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:q,y:j,zoom:D}=Z1(O,i,s,.5,2,.1);T=[q,j,D]}return{rfId:"1",width:0,height:0,transform:T,nodes:_,nodeLookup:d,parentLookup:f,edges:x,edgeLookup:b,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Ep,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Md.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...U2},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:eee,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Cne=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c})=>Vee((d,f)=>({...cR({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:h=>{const{nodeLookup:b,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:N}=f();wE(h,b,x,{nodeOrigin:_,nodeExtent:c,elevateNodesOnSelect:N,checkEquality:!0}),d({nodes:h})},setEdges:h=>{const{connectionLookup:b,edgeLookup:x}=f();aD(b,x,h),d({edges:h})},setDefaultNodesAndEdges:(h,b)=>{if(h){const{setNodes:x}=f();x(h),d({hasDefaultNodes:!0})}if(b){const{setEdges:x}=f();x(b),d({hasDefaultEdges:!0})}},updateNodeInternals:(h,b={triggerFitView:!0})=>{const{triggerNodeChanges:x,nodeLookup:_,parentLookup:N,fitViewOnInit:I,fitViewDone:T,fitViewOnInitOptions:O,domNode:q,nodeOrigin:j,nodeExtent:D,debug:L,fitViewSync:z}=f(),{changes:P,updatedInternals:R}=gee(h,_,N,q,j,D);if(R){if(hee(_,N,{nodeOrigin:j,nodeExtent:D}),b.triggerFitView){let B=T;!T&&I&&(B=z({...O,nodes:O?.nodes})),d({fitViewDone:B})}else d({});P?.length>0&&(L&&console.log("React Flow: trigger node changes",P),x?.(P))}},updateNodePositions:(h,b=!1)=>{const x=[],_=[];for(const[N,I]of h){const T=!!(I?.expandParent&&I?.parentId&&I?.position),O={id:N,type:"position",position:T?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:b};T&&x.push({id:N,parentId:I.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width,height:I.measured.height}}),_.push(O)}if(x.length>0){const{nodeLookup:N,parentLookup:I,nodeOrigin:T}=f(),O=tN(x,N,I,T);_.push(...O)}f().triggerNodeChanges(_)},triggerNodeChanges:h=>{const{onNodesChange:b,setNodes:x,nodes:_,hasDefaultNodes:N,debug:I}=f();if(h?.length){if(N){const T=fte(h,_);x(T)}I&&console.log("React Flow: trigger node changes",h),b?.(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:b,setEdges:x,edges:_,hasDefaultEdges:N,debug:I}=f();if(h?.length){if(N){const T=hte(h,_);x(T)}I&&console.log("React Flow: trigger edge changes",h),b?.(h)}},addSelectedNodes:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:N,triggerEdgeChanges:I}=f();if(b){const T=h.map(O=>ku(O,!0));N(T);return}N(sd(_,new Set([...h]),!0)),I(sd(x))},addSelectedEdges:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:N,triggerEdgeChanges:I}=f();if(b){const T=h.map(O=>ku(O,!0));I(T);return}I(sd(x,new Set([...h]))),N(sd(_,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:b}={})=>{const{edges:x,nodes:_,nodeLookup:N,triggerNodeChanges:I,triggerEdgeChanges:T}=f(),O=h||_,q=b||x,j=O.map(L=>{const z=N.get(L.id);return z&&(z.selected=!1),ku(L.id,!1)}),D=q.map(L=>ku(L.id,!1));I(j),T(D)},setMinZoom:h=>{const{panZoom:b,maxZoom:x}=f();b?.setScaleExtent([h,x]),d({minZoom:h})},setMaxZoom:h=>{const{panZoom:b,minZoom:x}=f();b?.setScaleExtent([x,h]),d({maxZoom:h})},setTranslateExtent:h=>{f().panZoom?.setTranslateExtent(h),d({translateExtent:h})},setPaneClickDistance:h=>{f().panZoom?.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:b,triggerNodeChanges:x,triggerEdgeChanges:_}=f(),N=b.reduce((T,O)=>O.selected?[...T,ku(O.id,!1)]:T,[]),I=h.reduce((T,O)=>O.selected?[...T,ku(O.id,!1)]:T,[]);x(N),_(I)},setNodeExtent:h=>{const{nodes:b,nodeLookup:x,parentLookup:_,nodeOrigin:N,elevateNodesOnSelect:I,nodeExtent:T}=f();h[0][0]===T[0][0]&&h[0][1]===T[0][1]&&h[1][0]===T[1][0]&&h[1][1]===T[1][1]||(wE(b,x,_,{nodeOrigin:N,nodeExtent:h,elevateNodesOnSelect:I,checkEquality:!1}),d({nodeExtent:h}))},panBy:h=>{const{transform:b,width:x,height:_,panZoom:N,translateExtent:I}=f();return yee({delta:h,panZoom:N,transform:b,translateExtent:I,width:x,height:_})},fitView:h=>{const{panZoom:b,width:x,height:_,minZoom:N,maxZoom:I,nodeLookup:T}=f();if(!b)return Promise.resolve(!1);const O=mE(T,h);return gE({nodes:O,width:x,height:_,panZoom:b,minZoom:N,maxZoom:I},h)},fitViewSync:h=>{const{panZoom:b,width:x,height:_,minZoom:N,maxZoom:I,nodeLookup:T}=f();if(!b)return!1;const O=mE(T,h);return gE({nodes:O,width:x,height:_,panZoom:b,minZoom:N,maxZoom:I},h),O.size>0},cancelConnection:()=>{d({connection:{...U2}})},updateConnection:h=>{d({connection:h})},reset:()=>d({...cR()})}),Object.is);function One({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:c,children:d}){const[f]=Q.useState(()=>Cne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}));return m.jsx(Hee,{value:f,children:m.jsx(yte,{children:d})})}function Tne({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,nodeOrigin:c,nodeExtent:d}){return Q.useContext(Cb)?m.jsx(m.Fragment,{children:t}):m.jsx(One,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:c,nodeExtent:d,children:t})}const qne={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Rne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:f,onMoveStart:h,onMoveEnd:b,onConnect:x,onConnectStart:_,onConnectEnd:N,onClickConnectStart:I,onClickConnectEnd:T,onNodeMouseEnter:O,onNodeMouseMove:q,onNodeMouseLeave:j,onNodeContextMenu:D,onNodeDoubleClick:L,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:R,onNodesDelete:B,onEdgesDelete:F,onDelete:W,onSelectionChange:U,onSelectionDragStart:$,onSelectionDrag:X,onSelectionDragStop:Z,onSelectionContextMenu:ae,onSelectionStart:ie,onSelectionEnd:ee,onBeforeDelete:se,connectionMode:Y,connectionLineType:ce=Il.Bezier,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,deleteKeyCode:Ne="Backspace",selectionKeyCode:ze="Shift",selectionOnDrag:qe=!1,selectionMode:De=Np.Full,panActivationKeyCode:Ze="Space",multiSelectionKeyCode:Xe=_v()?"Meta":"Control",zoomActivationKeyCode:Ue=_v()?"Meta":"Control",snapToGrid:ut,snapGrid:_t,onlyRenderVisibleElements:Ot=!1,selectNodesOnDrag:Wt,nodesDraggable:en,nodesConnectable:xe,nodesFocusable:ve,nodeOrigin:ke=xD,edgesFocusable:je,edgesReconnectable:Ve,elementsSelectable:rt=!0,defaultViewport:Me=ste,minZoom:ct=.5,maxZoom:Ht=2,translateExtent:Qt=Ep,preventScrolling:cn=!0,nodeExtent:er,defaultMarkerColor:Tn="#b1b1b7",zoomOnScroll:Tr=!0,zoomOnPinch:yi=!0,panOnScroll:fr=!1,panOnScrollSpeed:Kt=.5,panOnScrollMode:Oi=zu.Free,zoomOnDoubleClick:Ti=!0,panOnDrag:qi=!0,onPaneClick:Ys,onPaneMouseEnter:sa,onPaneMouseMove:eu,onPaneMouseLeave:xs,onPaneScroll:V,onPaneContextMenu:ac,paneClickDistance:on=0,nodeClickDistance:lc=0,children:uc,onReconnect:cc,onReconnectStart:tu,onReconnectEnd:oa,onEdgeContextMenu:Ri,onEdgeDoubleClick:nu,onEdgeMouseEnter:aa,onEdgeMouseMove:uf,onEdgeMouseLeave:la,reconnectRadius:ws=10,onNodesChange:Ua,onEdgesChange:_s,noDragClassName:cf="nodrag",noWheelClassName:df="nowheel",noPanClassName:dc="nopan",fitView:Ss,fitViewOptions:fc,connectOnClick:hc,attributionPosition:ff,proOptions:pc,defaultEdgeOptions:mc,elevateNodesOnSelect:gc,elevateEdgesOnSelect:ru,disableKeyboardA11y:yc=!1,autoPanOnConnect:hf,autoPanOnNodeDrag:tr,autoPanSpeed:pf,connectionRadius:iu,isValidConnection:vc,onError:Va,style:mf,id:su,nodeDragThreshold:Ha,viewport:Ai,onViewportChange:gf,width:ri,height:yf,colorMode:vf="light",debug:bf,...Ao},Qa){const vi=su||"1",Ka=ute(vf);return m.jsx("div",{"data-testid":"rf__wrapper",...Ao,style:{...mf,...qne},ref:Qa,className:$r(["react-flow",i,Ka]),id:su,children:m.jsxs(Tne,{nodes:t,edges:e,width:ri,height:yf,fitView:Ss,nodeOrigin:ke,nodeExtent:er,children:[m.jsx(Ine,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:O,onNodeMouseMove:q,onNodeMouseLeave:j,onNodeContextMenu:D,onNodeDoubleClick:L,nodeTypes:s,edgeTypes:o,connectionLineType:ce,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,selectionKeyCode:ze,selectionOnDrag:qe,selectionMode:De,deleteKeyCode:Ne,multiSelectionKeyCode:Xe,panActivationKeyCode:Ze,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:Ot,defaultViewport:Me,translateExtent:Qt,minZoom:ct,maxZoom:Ht,preventScrolling:cn,zoomOnScroll:Tr,zoomOnPinch:yi,zoomOnDoubleClick:Ti,panOnScroll:fr,panOnScrollSpeed:Kt,panOnScrollMode:Oi,panOnDrag:qi,onPaneClick:Ys,onPaneMouseEnter:sa,onPaneMouseMove:eu,onPaneMouseLeave:xs,onPaneScroll:V,onPaneContextMenu:ac,paneClickDistance:on,nodeClickDistance:lc,onSelectionContextMenu:ae,onSelectionStart:ie,onSelectionEnd:ee,onReconnect:cc,onReconnectStart:tu,onReconnectEnd:oa,onEdgeContextMenu:Ri,onEdgeDoubleClick:nu,onEdgeMouseEnter:aa,onEdgeMouseMove:uf,onEdgeMouseLeave:la,reconnectRadius:ws,defaultMarkerColor:Tn,noDragClassName:cf,noWheelClassName:df,noPanClassName:dc,rfId:vi,disableKeyboardA11y:yc,nodeExtent:er,viewport:Ai,onViewportChange:gf}),m.jsx(lte,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:_,onConnectEnd:N,onClickConnectStart:I,onClickConnectEnd:T,nodesDraggable:en,nodesConnectable:xe,nodesFocusable:ve,edgesFocusable:je,edgesReconnectable:Ve,elementsSelectable:rt,elevateNodesOnSelect:gc,elevateEdgesOnSelect:ru,minZoom:ct,maxZoom:Ht,nodeExtent:er,onNodesChange:Ua,onEdgesChange:_s,snapToGrid:ut,snapGrid:_t,connectionMode:Y,translateExtent:Qt,connectOnClick:hc,defaultEdgeOptions:mc,fitView:Ss,fitViewOptions:fc,onNodesDelete:B,onEdgesDelete:F,onDelete:W,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:R,onSelectionDrag:X,onSelectionDragStart:$,onSelectionDragStop:Z,onMove:f,onMoveStart:h,onMoveEnd:b,noPanClassName:dc,nodeOrigin:ke,rfId:vi,autoPanOnConnect:hf,autoPanOnNodeDrag:tr,autoPanSpeed:pf,onError:Va,connectionRadius:iu,isValidConnection:vc,selectNodesOnDrag:Wt,nodeDragThreshold:Ha,onBeforeDelete:se,paneClickDistance:on,debug:bf}),m.jsx(ite,{onSelectionChange:U}),uc,m.jsx(Xee,{proOptions:pc,position:ff}),m.jsx(Jee,{rfId:vi,disableKeyboardA11y:yc})]})})}var HD=_D(Rne);const Ane=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function jne({children:t}){const e=Nn(Ane);return e?Av.createPortal(t,e):null}function Pne({dimensions:t,lineWidth:e,variant:n,className:r}){return m.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:$r(["react-flow__background-pattern",n,r])})}function Fne({radius:t,className:e}){return m.jsx("circle",{cx:t,cy:t,r:t,className:$r(["react-flow__background-pattern","dots",e])})}var Zo;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Zo||(Zo={}));const Dne={[Zo.Dots]:1,[Zo.Lines]:1,[Zo.Cross]:6},Lne=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function QD({id:t,variant:e=Zo.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:c,className:d,patternClassName:f}){const h=Q.useRef(null),{transform:b,patternId:x}=Nn(Lne,wr),_=r||Dne[e],N=e===Zo.Dots,I=e===Zo.Cross,T=Array.isArray(n)?n:[n,n],O=[T[0]*b[2]||1,T[1]*b[2]||1],q=_*b[2],j=Array.isArray(s)?s:[s,s],D=I?[q,q]:O,L=[j[0]*b[2]||1+D[0]/2,j[1]*b[2]||1+D[1]/2],z=`${x}${t||""}`;return m.jsxs("svg",{className:$r(["react-flow__background",d]),style:{...c,...Ob,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[m.jsx("pattern",{id:z,x:b[0]%O[0],y:b[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:N?m.jsx(Fne,{radius:q/2,className:f}):m.jsx(Pne,{dimensions:D,lineWidth:i,variant:e,className:f})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${z})`})]})}QD.displayName="Background";const KD=Q.memo(QD);function Mne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function $ne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Bne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function zne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Wne(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Lg({children:t,className:e,...n}){return m.jsx("button",{type:"button",className:$r(["react-flow__controls-button",e]),...n,children:t})}const Une=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function GD({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:d,children:f,position:h="bottom-left",orientation:b="vertical","aria-label":x="React Flow controls"}){const _=dr(),{isInteractive:N,minZoomReached:I,maxZoomReached:T}=Nn(Une,wr),{zoomIn:O,zoomOut:q,fitView:j}=rm(),D=()=>{O(),s?.()},L=()=>{q(),o?.()},z=()=>{j(i),l?.()},P=()=>{_.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),c?.(!N)},R=b==="horizontal"?"horizontal":"vertical";return m.jsxs(nN,{className:$r(["react-flow__controls",R,d]),position:h,style:t,"data-testid":"rf__controls","aria-label":x,children:[e&&m.jsxs(m.Fragment,{children:[m.jsx(Lg,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:T,children:m.jsx(Mne,{})}),m.jsx(Lg,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:I,children:m.jsx($ne,{})})]}),n&&m.jsx(Lg,{className:"react-flow__controls-fitview",onClick:z,title:"fit view","aria-label":"fit view",children:m.jsx(Bne,{})}),r&&m.jsx(Lg,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:N?m.jsx(Wne,{}):m.jsx(zne,{})}),f]})}GD.displayName="Controls";const ZD=Q.memo(GD);function Vne({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:c,className:d,borderRadius:f,shapeRendering:h,selected:b,onClick:x}){const{background:_,backgroundColor:N}=s||{},I=o||_||N;return m.jsx("rect",{className:$r(["react-flow__minimap-node",{selected:b},d]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:I,stroke:l,strokeWidth:c},shapeRendering:h,onClick:x?T=>x(T,t):void 0})}const Hne=Q.memo(Vne),Qne=t=>t.nodes.map(e=>e.id),Z0=t=>t instanceof Function?t:()=>t;function Kne({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Hne,onClick:o}){const l=Nn(Qne,wr),c=Z0(e),d=Z0(t),f=Z0(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:l.map(b=>m.jsx(Zne,{id:b,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:h},b))})}function Gne({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:c}){const{node:d,x:f,y:h,width:b,height:x}=Nn(_=>{const N=_.nodeLookup.get(t),{x:I,y:T}=N.internals.positionAbsolute,{width:O,height:q}=Wa(N);return{node:N,x:I,y:T,width:O,height:q}},wr);return!d||d.hidden||!X2(d)?null:m.jsx(l,{x:f,y:h,width:b,height:x,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:c,id:d.id})}const Zne=Q.memo(Gne);var Jne=Q.memo(Kne);const Yne=200,Xne=150,ere=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?J2(tm(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},tre="react-flow__minimap-desc";function JD({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:f,maskStrokeWidth:h,position:b="bottom-right",onClick:x,onNodeClick:_,pannable:N=!1,zoomable:I=!1,ariaLabel:T="React Flow mini map",inversePan:O,zoomStep:q=10,offsetScale:j=5}){const D=dr(),L=Q.useRef(null),{boundingRect:z,viewBB:P,rfId:R,panZoom:B,translateExtent:F,flowWidth:W,flowHeight:U}=Nn(ere,wr),$=t?.width??Yne,X=t?.height??Xne,Z=z.width/$,ae=z.height/X,ie=Math.max(Z,ae),ee=ie*$,se=ie*X,Y=j*ie,ce=z.x-(ee-z.width)/2-Y,de=z.y-(se-z.height)/2-Y,ye=ee+Y*2,we=se+Y*2,Ne=`${tre}-${R}`,ze=Q.useRef(0),qe=Q.useRef();ze.current=ie,Q.useEffect(()=>{if(L.current&&B)return qe.current=Nee({domNode:L.current,panZoom:B,getTransform:()=>D.getState().transform,getViewScale:()=>ze.current}),()=>{qe.current?.destroy()}},[B]),Q.useEffect(()=>{qe.current?.update({translateExtent:F,width:W,height:U,inversePan:O,pannable:N,zoomStep:q,zoomable:I})},[N,I,O,q,F,W,U]);const De=x?Xe=>{const[Ue,ut]=qe.current?.pointer(Xe)||[0,0];x(Xe,{x:Ue,y:ut})}:void 0,Ze=_?Q.useCallback((Xe,Ue)=>{const ut=D.getState().nodeLookup.get(Ue);_(Xe,ut)},[]):void 0;return m.jsx(nN,{position:b,style:{...t,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*ie:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:$r(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:$,height:X,viewBox:`${ce} ${de} ${ye} ${we}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ne,ref:L,onClick:De,children:[T&&m.jsx("title",{id:Ne,children:T}),m.jsx(Jne,{onClick:Ze,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${ce-Y},${de-Y}h${ye+Y*2}v${we+Y*2}h${-ye-Y*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}JD.displayName="MiniMap";const YD=Q.memo(JD);function nre({nodeId:t,position:e,variant:n=$h.Handle,className:r,style:i={},children:s,color:o,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:b,onResizeStart:x,onResize:_,onResizeEnd:N}){const I=kD(),T=typeof t=="string"?t:I,O=dr(),q=Q.useRef(null),j=n===$h.Line?"right":"bottom-right",D=e??j,L=Q.useRef(null);Q.useEffect(()=>{if(!(!q.current||!T))return L.current||(L.current=$ee({domNode:q.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,domNode:X}=O.getState();return{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,paneDomNode:X}},onChange:(B,F)=>{const{triggerNodeChanges:W,nodeLookup:U,parentLookup:$,nodeOrigin:X}=O.getState(),Z=[],ae={x:B.x,y:B.y},ie=U.get(T);if(ie&&ie.expandParent&&ie.parentId){const ee=ie.origin??X,se=B.width??ie.measured.width,Y=B.height??ie.measured.height,ce={id:ie.id,parentId:ie.parentId,rect:{width:se,height:Y,...eD({x:B.x??ie.position.x,y:B.y??ie.position.y},{width:se,height:Y},ie.parentId,U,ee)}},de=tN([ce],U,$,X);Z.push(...de),ae.x=B.x?Math.max(ee[0]*se,B.x):void 0,ae.y=B.y?Math.max(ee[1]*Y,B.y):void 0}if(ae.x!==void 0&&ae.y!==void 0){const ee={id:T,type:"position",position:{...ae}};Z.push(ee)}if(B.width!==void 0&&B.height!==void 0){const ee={id:T,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:B.width,height:B.height}};Z.push(ee)}for(const ee of F){const se={...ee,type:"position"};Z.push(se)}W(Z)},onEnd:()=>{const B={id:T,type:"dimensions",resizing:!1};O.getState().triggerNodeChanges([B])}})),L.current.update({controlPosition:D,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:f},keepAspectRatio:h,onResizeStart:x,onResize:_,onResizeEnd:N,shouldResize:b}),()=>{L.current?.destroy()}},[D,l,c,d,f,h,x,_,N,b]);const z=D.split("-"),P=n===$h.Line?"borderColor":"backgroundColor",R=o?{...i,[P]:o}:i;return m.jsx("div",{className:$r(["react-flow__resize-control","nodrag",...z,n,r]),ref:q,style:R,children:s})}Q.memo(nre);const Mr="icon-[ph--blueprint-thin]";var sm=t=>t.type==="checkbox",Du=t=>t instanceof Date,_i=t=>t==null;const XD=t=>typeof t=="object";var kr=t=>!_i(t)&&!Array.isArray(t)&&XD(t)&&!Du(t),eL=t=>kr(t)&&t.target?sm(t.target)?t.target.checked:t.target.value:t,rre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tL=(t,e)=>t.has(rre(e)),ire=t=>{const e=t.constructor&&t.constructor.prototype;return kr(e)&&e.hasOwnProperty("isPrototypeOf")},iN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bi(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(iN&&(t instanceof Blob||r))&&(n||kr(t)))if(e=n?[]:{},!n&&!ire(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Bi(t[i]));else return t;return e}var Tb=t=>Array.isArray(t)?t.filter(Boolean):[],Sr=t=>t===void 0,Et=(t,e,n)=>{if(!e||!kr(t))return n;const r=Tb(e.split(/[,[\].]+?/)).reduce((i,s)=>_i(i)?i:i[s],t);return Sr(r)||r===t?Sr(t[e])?n:t[e]:r},Fs=t=>typeof t=="boolean",sN=t=>/^\w*$/.test(t),nL=t=>Tb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Fn=(t,e,n)=>{let r=-1;const i=sN(e)?[e]:nL(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=kr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const Ev={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},po={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Sa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sre=An.createContext(null),oN=()=>An.useContext(sre);var rL=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==po.all&&(e._proxyFormState[o]=!r||po.all),n&&(n[o]=!0),t[o]}});return i},zi=t=>kr(t)&&!Object.keys(t).length,iL=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return zi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||po.all))},Bh=t=>Array.isArray(t)?t:[t],sL=(t,e,n)=>!t||!e||t===e||Bh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function aN(t){const e=An.useRef(t);e.current=t,An.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function ore(t){const e=oN(),{control:n=e.control,disabled:r,name:i,exact:s}=t,[o,l]=An.useState(n._formState),c=An.useRef(!0),d=An.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=An.useRef(i);return f.current=i,aN({disabled:r,next:h=>c.current&&sL(f.current,h.name,s)&&iL(h,d.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),An.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),An.useMemo(()=>rL(o,n,d.current,!1),[o,n])}var Vo=t=>typeof t=="string",oL=(t,e,n,r,i)=>Vo(t)?(r&&e.watch.add(t),Et(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Et(n,s))):(r&&(e.watchAll=!0),n);function are(t){const e=oN(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t,l=An.useRef(r);l.current=r,aN({disabled:s,subject:n._subjects.values,next:f=>{sL(l.current,f.name,o)&&d(Bi(oL(l.current,n._names,f.values||n._formValues,!1,i)))}});const[c,d]=An.useState(n._getWatch(r,i));return An.useEffect(()=>n._removeUnmounted()),c}function lre(t){const e=oN(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=tL(i._names.array,n),l=are({control:i,name:n,defaultValue:Et(i._formValues,n,Et(i._defaultValues,n,t.defaultValue)),exact:!0}),c=ore({control:i,name:n,exact:!0}),d=An.useRef(i.register(n,{...t.rules,value:l,...Fs(t.disabled)?{disabled:t.disabled}:{}})),f=An.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Et(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Et(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Et(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Et(c.validatingFields,n)},error:{enumerable:!0,get:()=>Et(c.errors,n)}}),[c,n]),h=An.useMemo(()=>({name:n,value:l,...Fs(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:b=>d.current.onChange({target:{value:eL(b),name:n},type:Ev.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:Et(i._formValues,n),name:n},type:Ev.BLUR}),ref:b=>{const x=Et(i._fields,n);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})}}),[n,i._formValues,r,c.disabled,l,i._fields]);return An.useEffect(()=>{const b=i._options.shouldUnregister||s,x=(_,N)=>{const I=Et(i._fields,_);I&&I._f&&(I._f.mount=N)};if(x(n,!0),b){const _=Bi(Et(i._options.defaultValues,n));Fn(i._defaultValues,n,_),Sr(Et(i._formValues,n))&&Fn(i._formValues,n,_)}return!o&&i.register(n),()=>{(o?b&&!i._state.action:b)?i.unregister(n):x(n,!1)}},[n,i,o,s]),An.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),An.useMemo(()=>({field:h,formState:c,fieldState:f}),[h,c,f])}const Eo=t=>t.render(lre(t));var aL=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},dR=t=>({isOnSubmit:!t||t===po.onSubmit,isOnBlur:t===po.onBlur,isOnChange:t===po.onChange,isOnAll:t===po.all,isOnTouch:t===po.onTouched}),fR=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const zh=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Et(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(zh(l,e))break}else if(kr(l)&&zh(l,e))break}}};var ure=(t,e,n)=>{const r=Bh(Et(t,n));return Fn(r,"root",e[n]),Fn(t,n,r),t},lN=t=>t.type==="file",zo=t=>typeof t=="function",Nv=t=>{if(!iN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},py=t=>Vo(t),uN=t=>t.type==="radio",kv=t=>t instanceof RegExp;const hR={value:!1,isValid:!1},pR={value:!0,isValid:!0};var lL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Sr(t[0].attributes.value)?Sr(t[0].value)||t[0].value===""?pR:{value:t[0].value,isValid:!0}:pR:hR}return hR};const mR={isValid:!1,value:null};var uL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,mR):mR;function gR(t,e,n="validate"){if(py(t)||Array.isArray(t)&&t.every(py)||Fs(t)&&!t)return{type:n,message:py(t)?t:"",ref:e}}var Hc=t=>kr(t)&&!kv(t)?t:{value:t,message:""},yR=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:h,max:b,pattern:x,validate:_,name:N,valueAsNumber:I,mount:T}=t._f,O=Et(n,N);if(!T||e.has(N))return{};const q=l?l[0]:o,j=W=>{i&&q.reportValidity&&(q.setCustomValidity(Fs(W)?"":W||""),q.reportValidity())},D={},L=uN(o),z=sm(o),P=L||z,R=(I||lN(o))&&Sr(o.value)&&Sr(O)||Nv(o)&&o.value===""||O===""||Array.isArray(O)&&!O.length,B=aL.bind(null,N,r,D),F=(W,U,$,X=Sa.maxLength,Z=Sa.minLength)=>{const ae=W?U:$;D[N]={type:W?X:Z,message:ae,ref:o,...B(W?X:Z,ae)}};if(s?!Array.isArray(O)||!O.length:c&&(!P&&(R||_i(O))||Fs(O)&&!O||z&&!lL(l).isValid||L&&!uL(l).isValid)){const{value:W,message:U}=py(c)?{value:!!c,message:c}:Hc(c);if(W&&(D[N]={type:Sa.required,message:U,ref:q,...B(Sa.required,U)},!r))return j(U),D}if(!R&&(!_i(h)||!_i(b))){let W,U;const $=Hc(b),X=Hc(h);if(!_i(O)&&!isNaN(O)){const Z=o.valueAsNumber||O&&+O;_i($.value)||(W=Z>$.value),_i(X.value)||(U=Z<X.value)}else{const Z=o.valueAsDate||new Date(O),ae=se=>new Date(new Date().toDateString()+" "+se),ie=o.type=="time",ee=o.type=="week";Vo($.value)&&O&&(W=ie?ae(O)>ae($.value):ee?O>$.value:Z>new Date($.value)),Vo(X.value)&&O&&(U=ie?ae(O)<ae(X.value):ee?O<X.value:Z<new Date(X.value))}if((W||U)&&(F(!!W,$.message,X.message,Sa.max,Sa.min),!r))return j(D[N].message),D}if((d||f)&&!R&&(Vo(O)||s&&Array.isArray(O))){const W=Hc(d),U=Hc(f),$=!_i(W.value)&&O.length>+W.value,X=!_i(U.value)&&O.length<+U.value;if(($||X)&&(F($,W.message,U.message),!r))return j(D[N].message),D}if(x&&!R&&Vo(O)){const{value:W,message:U}=Hc(x);if(kv(W)&&!O.match(W)&&(D[N]={type:Sa.pattern,message:U,ref:o,...B(Sa.pattern,U)},!r))return j(U),D}if(_){if(zo(_)){const W=await _(O,n),U=gR(W,q);if(U&&(D[N]={...U,...B(Sa.validate,U.message)},!r))return j(U.message),D}else if(kr(_)){let W={};for(const U in _){if(!zi(W)&&!r)break;const $=gR(await _[U](O,n),q,U);$&&(W={...$,...B(U,$.message)},j($.message),r&&(D[N]=W))}if(!zi(W)&&(D[N]={ref:q,...W},!r))return D}}return j(!0),D};function cre(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Sr(t)?r++:t[e[r++]];return t}function dre(t){for(const e in t)if(t.hasOwnProperty(e)&&!Sr(t[e]))return!1;return!0}function Wr(t,e){const n=Array.isArray(e)?e:sN(e)?[e]:nL(e),r=n.length===1?t:cre(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(kr(r)&&zi(r)||Array.isArray(r)&&dre(r))&&Wr(t,n.slice(0,-1)),t}var J0=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},EE=t=>_i(t)||!XD(t);function Cl(t,e){if(EE(t)||EE(e))return t===e;if(Du(t)&&Du(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Du(s)&&Du(o)||kr(s)&&kr(o)||Array.isArray(s)&&Array.isArray(o)?!Cl(s,o):s!==o)return!1}}return!0}var cL=t=>t.type==="select-multiple",fre=t=>uN(t)||sm(t),Y0=t=>Nv(t)&&t.isConnected,dL=t=>{for(const e in t)if(zo(t[e]))return!0;return!1};function Iv(t,e={}){const n=Array.isArray(t);if(kr(t)||n)for(const r in t)Array.isArray(t[r])||kr(t[r])&&!dL(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Iv(t[r],e[r])):_i(t[r])||(e[r]=!0);return e}function fL(t,e,n){const r=Array.isArray(t);if(kr(t)||r)for(const i in t)Array.isArray(t[i])||kr(t[i])&&!dL(t[i])?Sr(e)||EE(n[i])?n[i]=Array.isArray(t[i])?Iv(t[i],[]):{...Iv(t[i])}:fL(t[i],_i(e)?{}:e[i],n[i]):n[i]=!Cl(t[i],e[i]);return n}var oh=(t,e)=>fL(t,e,Iv(e)),hL=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Sr(t)?t:e?t===""?NaN:t&&+t:n&&Vo(t)?new Date(t):r?r(t):t;function X0(t){const e=t.ref;return lN(e)?e.files:uN(e)?uL(t.refs).value:cL(e)?[...e.selectedOptions].map(({value:n})=>n):sm(e)?lL(t.refs).value:hL(Sr(e.value)?t.ref.value:e.value,t)}var hre=(t,e,n,r)=>{const i={};for(const s of t){const o=Et(e,s);o&&Fn(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},ah=t=>Sr(t)?t:kv(t)?t.source:kr(t)?kv(t.value)?t.value.source:t.value:t;const vR="AsyncFunction";var pre=t=>!!t&&!!t.validate&&!!(zo(t.validate)&&t.validate.constructor.name===vR||kr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vR)),mre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function bR(t,e,n){const r=Et(t,n);if(r||sN(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Et(e,s),l=Et(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var gre=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,yre=(t,e)=>!Tb(Et(t,e)).length&&Wr(t,e);const vre={mode:po.onSubmit,reValidateMode:po.onChange,shouldFocusError:!0};function bre(t={}){let e={...vre,...t},n={submitCount:0,isDirty:!1,isLoading:zo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=kr(e.defaultValues)||kr(e.values)?Bi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Bi(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:J0(),array:J0(),state:J0()},b=dR(e.mode),x=dR(e.reValidateMode),_=e.criteriaMode===po.all,N=xe=>ve=>{clearTimeout(d),d=setTimeout(xe,ve)},I=async xe=>{if(!e.disabled&&(f.isValid||xe)){const ve=e.resolver?zi((await P()).errors):await B(r,!0);ve!==n.isValid&&h.state.next({isValid:ve})}},T=(xe,ve)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((xe||Array.from(l.mount)).forEach(ke=>{ke&&(ve?Fn(n.validatingFields,ke,ve):Wr(n.validatingFields,ke))}),h.state.next({validatingFields:n.validatingFields,isValidating:!zi(n.validatingFields)}))},O=(xe,ve=[],ke,je,Ve=!0,rt=!0)=>{if(je&&ke&&!e.disabled){if(o.action=!0,rt&&Array.isArray(Et(r,xe))){const Me=ke(Et(r,xe),je.argA,je.argB);Ve&&Fn(r,xe,Me)}if(rt&&Array.isArray(Et(n.errors,xe))){const Me=ke(Et(n.errors,xe),je.argA,je.argB);Ve&&Fn(n.errors,xe,Me),yre(n.errors,xe)}if(f.touchedFields&&rt&&Array.isArray(Et(n.touchedFields,xe))){const Me=ke(Et(n.touchedFields,xe),je.argA,je.argB);Ve&&Fn(n.touchedFields,xe,Me)}f.dirtyFields&&(n.dirtyFields=oh(i,s)),h.state.next({name:xe,isDirty:W(xe,ve),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Fn(s,xe,ve)},q=(xe,ve)=>{Fn(n.errors,xe,ve),h.state.next({errors:n.errors})},j=xe=>{n.errors=xe,h.state.next({errors:n.errors,isValid:!1})},D=(xe,ve,ke,je)=>{const Ve=Et(r,xe);if(Ve){const rt=Et(s,xe,Sr(ke)?Et(i,xe):ke);Sr(rt)||je&&je.defaultChecked||ve?Fn(s,xe,ve?rt:X0(Ve._f)):X(xe,rt),o.mount&&I()}},L=(xe,ve,ke,je,Ve)=>{let rt=!1,Me=!1;const ct={name:xe};if(!e.disabled){const Ht=!!(Et(r,xe)&&Et(r,xe)._f&&Et(r,xe)._f.disabled);if(!ke||je){f.isDirty&&(Me=n.isDirty,n.isDirty=ct.isDirty=W(),rt=Me!==ct.isDirty);const Qt=Ht||Cl(Et(i,xe),ve);Me=!!(!Ht&&Et(n.dirtyFields,xe)),Qt||Ht?Wr(n.dirtyFields,xe):Fn(n.dirtyFields,xe,!0),ct.dirtyFields=n.dirtyFields,rt=rt||f.dirtyFields&&Me!==!Qt}if(ke){const Qt=Et(n.touchedFields,xe);Qt||(Fn(n.touchedFields,xe,ke),ct.touchedFields=n.touchedFields,rt=rt||f.touchedFields&&Qt!==ke)}rt&&Ve&&h.state.next(ct)}return rt?ct:{}},z=(xe,ve,ke,je)=>{const Ve=Et(n.errors,xe),rt=f.isValid&&Fs(ve)&&n.isValid!==ve;if(e.delayError&&ke?(c=N(()=>q(xe,ke)),c(e.delayError)):(clearTimeout(d),c=null,ke?Fn(n.errors,xe,ke):Wr(n.errors,xe)),(ke?!Cl(Ve,ke):Ve)||!zi(je)||rt){const Me={...je,...rt&&Fs(ve)?{isValid:ve}:{},errors:n.errors,name:xe};n={...n,...Me},h.state.next(Me)}},P=async xe=>{T(xe,!0);const ve=await e.resolver(s,e.context,hre(xe||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(xe),ve},R=async xe=>{const{errors:ve}=await P(xe);if(xe)for(const ke of xe){const je=Et(ve,ke);je?Fn(n.errors,ke,je):Wr(n.errors,ke)}else n.errors=ve;return ve},B=async(xe,ve,ke={valid:!0})=>{for(const je in xe){const Ve=xe[je];if(Ve){const{_f:rt,...Me}=Ve;if(rt){const ct=l.array.has(rt.name),Ht=Ve._f&&pre(Ve._f);Ht&&f.validatingFields&&T([je],!0);const Qt=await yR(Ve,l.disabled,s,_,e.shouldUseNativeValidation&&!ve,ct);if(Ht&&f.validatingFields&&T([je]),Qt[rt.name]&&(ke.valid=!1,ve))break;!ve&&(Et(Qt,rt.name)?ct?ure(n.errors,Qt,rt.name):Fn(n.errors,rt.name,Qt[rt.name]):Wr(n.errors,rt.name))}!zi(Me)&&await B(Me,ve,ke)}}return ke.valid},F=()=>{for(const xe of l.unMount){const ve=Et(r,xe);ve&&(ve._f.refs?ve._f.refs.every(ke=>!Y0(ke)):!Y0(ve._f.ref))&&Ne(xe)}l.unMount=new Set},W=(xe,ve)=>!e.disabled&&(xe&&ve&&Fn(s,xe,ve),!Cl(Y(),i)),U=(xe,ve,ke)=>oL(xe,l,{...o.mount?s:Sr(ve)?i:Vo(xe)?{[xe]:ve}:ve},ke,ve),$=xe=>Tb(Et(o.mount?s:i,xe,e.shouldUnregister?Et(i,xe,[]):[])),X=(xe,ve,ke={})=>{const je=Et(r,xe);let Ve=ve;if(je){const rt=je._f;rt&&(!rt.disabled&&Fn(s,xe,hL(ve,rt)),Ve=Nv(rt.ref)&&_i(ve)?"":ve,cL(rt.ref)?[...rt.ref.options].forEach(Me=>Me.selected=Ve.includes(Me.value)):rt.refs?sm(rt.ref)?rt.refs.length>1?rt.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(Ve)?!!Ve.find(ct=>ct===Me.value):Ve===Me.value)):rt.refs[0]&&(rt.refs[0].checked=!!Ve):rt.refs.forEach(Me=>Me.checked=Me.value===Ve):lN(rt.ref)?rt.ref.value="":(rt.ref.value=Ve,rt.ref.type||h.values.next({name:xe,values:{...s}})))}(ke.shouldDirty||ke.shouldTouch)&&L(xe,Ve,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&se(xe)},Z=(xe,ve,ke)=>{for(const je in ve){const Ve=ve[je],rt=`${xe}.${je}`,Me=Et(r,rt);(l.array.has(xe)||kr(Ve)||Me&&!Me._f)&&!Du(Ve)?Z(rt,Ve,ke):X(rt,Ve,ke)}},ae=(xe,ve,ke={})=>{const je=Et(r,xe),Ve=l.array.has(xe),rt=Bi(ve);Fn(s,xe,rt),Ve?(h.array.next({name:xe,values:{...s}}),(f.isDirty||f.dirtyFields)&&ke.shouldDirty&&h.state.next({name:xe,dirtyFields:oh(i,s),isDirty:W(xe,rt)})):je&&!je._f&&!_i(rt)?Z(xe,rt,ke):X(xe,rt,ke),fR(xe,l)&&h.state.next({...n}),h.values.next({name:o.mount?xe:void 0,values:{...s}})},ie=async xe=>{o.mount=!0;const ve=xe.target;let ke=ve.name,je=!0;const Ve=Et(r,ke),rt=()=>ve.type?X0(Ve._f):eL(xe),Me=ct=>{je=Number.isNaN(ct)||Du(ct)&&isNaN(ct.getTime())||Cl(ct,Et(s,ke,ct))};if(Ve){let ct,Ht;const Qt=rt(),cn=xe.type===Ev.BLUR||xe.type===Ev.FOCUS_OUT,er=!mre(Ve._f)&&!e.resolver&&!Et(n.errors,ke)&&!Ve._f.deps||gre(cn,Et(n.touchedFields,ke),n.isSubmitted,x,b),Tn=fR(ke,l,cn);Fn(s,ke,Qt),cn?(Ve._f.onBlur&&Ve._f.onBlur(xe),c&&c(0)):Ve._f.onChange&&Ve._f.onChange(xe);const Tr=L(ke,Qt,cn,!1),yi=!zi(Tr)||Tn;if(!cn&&h.values.next({name:ke,type:xe.type,values:{...s}}),er)return f.isValid&&(e.mode==="onBlur"&&cn?I():cn||I()),yi&&h.state.next({name:ke,...Tn?{}:Tr});if(!cn&&Tn&&h.state.next({...n}),e.resolver){const{errors:fr}=await P([ke]);if(Me(Qt),je){const Kt=bR(n.errors,r,ke),Oi=bR(fr,r,Kt.name||ke);ct=Oi.error,ke=Oi.name,Ht=zi(fr)}}else T([ke],!0),ct=(await yR(Ve,l.disabled,s,_,e.shouldUseNativeValidation))[ke],T([ke]),Me(Qt),je&&(ct?Ht=!1:f.isValid&&(Ht=await B(r,!0)));je&&(Ve._f.deps&&se(Ve._f.deps),z(ke,Ht,ct,Tr))}},ee=(xe,ve)=>{if(Et(n.errors,ve)&&xe.focus)return xe.focus(),1},se=async(xe,ve={})=>{let ke,je;const Ve=Bh(xe);if(e.resolver){const rt=await R(Sr(xe)?xe:Ve);ke=zi(rt),je=xe?!Ve.some(Me=>Et(rt,Me)):ke}else xe?(je=(await Promise.all(Ve.map(async rt=>{const Me=Et(r,rt);return await B(Me&&Me._f?{[rt]:Me}:Me)}))).every(Boolean),!(!je&&!n.isValid)&&I()):je=ke=await B(r);return h.state.next({...!Vo(xe)||f.isValid&&ke!==n.isValid?{}:{name:xe},...e.resolver||!xe?{isValid:ke}:{},errors:n.errors}),ve.shouldFocus&&!je&&zh(r,ee,xe?Ve:l.mount),je},Y=xe=>{const ve={...o.mount?s:i};return Sr(xe)?ve:Vo(xe)?Et(ve,xe):xe.map(ke=>Et(ve,ke))},ce=(xe,ve)=>({invalid:!!Et((ve||n).errors,xe),isDirty:!!Et((ve||n).dirtyFields,xe),error:Et((ve||n).errors,xe),isValidating:!!Et(n.validatingFields,xe),isTouched:!!Et((ve||n).touchedFields,xe)}),de=xe=>{xe&&Bh(xe).forEach(ve=>Wr(n.errors,ve)),h.state.next({errors:xe?n.errors:{}})},ye=(xe,ve,ke)=>{const je=(Et(r,xe,{_f:{}})._f||{}).ref,Ve=Et(n.errors,xe)||{},{ref:rt,message:Me,type:ct,...Ht}=Ve;Fn(n.errors,xe,{...Ht,...ve,ref:je}),h.state.next({name:xe,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&je&&je.focus&&je.focus()},we=(xe,ve)=>zo(xe)?h.values.subscribe({next:ke=>xe(U(void 0,ve),ke)}):U(xe,ve,!0),Ne=(xe,ve={})=>{for(const ke of xe?Bh(xe):l.mount)l.mount.delete(ke),l.array.delete(ke),ve.keepValue||(Wr(r,ke),Wr(s,ke)),!ve.keepError&&Wr(n.errors,ke),!ve.keepDirty&&Wr(n.dirtyFields,ke),!ve.keepTouched&&Wr(n.touchedFields,ke),!ve.keepIsValidating&&Wr(n.validatingFields,ke),!e.shouldUnregister&&!ve.keepDefaultValue&&Wr(i,ke);h.values.next({values:{...s}}),h.state.next({...n,...ve.keepDirty?{isDirty:W()}:{}}),!ve.keepIsValid&&I()},ze=({disabled:xe,name:ve,field:ke,fields:je})=>{(Fs(xe)&&o.mount||xe||l.disabled.has(ve))&&(xe?l.disabled.add(ve):l.disabled.delete(ve),L(ve,X0(ke?ke._f:Et(je,ve)._f),!1,!1,!0))},qe=(xe,ve={})=>{let ke=Et(r,xe);const je=Fs(ve.disabled)||Fs(e.disabled);return Fn(r,xe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:xe}},name:xe,mount:!0,...ve}}),l.mount.add(xe),ke?ze({field:ke,disabled:Fs(ve.disabled)?ve.disabled:e.disabled,name:xe}):D(xe,!0,ve.value),{...je?{disabled:ve.disabled||e.disabled}:{},...e.progressive?{required:!!ve.required,min:ah(ve.min),max:ah(ve.max),minLength:ah(ve.minLength),maxLength:ah(ve.maxLength),pattern:ah(ve.pattern)}:{},name:xe,onChange:ie,onBlur:ie,ref:Ve=>{if(Ve){qe(xe,ve),ke=Et(r,xe);const rt=Sr(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,Me=fre(rt),ct=ke._f.refs||[];if(Me?ct.find(Ht=>Ht===rt):rt===ke._f.ref)return;Fn(r,xe,{_f:{...ke._f,...Me?{refs:[...ct.filter(Y0),rt,...Array.isArray(Et(i,xe))?[{}]:[]],ref:{type:rt.type,name:xe}}:{ref:rt}}}),D(xe,!1,void 0,rt)}else ke=Et(r,xe,{}),ke._f&&(ke._f.mount=!1),(e.shouldUnregister||ve.shouldUnregister)&&!(tL(l.array,xe)&&o.action)&&l.unMount.add(xe)}}},De=()=>e.shouldFocusError&&zh(r,ee,l.mount),Ze=xe=>{Fs(xe)&&(h.state.next({disabled:xe}),zh(r,(ve,ke)=>{const je=Et(r,ke);je&&(ve.disabled=je._f.disabled||xe,Array.isArray(je._f.refs)&&je._f.refs.forEach(Ve=>{Ve.disabled=je._f.disabled||xe}))},0,!1))},Xe=(xe,ve)=>async ke=>{let je;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ve=Bi(s);if(l.disabled.size)for(const rt of l.disabled)Fn(Ve,rt,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:rt,values:Me}=await P();n.errors=rt,Ve=Me}else await B(r);if(Wr(n.errors,"root"),zi(n.errors)){h.state.next({errors:{}});try{await xe(Ve,ke)}catch(rt){je=rt}}else ve&&await ve({...n.errors},ke),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zi(n.errors)&&!je,submitCount:n.submitCount+1,errors:n.errors}),je)throw je},Ue=(xe,ve={})=>{Et(r,xe)&&(Sr(ve.defaultValue)?ae(xe,Bi(Et(i,xe))):(ae(xe,ve.defaultValue),Fn(i,xe,Bi(ve.defaultValue))),ve.keepTouched||Wr(n.touchedFields,xe),ve.keepDirty||(Wr(n.dirtyFields,xe),n.isDirty=ve.defaultValue?W(xe,Bi(Et(i,xe))):W()),ve.keepError||(Wr(n.errors,xe),f.isValid&&I()),h.state.next({...n}))},ut=(xe,ve={})=>{const ke=xe?Bi(xe):i,je=Bi(ke),Ve=zi(xe),rt=Ve?i:je;if(ve.keepDefaultValues||(i=ke),!ve.keepValues){if(ve.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(oh(i,s))]);for(const ct of Array.from(Me))Et(n.dirtyFields,ct)?Fn(rt,ct,Et(s,ct)):ae(ct,Et(rt,ct))}else{if(iN&&Sr(xe))for(const Me of l.mount){const ct=Et(r,Me);if(ct&&ct._f){const Ht=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(Nv(Ht)){const Qt=Ht.closest("form");if(Qt){Qt.reset();break}}}}r={}}s=e.shouldUnregister?ve.keepDefaultValues?Bi(i):{}:Bi(rt),h.array.next({values:{...rt}}),h.values.next({values:{...rt}})}l={mount:ve.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:ve.keepSubmitCount?n.submitCount:0,isDirty:Ve?!1:ve.keepDirty?n.isDirty:!!(ve.keepDefaultValues&&!Cl(xe,i)),isSubmitted:ve.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ve?{}:ve.keepDirtyValues?ve.keepDefaultValues&&s?oh(i,s):n.dirtyFields:ve.keepDefaultValues&&xe?oh(i,xe):ve.keepDirty?n.dirtyFields:{},touchedFields:ve.keepTouched?n.touchedFields:{},errors:ve.keepErrors?n.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(xe,ve)=>ut(zo(xe)?xe(s):xe,ve);return{control:{register:qe,unregister:Ne,getFieldState:ce,handleSubmit:Xe,setError:ye,_executeSchema:P,_getWatch:U,_getDirty:W,_updateValid:I,_removeUnmounted:F,_updateFieldArray:O,_updateDisabledField:ze,_getFieldArray:$,_reset:ut,_resetDefaultValues:()=>zo(e.defaultValues)&&e.defaultValues().then(xe=>{_t(xe,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:xe=>{n={...n,...xe}},_disableForm:Ze,_subjects:h,_proxyFormState:f,_setErrors:j,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(xe){o=xe},get _defaultValues(){return i},get _names(){return l},set _names(xe){l=xe},get _formState(){return n},set _formState(xe){n=xe},get _options(){return e},set _options(xe){e={...e,...xe}}},trigger:se,register:qe,handleSubmit:Xe,watch:we,setValue:ae,getValues:Y,reset:_t,resetField:Ue,clearErrors:de,unregister:Ne,setError:ye,setFocus:(xe,ve={})=>{const ke=Et(r,xe),je=ke&&ke._f;if(je){const Ve=je.refs?je.refs[0]:je.ref;Ve.focus&&(Ve.focus(),ve.shouldSelect&&zo(Ve.select)&&Ve.select())}},getFieldState:ce}}function vs(t={}){const e=An.useRef(void 0),n=An.useRef(void 0),[r,i]=An.useState({isDirty:!1,isValidating:!1,isLoading:zo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:zo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...bre(t),formState:r});const s=e.current.control;return s._options=t,aN({subject:s._subjects.state,next:o=>{iL(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),An.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),An.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),An.useEffect(()=>{t.values&&!Cl(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),An.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),An.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),An.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=rL(r,s),e.current}const xR=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Et(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},pL=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?xR(r.ref,n,t):r.refs&&r.refs.forEach(i=>xR(i,n,t))}},xre=(t,e)=>{e.shouldUseNativeValidation&&pL(t,e);const n={};for(const r in t){const i=Et(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(wre(e.names||Object.keys(t),r)){const o=Object.assign({},Et(n,r));Fn(o,"root",s),Fn(n,r,o)}else Fn(n,r,s)}return n},wre=(t,e)=>t.some(n=>n.startsWith(e+"."));var _re=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=aL(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},bs=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&pL({},s),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:xre(_re(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const Sre=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({name:ne.string().min(1),cycles:ne.number().int(),productionLimit:ne.number().int(),sort:ne.number().int()})),shape:t,filter:e,sort:["id","name","cycles","productionLimit","sort"]}),Ere=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({blueprintId:ne.string().min(1),dependencyId:ne.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","dependencyId"]}),Nre=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({blueprintId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number(),cycles:ne.number().int(),limit:ne.number().int()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","cycles","limit"]}),kre=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({blueprintProductionId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number(),passive:Ui()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount","passive"]}),Ire=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({blueprintId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number(),passive:Ui()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","passive"]}),Cre=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({userId:ne.string().min(1),blueprintId:ne.string().min(1)})),shape:t,filter:e,sort:["id","userId","blueprintId"]}),Ore=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({resourceId:ne.string().min(1),amount:ne.number(),limit:ne.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Tre=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({resourceId:ne.string().min(1),amount:ne.number(),limit:ne.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),qre=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({name:ne.string().min(1)})),shape:t,filter:e,sort:["id","name"]}),Rre=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({code:ne.string().min(1),label:ne.string().min(1),group:ne.string().nullish(),sort:ne.number().int()})),shape:t,filter:e,sort:["id","code","label","group","sort"]}),Are=({shape:t,filter:e})=>Co({entity:Ws.merge(ne.object({name:ne.string().min(1),login:ne.string().min(1),password:ne.string().min(1)})),shape:t,filter:e,sort:["id","name","login","password"]}),mL=Sre({shape:ne.object({name:ne.string().min(1),cycles:wd(),productionLimit:wd(),sort:wd()}),filter:Io.merge(ne.object({name:ne.string().optional()}))}),Op=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(mL.shape),defaultValues:{cycles:1,productionLimit:1,sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"name",label:m.jsx(ue,{label:"Building name (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("name")})}),m.jsx(wn,{formState:s.formState,name:"productionLimit",label:m.jsx(ue,{label:"Production limit (label)"}),hint:m.jsx(ue,{label:"How many paralel production lines can run (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("productionLimit")})}),m.jsx(wn,{formState:s.formState,name:"cycles",label:m.jsx(ue,{label:"Construction cycles (label)"}),hint:m.jsx(ue,{label:"Amount of cycles to build this building (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),m.jsx(wn,{formState:s.formState,name:"sort",label:m.jsx(ue,{label:"Blueprint sort (label)"}),hint:m.jsx(ue,{label:"Sort blueprints by this number (hint)"}),required:!0,children:m.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:Mr,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},gL="icon-[carbon--document-requirements]",om=Rre({shape:ne.object({code:ne.string().min(1),label:ne.string().min(1),group:ne.string().nullish(),sort:wd()}),filter:Io.merge(ne.object({code:ne.string().optional(),group:ne.string().optional()}))}),wR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(om.shape),defaultValues:{sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"code",label:m.jsx(ue,{label:"Tag code (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("code")})}),m.jsx(wn,{formState:s.formState,name:"label",label:m.jsx(ue,{label:"Tag label (label)"}),required:!0,children:m.jsx("input",{type:"text",className:o.input(),...s.register("label")})}),m.jsx(wn,{formState:s.formState,name:"group",label:m.jsx(ue,{label:"Tag group (label)"}),children:m.jsx("input",{type:"text",className:o.input(),...s.register("group")})}),m.jsx(wn,{formState:s.formState,name:"sort",label:m.jsx(ue,{label:"Tag sort (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:yp,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},eS=Zs(),jre=[eS({name:"label",header(){return m.jsx(ue,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),eS({name:"code",header(){return m.jsx(ue,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),eS({name:"group",header(){return m.jsx(ue,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],yL=({group:t,table:e,...n})=>{const r=Nr([["Tag"],["Resource"]]);return m.jsx(Ks,{table:Gs({...e,columns:jre}),action:{table(){return m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create tag (menu)"}),textTitle:m.jsx(ue,{label:"Create tag (modal)"}),icon:yp,children:m.jsx(wR,{defaultValues:{group:t},mutation:vn({async mutationFn(i){return Sn.promise(zt.transaction().execute(s=>s.insertInto("Tag").values({id:Kn(),...i}).returningAll().executeTakeFirstOrThrow()),Dr("Create tag"))},async onSuccess(){await r()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit tag (modal)"}),icon:yp,children:m.jsx(wR,{defaultValues:{group:t,...i},mutation:vn({async mutationFn(s){return Sn.promise(zt.transaction().execute(o=>o.updateTable("Tag").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Dr("Edit tag"))},async onSuccess(){await r()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>{await zt.transaction().execute(s=>s.deleteFrom("Tag").where("id","=",i.id).execute())},textContent:m.jsx(ue,{label:"Tag delete (content)"}),textToast:"Tag delete",invalidator:r})})]})}},...n})},Pre=({group:t,...e})=>m.jsx(ZK,{icon:yp,table:n=>m.jsx(yL,{group:t,...n}),render:({entities:n})=>m.jsx(t2,{tags:n}),queryKey:"Tag",query:async({filter:n,cursor:r})=>zt.transaction().execute(async i=>Gr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]),output:om.entity,query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("t.id","=",o.id)),o?.idIn&&(l=l.where("t.id","in",o.idIn)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("t.code","like",c),d("t.group","like",c),d("t.label","like",c),d("t.id","like",c)]))}return l},filter:n,cursor:r})),...e}),vL=qre({shape:ne.object({name:ne.string().min(1),tagIds:ne.array(ne.string()).optional()}),filter:Io.merge(ne.object({name:ne.string().optional()}))}),_R=({group:t="resource",mutation:e,defaultValues:n,variant:r,tva:i=ys,css:s})=>{const o=vs({resolver:bs(vL.shape),defaultValues:n}),l=i({...r,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:s}).slots;return m.jsxs("form",{className:l.base(),onSubmit:Oo({form:o,mutation:e}),children:[m.jsx(Zi,{variant:{highlight:!0},error:o.formState.errors.root}),m.jsx(wn,{formState:o.formState,name:"name",label:m.jsx(ue,{label:"Resource name (label)"}),children:m.jsx("input",{type:"text",className:l.input(),...o.register("name")})}),m.jsx(wn,{formState:o.formState,name:"tagIds",label:m.jsx(ue,{label:"Resource tags (label)"}),children:m.jsx(Eo,{control:o.control,name:"tagIds",render:({field:{ref:c,...d}})=>m.jsx(Pre,{group:t,textTitle:m.jsx(ue,{label:"Select resource tags (title)"}),textSelect:m.jsx(ue,{label:"Select resource tags (label)"}),allowEmpty:!0,...d})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:Lr,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},lh=Zs(),Fre=[lh({name:"name",header(){return m.jsx(ue,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=Gn({from:"/$locale"});return m.jsx(cr,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),lh({name:"countProduction",header(){return m.jsx(ue,{label:"Resource production count (label)"})},render({value:t}){return m.jsx(Ko,{css:{base:t!==void 0&&t===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Ln({number:t})})},size:12}),lh({name:"countRequirement",header(){return m.jsx(ue,{label:"Resource requirement count (label)"})},render({data:t,value:e}){return m.jsx(Ko,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Ln({number:e})})},size:12}),lh({name:"countProductionRequirement",header(){return m.jsx(ue,{label:"Resource production requirement count (label)"})},render({data:t,value:e}){return m.jsx(Ko,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Ln({number:e})})},size:18}),lh({name:"tags",header(){return m.jsx(ue,{label:"Resource tags (label)"})},render({value:t}){return m.jsx(t2,{tags:t})},size:32})],bL=({group:t,table:e,...n})=>{const r=Nr([["Resource"],["Resource_Tag"]]);return m.jsx(Ks,{table:Gs({...e,columns:Fre}),action:{table(){return m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create resource (menu)"}),textTitle:m.jsx(ue,{label:"Create resource (modal)"}),icon:Lr,children:({close:i})=>m.jsx(_R,{group:t,mutation:vn({async mutationFn({name:s,tagIds:o=[]}){return Sn.promise(zt.transaction().execute(async l=>{const c=await l.insertInto("Resource").values({id:Kn(),name:s}).returningAll().executeTakeFirstOrThrow();return o.length&&await l.insertInto("Resource_Tag").values(o.map(d=>({id:Kn(),resourceId:c.id,tagId:d}))).execute(),c}),Dr("Create resource"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit resource (modal)"}),icon:Lr,children:({close:s})=>m.jsx(_R,{defaultValues:{...i,tagIds:i.tags.map(({id:o})=>o)},mutation:vn({async mutationFn({tagIds:o,...l}){return Sn.promise(zt.transaction().execute(async c=>{const d=await c.updateTable("Resource").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await c.deleteFrom("Resource_Tag").where("resourceId","=",d.id).execute(),o?.length&&await c.insertInto("Resource_Tag").values(o.map(f=>({id:Kn(),resourceId:d.id,tagId:f}))).execute(),d}),Dr("Update resource"))},async onSuccess(){await r(),s()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Resource").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Resource delete (content)"}),textToast:"Resource delete",invalidator:r})})]})}},...n})},am=({group:t,...e})=>m.jsx(XF,{icon:Lr,textTitle:m.jsx(ue,{label:"Select resource (title)"}),textSelect:m.jsx(ue,{label:"Select resource (label)"}),table:n=>m.jsx(bL,{group:t,...n}),render:({entity:n})=>n.name,queryKey:"Resource",query:async({filter:n,cursor:r})=>zt.transaction().execute(async i=>Gr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>Vr`json_group_array(json_object(
                                                'id', ${o.ref("t.id")},
                                                'code', ${o.ref("t.code")},
                                                'group', ${o.ref("t.group")},
                                                'sort', ${o.ref("t.sort")},
                                                'label', ${o.ref("t.label")}
                                            ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",s.ref("r.id"))).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("r.id","=",o.id)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",c),d("r.name","like",c),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),tags:hi(om.entity),countRequirement:ne.number().nonnegative(),countProduction:ne.number().nonnegative(),countProductionRequirement:ne.number().nonnegative()}),filter:n,cursor:r})),...e}),xL=Nre({shape:ne.object({resourceId:ne.string().min(1),amount:Zu(),cycles:wd(),limit:wd()}),filter:Io.merge(ne.object({blueprintId:ne.string().optional(),resourceId:ne.string().optional()}))}),SR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(xL.shape),defaultValues:{amount:1,limit:1,cycles:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ue,{label:"Resource name (label)"}),children:m.jsx(Eo,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(am,{textTitle:m.jsx(ue,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ue,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"cycles",label:m.jsx(ue,{label:"Production cycles (label)"}),hint:m.jsx(ue,{label:"Production cycles (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ue,{label:"Production limit (label)"}),hint:m.jsx(ue,{label:"Production limit (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:bo,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},qb=kre({shape:ne.object({resourceId:ne.string().min(1),amount:Zu(),passive:ne.boolean()}),filter:Io.merge(ne.object({blueprintProductionId:ne.string().optional(),resourceId:ne.string().optional()}))}),ER=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(qb.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ue,{label:"Requirement (label)"}),children:m.jsx(Eo,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(am,{allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ue,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"passive",label:m.jsx(ue,{label:"Passive requirement (label)"}),hint:m.jsx(ue,{label:"Passive requirement (hint)"}),children:m.jsx(Eo,{control:s.control,name:"passive",render:({field:{ref:l,...c}})=>m.jsx(OF,{...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:Lr,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},tS=Zs(),Dre=[tS({name:"name",header(){return m.jsx(ue,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),tS({name:"amount",header(){return m.jsx(ue,{label:"Amount (label)"})},render({value:t}){return Ln({number:t})},size:10}),tS({name:"passive",header(){return m.jsx(ue,{label:"Passive requirement (label)"})},render({value:t}){return m.jsx(CF,{value:t})},size:10})],wL=({blueprintProductionId:t,table:e,...n})=>{const r=Nr([["Blueprint_Production_Requirement"],["Blueprint_Production"],["Resource"]]);return m.jsx(Ks,{table:Gs({...e,columns:Dre}),action:{table(){return m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create production requirement (menu)"}),textTitle:m.jsx(ue,{label:"Create production requirement (modal)"}),icon:Lr,children:({close:i})=>m.jsx(ER,{mutation:vn({async mutationFn(s){return zt.transaction().execute(async o=>o.insertInto("Blueprint_Production_Requirement").values({id:Kn(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit production requirement (modal)"}),icon:Lr,children:({close:s})=>m.jsx(ER,{defaultValues:i,mutation:vn({async mutationFn(o){return zt.transaction().execute(async l=>l.updateTable("Blueprint_Production_Requirement").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete production requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Requirement").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Delete production requirement (content)"}),textToast:"Delete production requirement item",invalidator:r})})]})}},...n})},Lre=mn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2","bg-sky-100","border-sky-300","text-sky-500"]},variant:{missing:{true:[]}},match:[{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{missing:!1}}),_L=({dependencies:t,variant:e,tva:n=Lre,css:r,...i})=>{const s=n({...e,css:r}).slots;return m.jsx(D1,{items:t,render:({entity:o})=>m.jsx("div",{className:s.item(),children:m.jsx("div",{children:o.name})}),...i})},Mre=mn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),lm=({requirements:t,diff:e,variant:n,tva:r=Mre,css:i,...s})=>{const o=r({...n,css:i}).slots;return m.jsx(D1,{items:t,render:({entity:l})=>{const c=e?.find(f=>f.resourceId===l.resourceId),d=c?.amount?c.amount-l.amount:-l.amount;return m.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[m.jsx("div",{children:l.name}),m.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",Ln({number:l.amount})]}),e?d>=0?m.jsx(Xt,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):m.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[m.jsx(Xt,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",Ln({number:d}),")"]}):null]})},...s})};var Mg={},NR;function $re(){if(NR)return Mg;NR=1;function t(r,i,s,o){var l=new Set;return function(c){if(!l.has(c)){var d=new Set,f=[],h=[];for(h.push({node:c,processed:!1});h.length>0;){var b=h[h.length-1],x=b.processed,_=b.node;if(x)h.pop(),f.pop(),d.delete(_),l.add(_),(!i||r.get(_).length===0)&&s.push(_);else{if(l.has(_)){h.pop();continue}else if(d.has(_)){if(o){h.pop();continue}throw f.push(_),new n(f)}d.add(_),f.push(_);for(var N=r.get(_),I=N.length-1;I>=0;I--)h.push({node:N[I],processed:!1});b.processed=!0}}}}}var e=Mg.DepGraph=function(i){this.nodes=new Map,this.outgoingEdges=new Map,this.incomingEdges=new Map,this.circular=i&&!!i.circular};e.prototype={size:function(){return this.nodes.size},addNode:function(r,i){this.hasNode(r)||(arguments.length===2?this.nodes.set(r,i):this.nodes.set(r,r),this.outgoingEdges.set(r,[]),this.incomingEdges.set(r,[]))},removeNode:function(r){this.hasNode(r)&&(this.nodes.delete(r),this.outgoingEdges.delete(r),this.incomingEdges.delete(r),[this.incomingEdges,this.outgoingEdges].forEach(function(i){i.forEach(function(s){var o=s.indexOf(r);o>=0&&s.splice(o,1)})}))},hasNode:function(r){return this.nodes.has(r)},getNodeData:function(r){if(this.hasNode(r))return this.nodes.get(r);throw new Error("Node does not exist: "+r)},setNodeData:function(r,i){if(this.hasNode(r))this.nodes.set(r,i);else throw new Error("Node does not exist: "+r)},addDependency:function(r,i){if(!this.hasNode(r))throw new Error("Node does not exist: "+r);if(!this.hasNode(i))throw new Error("Node does not exist: "+i);return this.outgoingEdges.get(r).indexOf(i)===-1&&this.outgoingEdges.get(r).push(i),this.incomingEdges.get(i).indexOf(r)===-1&&this.incomingEdges.get(i).push(r),!0},removeDependency:function(r,i){var s;this.hasNode(r)&&(s=this.outgoingEdges.get(r).indexOf(i),s>=0&&this.outgoingEdges.get(r).splice(s,1)),this.hasNode(i)&&(s=this.incomingEdges.get(i).indexOf(r),s>=0&&this.incomingEdges.get(i).splice(s,1))},clone:function(){var r=this,i=new e;return r.nodes.forEach(function(s,o){i.nodes.set(o,s),i.outgoingEdges.set(o,r.outgoingEdges.get(o).slice(0)),i.incomingEdges.set(o,r.incomingEdges.get(o).slice(0))}),i.circular=r.circular,i},directDependenciesOf:function(r){if(this.hasNode(r))return this.outgoingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},directDependantsOf:function(r){if(this.hasNode(r))return this.incomingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},dependenciesOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.outgoingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},dependantsOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.incomingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},overallOrder:function(r){var i=this,s=[],o=Array.from(this.nodes.keys());if(o.length===0)return s;if(!this.circular){var l=t(this.outgoingEdges,!1,[],this.circular);o.forEach(function(d){l(d)})}var c=t(this.outgoingEdges,r,s,this.circular);return o.filter(function(d){return i.incomingEdges.get(d).length===0}).forEach(function(d){c(d)}),this.circular&&o.filter(function(d){return s.indexOf(d)===-1}).forEach(function(d){c(d)}),s},entryNodes:function(){var r=this;return Array.from(this.nodes.keys()).filter(function(i){return r.incomingEdges.get(i).length===0})}},e.prototype.directDependentsOf=e.prototype.directDependantsOf,e.prototype.dependentsOf=e.prototype.dependantsOf;var n=Mg.DepGraphCycleError=function(r){var i="Dependency Cycle Found: "+r.join(" -> "),s=new Error(i);return s.cyclePath=r,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,n),s};return n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(n,Error),Mg}var SL=$re();const Rb=async({tx:t})=>{const e=new SL.DepGraph({circular:!1});for await(const{id:n,name:r}of await t.selectFrom("Blueprint").select(["id","name"]).execute())e.addNode(n,r);for await(const{blueprintId:n,dependencyId:r}of await t.selectFrom("Blueprint_Dependency").select(["blueprintId","dependencyId"]).execute())e.addDependency(n,r);return e},NE=async({tx:t})=>{const e=Rb({tx:t}),n=await t.selectFrom("Blueprint as bl").select(["bl.id"]).execute();for await(const r of n){const i=(await e).dependenciesOf(r.id);await t.updateTable("Blueprint").set({sort:i.length}).where("id","=",r.id).execute()}},uh=Zs(),Bre=[uh({name:"name",header(){return m.jsx(ue,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=Gn({from:"/$locale"});return m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx(cr,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:n},search:{zoomTo:t.id}}),m.jsx(cr,{icon:Mr,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),uh({name:"dependencies",header(){return m.jsx(ue,{label:"Blueprint dependencies (label)"})},render({value:t}){return t.length>0?m.jsxs("div",{className:"flex flex-col flex-wrap gap-2 w-full",children:[m.jsx(_L,{textTitle:m.jsx(ue,{label:"Blueprint dependencies (title)"}),dependencies:t}),m.jsx("div",{className:"border-b border-slate-200"})]}):m.jsx(ue,{label:"No dependencies (label)"})},size:32}),uh({name:"requirements",header(){return m.jsx(ue,{label:"Required resources (label)"})},render({value:t}){return m.jsx(lm,{textTitle:m.jsx(ue,{label:"Blueprint requirements (title)"}),textEmpty:m.jsx(ue,{label:"No requirements (label)"}),requirements:t})},size:32}),uh({name:"cycles",header(){return m.jsx(ue,{label:"Construction cycles (label)"})},render({value:t}){return m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:fv}),Ln({number:t})]})},size:8}),uh({name:"productionLimit",header(){return m.jsx(ue,{label:"Production limit (label)"})},render({value:t}){return Ln({number:t})},size:8})],EL=({dependencies:t,table:e,...n})=>{const r=Nr([["Blueprint"],["Inventory"]]);return m.jsx(Ks,{table:Gs({...e,columns:Bre,context:{dependencies:t}}),action:{table(){return m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create blueprint (menu)"}),textTitle:m.jsx(ue,{label:"Create blueprint (modal)"}),icon:Mr,children:({close:i})=>m.jsx(Op,{mutation:vn({async mutationFn(s){return Sn.promise(zt.transaction().execute(async o=>{const l=o.insertInto("Blueprint").values({id:Kn(),...s}).returningAll().executeTakeFirstOrThrow();return await NE({tx:o}),l}),Dr("Create blueprint"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit blueprint (modal)"}),icon:Mr,children:({close:s})=>m.jsx(Op,{defaultValues:i,mutation:vn({async mutationFn(o){return Sn.promise(zt.transaction().execute(async l=>{const c=l.updateTable("Blueprint").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await NE({tx:l}),c}),Dr("Update blueprint"))},async onSuccess(){await r(),s()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete blueprint (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Blueprint").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:r})})]})}},...n})},of=Ere({shape:ne.object({dependencyId:ne.string().min(1)}),filter:Io.merge(ne.object({blueprintId:ne.string().optional(),dependencyId:ne.string().optional()}))}),af=Ire({shape:ne.object({resourceId:ne.string().min(1),amount:Zu(),passive:ne.boolean()}),filter:Io.merge(ne.object({blueprintId:ne.string().optional(),resourceId:ne.string().optional()}))}),cN=t=>m.jsx(XF,{icon:Mr,textTitle:m.jsx(ue,{label:"Select blueprint (title)"}),table:({table:e,...n})=>m.jsx(EL,{table:{...e,hidden:["requirements","dependencies","productionLimit"]},...n}),render:({entity:e})=>e.name,queryKey:"Blueprint",query:async({filter:e,cursor:n})=>zt.transaction().execute(async r=>Gr({select:r.selectFrom("Blueprint as b").select(["b.id","b.name","b.sort","b.cycles","b.productionLimit",i=>i.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(s=>Vr`json_group_array(json_object(
                                                    'id', ${s.ref("br.id")},
                                                    'amount', ${s.ref("br.amount")},
                                                    'passive', ${s.ref("br.passive")},
                                                    'resourceId', ${s.ref("br.resourceId")},
                                                    'blueprintId', ${s.ref("br.blueprintId")},
                                                    'name', ${s.ref("r.name")}
                                                ))`.as("requirements")).whereRef("br.blueprintId","=","b.id").as("requirements"),i=>i.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.blueprintId").select(s=>Vr`json_group_array(json_object(
                                                    'id', ${s.ref("bd.id")},
                                                    'dependencyId', ${s.ref("bd.dependencyId")},
                                                    'blueprintId', ${s.ref("bd.blueprintId")},
                                                    'name', ${s.ref("b.name")}
                                                ))`.as("requirements")).whereRef("bd.blueprintId","=","b.id").as("dependencies")]).orderBy("b.name","asc"),query({select:i,where:s}){let o=i;if(s?.id&&(o=o.where("b.id","=",s.id)),s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(c=>c.or([c("b.id","like",l),c("b.name","like",l)]))}return o},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),cycles:ne.number().int(),sort:ne.number().int(),productionLimit:ne.number().int(),requirements:hi(af.entity.merge(ne.object({name:ne.string().min(1)}))),dependencies:hi(of.entity.merge(ne.object({name:ne.string().min(1)})))}),filter:e,cursor:n})),...t}),zre=ne.object({blueprintId:ne.string().min(1)}),Wre=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(zre),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"blueprintId",label:m.jsx(ue,{label:"Target blueprint (label)"}),children:m.jsx(Eo,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>m.jsx(cN,{allowEmpty:!0,...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:Mr,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},ch=Zs(),Ure=[ch({name:"name",header(){return m.jsx(ue,{label:"Resource name (label)"})},render({data:t,value:e}){return m.jsx(Uo,{target:m.jsx(On,{iconEnabled:gL,variant:{variant:"subtle"},children:e}),outside:!0,textTitle:m.jsx(ue,{label:"Blueprint production requirements (modal)"}),css:{modal:["w-2/3"]},children:()=>{const[n,r]=Q.useState(0),[i,s]=Q.useState(15),o=Ll({queryKey:["Blueprint_Production_Requirement",t.id,{page:n,size:i}],async queryFn(){return zt.transaction().execute(async l=>Gr({select:l.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",t.id).orderBy("r.name","asc"),query({select:c,where:d}){let f=c;return d?.id&&(f=f.where("bpr.id","=",d.id)),d?.idIn&&(f=f.where("bpr.id","in",d.idIn)),f},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),passive:Ui()}),cursor:{page:n,size:i}}))}});return o.isLoading?m.jsx(dv,{}):o.isSuccess?m.jsx(wL,{blueprintProductionId:t.id,table:{data:o.data.data},cursor:{count:o.data.count,cursor:{page:n,size:i},textTotal:m.jsx(ue,{label:"Number of required items (label)"}),onPage(l){r(l)},onSize(l){s(l)}}}):"boom"}})},size:18}),ch({name:"amount",header(){return m.jsx(ue,{label:"Amount (label)"})},render({value:t}){return Ln({number:t})},size:8}),ch({name:"cycles",header(){return m.jsx(ue,{label:"Production cycles (label)"})},render({value:t}){return Ln({number:t})},size:8}),ch({name:"limit",header(){return m.jsx(ue,{label:"Production limit (label)"})},render({value:t}){return t===0?m.jsx(ue,{label:"Unlimited (label)"}):Ln({number:t})},size:8}),ch({name:"requirements",header(){return m.jsx(ue,{label:"Required resources (label)"})},render({value:t}){return m.jsx(lm,{textTitle:m.jsx(ue,{label:"Resource requirements (title)"}),textEmpty:m.jsx(ue,{label:"No requirements (label)"}),requirements:t})},size:32})],NL=({blueprintId:t,table:e,...n})=>{const r=Nr([["Blueprint"],["Blueprint_Production"],["Blueprint_Production_Requirement"],["Resource"]]);return m.jsx(Ks,{table:Gs({...e,columns:Ure}),action:{table(){return m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create blueprint production (menu)"}),textTitle:m.jsx(ue,{label:"Create blueprint production (modal)"}),icon:bo,children:({close:i})=>m.jsx(SR,{mutation:vn({async mutationFn(s){return zt.transaction().execute(async o=>await o.insertInto("Blueprint_Production").values({id:Kn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit blueprint production (modal)"}),icon:bo,children:m.jsx(SR,{defaultValues:i,mutation:vn({async mutationFn(s){return zt.transaction().execute(async o=>o.updateTable("Blueprint_Production").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),m.jsx(jn,{label:m.jsx(ue,{label:"Move production to (menu)"}),textTitle:m.jsx(ue,{label:"Move production to (modal)"}),icon:Lr,children:({close:s})=>m.jsx(Wre,{mutation:vn({async mutationFn(o){return zt.transaction().execute(async l=>{await l.updateTable("Blueprint_Production").set({blueprintId:o.blueprintId}).where("id","=",i.id).execute()})},async onSuccess(){await r(),s()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete blueprint production (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Blueprint_Production").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Delete blueprint production (content)"}),textToast:"Delete blueprint production",invalidator:r})})]})}},...n})},kR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(af.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ue,{label:"Requirement (label)"}),children:m.jsx(Eo,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(am,{allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ue,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"passive",label:m.jsx(ue,{label:"Passive requirement (label)"}),hint:m.jsx(ue,{label:"Passive requirement (hint)"}),children:m.jsx(Eo,{control:s.control,name:"passive",render:({field:{ref:l,...c}})=>m.jsx(OF,{...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:Lr,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},nS=Zs(),Vre=[nS({name:"name",header(){return m.jsx(ue,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:14}),nS({name:"amount",header(){return m.jsx(ue,{label:"Amount (label)"})},render({value:t}){return Ln({number:t})},size:10}),nS({name:"passive",header(){return m.jsx(ue,{label:"Passive requirement (label)"})},render({value:t}){return m.jsx(CF,{value:t})},size:10})],kL=({blueprintId:t,table:e,...n})=>{const r=Nr([["Blueprint"],["Blueprint_Requirement"],["Blueprint_Resource_Requirement"],["Resource"]]);return m.jsx(Ks,{table:Gs({...e,columns:Vre}),action:{table(){return m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create requirement item (menu)"}),textTitle:m.jsx(ue,{label:"Create requirement item (modal)"}),icon:Lr,children:m.jsx(kR,{mutation:vn({async mutationFn(i){return zt.transaction().execute(async s=>s.insertInto("Blueprint_Requirement").values({id:Kn(),...i,blueprintId:t}).execute())},async onSuccess(){await r()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit requirement item (modal)"}),icon:Lr,children:m.jsx(kR,{defaultValues:i,mutation:vn({async mutationFn(s){return zt.transaction().execute(async o=>o.updateTable("Blueprint_Requirement").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete requirement item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Blueprint_Requirement").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Delete requirement item (content)"}),textToast:"Delete requirement item",invalidator:r})})]})}},...n})},Hre=({id:t,data:e,isConnectable:n})=>{const{locale:r}=Gn({from:"/$locale"}),i=Vd();return m.jsxs("div",{className:"min-w-[14rem]",onDoubleClick:()=>{i({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t}})},children:[m.jsx(mi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Mr}),m.jsx("div",{className:"font-bold",children:e.name})]}),m.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:[m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(Uo,{target:m.jsx(Tl,{iconEnabled:Lr}),outside:!0,textTitle:m.jsx(ue,{label:"Required resources (modal)"}),css:{modal:["w-1/3"]},children:()=>{const[s,o]=Q.useState(0),[l,c]=Q.useState(15),d=Ll({queryKey:["Blueprint_Requirement",t,{page:s,size:l}],async queryFn(){return zt.transaction().execute(async f=>Gr({select:f.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",t).orderBy("r.name","asc"),query({select:h,where:b}){let x=h;return b?.id&&(x=x.where("br.id","=",b.id)),b?.idIn&&(x=x.where("br.id","in",b.idIn)),x},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),passive:Ui()}),cursor:{page:s,size:l}}))}});return d.isLoading?m.jsx(dv,{}):d.isSuccess?m.jsx(kL,{blueprintId:t,table:{data:d.data.data},cursor:{count:d.data.count,cursor:{page:s,size:l},textTotal:m.jsx(ue,{label:"Number of requirements (label)"}),onPage(f){o(f)},onSize(f){c(f)}}}):"boom"}}),m.jsx(Uo,{target:m.jsx(Tl,{iconEnabled:bo}),outside:!0,textTitle:m.jsx(ue,{label:"Blueprint production (modal)"}),css:{modal:["w-2/3"]},children:()=>{const[s,o]=Q.useState(0),[l,c]=Q.useState(15),d=Ll({queryKey:["Blueprint_Production",t,{page:s,size:l}],async queryFn(){return zt.transaction().execute(async f=>Gr({select:f.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.limit","bp.cycles","bp.resourceId",h=>h.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(b=>Vr`json_group_array(json_object(
                                                                                    'id', ${b.ref("bpr.id")},
                                                                                    'amount', ${b.ref("bpr.amount")},
                                                                                    'passive', ${b.ref("bpr.passive")},
                                                                                    'blueprintProductionId', ${b.ref("bpr.blueprintProductionId")},
                                                                                    'resourceId', ${b.ref("bpr.resourceId")},
                                                                                    'name', ${b.ref("r.name")}
                                                                                ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements")]).where("bp.blueprintId","=",t).orderBy("r.name","asc"),output:ne.object({id:ne.string().min(1),name:ne.string().min(1),blueprintId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),limit:ne.number().nonnegative(),cycles:ne.number().nonnegative(),requirements:hi(qb.entity.merge(ne.object({name:ne.string().min(1)})))}),cursor:{page:s,size:l}}))}});return d.isLoading?m.jsx(dv,{}):d.isSuccess?m.jsx(NL,{blueprintId:t,table:{data:d.data.data},cursor:{count:d.data.count,cursor:{page:s,size:l},textTotal:m.jsx(ue,{label:"Number of production items (label)"}),onPage(f){o(f)},onSize(f){c(f)}}}):"boom"}}),m.jsx(Uo,{target:m.jsx(Tl,{iconEnabled:jF}),outside:!1,textTitle:m.jsx(ue,{label:"Edit blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:s})=>{const o=Nr([["Editor"]]);return m.jsx(Op,{defaultValues:e,mutation:vn({async mutationFn(l){return Sn.promise(zt.transaction().execute(c=>c.updateTable("Blueprint").set(l).where("id","=",e.id).execute()),Dr("Update blueprint"))},async onSuccess(){await o(),s()}})})}})]}),m.jsx("div",{children:m.jsx(Uo,{target:m.jsx(Tl,{iconEnabled:Ji,css:{base:["text-red-500"]}}),outside:!0,textTitle:m.jsx(ue,{label:"Delete blueprint (modal)"}),css:{modal:["w-1/3"]},children:()=>{const s=Nr([["Editor"]]);return m.jsx(qo,{callback:async()=>zt.transaction().execute(async o=>o.deleteFrom("Blueprint").where("id","=",e.id).execute()),textContent:m.jsx(ue,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:s})}})})]})]}),m.jsx(mi,{type:"source",position:Dt.Right,isConnectable:n,className:"w-4 h-4"})]})},IL=({nodeId:t})=>{const{fitView:e}=rm();return Q.useEffect(()=>{t&&setTimeout(()=>{e({nodes:[{id:t}],duration:750,minZoom:1,maxZoom:1})},50)},[t]),null},Qre=({data:t,zoomTo:e})=>{const n=Nr([]),r=vn({async mutationFn({blueprintId:i,dependencyId:s}){return zt.transaction().execute(async o=>o.insertInto("Blueprint_Dependency").values({id:Kn(),blueprintId:i,dependencyId:s}).execute())},async onSuccess(){await n()}});return m.jsx("div",{className:"w-fit h-fit mx-auto border border-slate-300 rounded-md shadow-md m-8",children:m.jsx("div",{style:{width:"95vw",height:"85vh"},children:m.jsxs(HD,{nodes:t.nodes,edges:t.edges,onConnect:i=>{r.mutate({blueprintId:i.target,dependencyId:i.source})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:Q.useMemo(()=>({blueprint(i){return m.jsx(Hre,{...i})}}),[]),edgeTypes:Q.useMemo(()=>({dependency({id:i,sourceX:s,sourceY:o,targetX:l,targetY:c,sourcePosition:d,targetPosition:f,style:h={},markerEnd:b}){const{setEdges:x}=rm(),[_,N,I]=J1({sourceX:s,sourceY:o,sourcePosition:d,targetX:l,targetY:c,targetPosition:f}),T=Nr([]),O=vn({async mutationFn({id:q}){return zt.transaction().execute(async j=>{await j.deleteFrom("Blueprint_Dependency").where("id","=",q).execute()})},async onSuccess(){x(q=>q.filter(j=>j.id!==i)),await T()}});return m.jsxs(m.Fragment,{children:[m.jsx(im,{path:_,markerEnd:b,style:h}),m.jsx(jne,{children:m.jsx("div",{className:$s("nodrag nopan",["flex","items-center","justify-center","cursor-pointer","bg-red-200","text-red-500","border","border-red-300","hover:border-red-600","hover:bg-red-300","hover:text-red-700","rounded-full","w-4","h-4","z-20"]),style:{position:"absolute",pointerEvents:"all",transformOrigin:"center",transform:`translate(-50%, -50%) translate(${N}px,${I}px)`},children:m.jsx(Xt,{icon:O.isPending?qQ:IF,onClick:()=>{O.mutate({id:i})}})})})]})}}),[]),children:[m.jsx(IL,{nodeId:e}),m.jsx(ZD,{orientation:"horizontal",showInteractive:!1,showZoom:!1,children:m.jsx(Uo,{target:m.jsx(Tl,{className:"react-flow__controls-button",iconEnabled:Mr}),outside:!1,textTitle:m.jsx(ue,{label:"Create blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:i})=>{const s=Nr([["Editor"]]),{locale:o}=Gn({from:"/$locale"}),l=Vd();return m.jsx(Op,{mutation:vn({async mutationFn(c){return Sn.promise(zt.transaction().execute(d=>d.insertInto("Blueprint").values({id:Kn(),...c}).returningAll().executeTakeFirstOrThrow()),Dr("Create blueprint"))},async onSuccess(c){await s(),l({to:"/$locale/apps/derivean/root/editor",params:{locale:o},search:{zoomTo:c.id}}),i()}})})}})}),m.jsx(YD,{}),m.jsx(KD,{variant:Zo.Dots,gap:12,size:1})]})})})},CL=({graph:t,nodes:e,edges:n,size:r={width:344,height:36}})=>(t.setGraph({rankdir:"LR",nodesep:125,edgesep:65,ranksep:50}),e.forEach(i=>{t.setNode(i.id,{width:r.width,height:r.height})}),n.forEach(i=>{t.setEdge(i.source,i.target)}),z1.layout(t,{}),{nodes:e.map(i=>{const s=t.node(i.id);return{...i,targetPosition:"left",sourcePosition:"right",position:{x:s.x-r.width/2,y:s.y-r.height/2}}}),edges:n}),kE=_n("/$locale/apps/derivean/root/editor")({validateSearch:Yi(ne.object({zoomTo:ne.string().optional()})),async loader({context:{kysely:t}}){const e=(await t.selectFrom("Blueprint").select(["id","name","productionLimit","cycles","sort"]).execute()).map(r=>({id:r.id,position:{x:0,y:0},data:r,type:"blueprint"})),n=(await t.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:r,blueprintId:i,dependencyId:s})=>({id:r,source:s,target:i,type:"dependency"}));return CL({graph:new z1.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:[...e],edges:[...n]})},component(){const t=kE.useLoaderData(),{zoomTo:e}=kE.useSearch();return m.jsx(Qre,{data:t,zoomTo:e})}}),IE=async({tx:t,userId:e})=>{const n=await t.selectFrom("Default_Inventory as di").select(["di.amount","di.resourceId","di.limit"]).limit(5e3).execute();await t.deleteFrom("User_Inventory").where("userId","=",e).execute();for await(const{amount:r,resourceId:i,limit:s}of n)t.insertInto("User_Inventory").values({id:Kn(),userId:e,inventoryId:(await t.insertInto("Inventory").values({id:Kn(),amount:r,resourceId:i,limit:s}).returning("id").executeTakeFirstOrThrow()).id}).execute()},Kre=async({tx:t,userId:e})=>{await IE({tx:t,userId:e})},Gre=()=>vn({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return zt.transaction().execute(async r=>{const i=yb.parse(await r.insertInto("User").values({id:Kn(),name:e,login:t,password:qP.hash(n)}).returning(["User.id","User.name","User.login"]).executeTakeFirstOrThrow());try{await Kre({tx:r,userId:i.id})}catch(s){console.error(s)}return i})}}),Zre=ne.object({name:ne.string().min(1),login:ne.string().min(1),password1:ne.string().min(1),password2:ne.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),Jre=({onSuccess:t})=>{const e=Gre(),n=vs({resolver:bs(Zre)}),r=ys({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return m.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:s=>{m1({error:s,errors:[KE({error:s,schema:p1,onError:({data:o})=>{n.setError("root",{message:o.message})}})],onError:o=>{n.setError("root",{message:o.message})}})}}).catch(()=>{})),children:[m.jsx(Zi,{variant:{highlight:!0},error:n.formState.errors.root}),m.jsx(wn,{formState:n.formState,name:"name",label:m.jsx(ue,{label:"Name (label)"}),children:m.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),m.jsx(wn,{formState:n.formState,name:"login",label:m.jsx(ue,{label:"Login (label)"}),children:m.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),m.jsx(wn,{formState:n.formState,name:"password1",label:m.jsx(ue,{label:"Password 1 (label)"}),children:m.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),m.jsx(wn,{formState:n.formState,name:"password2",label:m.jsx(ue,{label:"Password 2 (label)"}),children:m.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),m.jsx(On,{iconEnabled:"icon-[mdi--register-outline]",iconDisabled:"icon-[mdi--register-outline]",type:"submit",children:m.jsx(ue,{label:"Register (submit)"})})]})},Yre=_n("/$locale/apps/derivean/public/register")({component:()=>{const t=Vd();return m.jsx("div",{className:$s(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[m.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),m.jsx(Jre,{onSuccess:async e=>{Jp.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Xre=_n("/$locale/apps/derivean/public/logout")({pendingComponent(){return m.jsx("div",{className:$s(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsx(e2,{icon:P1,textTitle:m.jsx(ue,{label:"Logout (label)"}),textMessage:m.jsx(ue,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw Jp.remove("session"),Tv({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),eie=()=>vn({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return zt.transaction().execute(async n=>{const r=await n.selectFrom("User as u").select(["u.id","u.login","u.name"]).where("u.login","=",t).where("u.password","=",qP.hash(e)).executeTakeFirstOrThrow();return{id:r.id,login:r.login,name:r.name}})}}),tie=ne.object({login:ne.string().min(1),password:ne.string().min(1)}),nie=({onSuccess:t})=>{const{locale:e}=Gn({from:"/$locale"}),n=eie(),r=vs({resolver:bs(tie)}),i=ys({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return m.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async s=>n.mutateAsync(s,{onSuccess:t,onError:o=>{m1({error:o,errors:[KE({error:o,schema:p1,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[m.jsx(Zi,{variant:{highlight:!0},error:r.formState.errors.root}),m.jsx(wn,{formState:r.formState,name:"login",label:m.jsx(ue,{label:"Login (label)"}),children:m.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),m.jsx(wn,{formState:r.formState,name:"password",label:m.jsx(ue,{label:"Password (label)"}),children:m.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),m.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[m.jsx(cr,{icon:"icon-[mdi--register-outline]",to:"/$locale/apps/derivean/public/register",params:{locale:e},children:m.jsx(ue,{label:"Register (link)"})}),m.jsx(On,{iconEnabled:"icon-[uiw--login]",iconDisabled:"icon-[uiw--login]",type:"submit",children:m.jsx(ue,{label:"Login (submit)"})})]})]})},rie=_n("/$locale/apps/derivean/public/login")({component:()=>{const t=Vd();return m.jsx("div",{className:$s(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:m.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[m.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),m.jsx(nie,{onSuccess:async e=>{Jp.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),CE="icon-[emojione-monotone--construction]",iie=async({blueprintId:t,userId:e})=>new Promise(n=>{setTimeout(async()=>zt.transaction().execute(async r=>{const i=await r.selectFrom("Blueprint_Requirement as br").select(["br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",t).execute();for await(const{resourceId:l,amount:c,passive:d}of i){const f=await r.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",c).executeTakeFirstOrThrow();d||await r.updateTable("Inventory").set({amount:f.amount-c}).where("id","=",f.id).execute()}const{count:s}=await r.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).executeTakeFirstOrThrow(),o=await r.selectFrom("Blueprint as b").select(["b.cycles"]).where("b.id","=",t).executeTakeFirstOrThrow();await r.insertInto("Construction").values({id:Kn(),blueprintId:t,userId:e,cycle:0,from:s,to:s+o.cycles}).execute(),n(!0)}),o2)}),sie=({id:t,data:e,userId:n,isConnectable:r})=>{const i=Nr([["Management"],["Building_Queue"],["Inventory"],["User_Inventory"]]),s=vn({async mutationFn({blueprintId:o}){return iie({blueprintId:o,userId:n})},async onSuccess(){await i()}});return m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(mi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Mr,css:{base:["text-green-600"]}}),m.jsx("div",{className:"font-bold text-green-600",children:e.name})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:o=>o.stopPropagation(),onDoubleClick:o=>o.stopPropagation(),onMouseDown:o=>o.stopPropagation(),children:m.jsx(On,{iconEnabled:CE,iconDisabled:CE,variant:{variant:"primary"},onClick:()=>{s.mutate({blueprintId:t})},css:{base:["w-full"]},loading:s.isPending})})]}),m.jsx(mi,{type:"source",position:Dt.Right,isConnectable:r,className:"w-4 h-4"})]})},IR=({isConnectable:t})=>m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(mi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Mr,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold text-slate-400",children:m.jsx(ue,{label:"Fog of War (label)"})})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:m.jsx(ue,{label:"Building unavailable (label)"})})]}),m.jsx(mi,{type:"source",position:Dt.Right,isConnectable:t,className:"w-4 h-4"})]}),oie=({data:t,isConnectable:e})=>{const{locale:n}=Gn({from:"/$locale"});return m.jsxs("div",{className:"w-[14rem]",children:[m.jsx(mi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsx("div",{className:"flex flex-row items-center gap-2",children:m.jsx(cr,{to:"/$locale/apps/derivean/game/map",params:{locale:n},search:({blueprintId:r})=>({blueprintId:r,requirementsOf:t.id}),css:{base:["font-bold","text-amber-500","hover:text-amber-600","flex-grow"]},children:m.jsx(On,{iconEnabled:Mr,variant:{variant:"secondary"},css:{base:["w-full"]},children:t.name})})}),m.jsx(mi,{type:"source",position:Dt.Right,isConnectable:e,className:"w-4 h-4"})]})},aie=mn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),lie=({requirements:t,diff:e,variant:n,tva:r=aie,css:i,...s})=>{const o=r({...n,css:i}).slots;return m.jsx(D1,{items:t,render:({entity:l})=>{const c=e?.find(f=>f.resourceId===l.resourceId),d=c?.amount?c.amount-l.amount:-l.amount;return m.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[m.jsx("div",{children:l.name}),m.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",Ln({number:l.amount})]}),e?d>=0?m.jsx(Xt,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):m.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[m.jsx(Xt,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",Ln({number:d}),")"]}):null]})},...s})},uie=({cycles:t})=>m.jsxs("div",{className:$s(["flex","flex-row","items-center","gap-2"]),children:[m.jsx(Xt,{css:{base:["text-slate-400"]},icon:fv}),m.jsx("div",{className:"font-bold text-md",children:Ln({number:t})})]}),cie=({entity:t,userId:e,production:n,inventory:r})=>{const i=Nr([["Management"],["Blueprint_Production"],["Production"],["Inventory"],["User_Inventory"]]),s=n.queue.find(d=>d.blueprintProductionId=n.id),o=n.withAvailableResources&&!n.isFull&&t.productionAvailable,l=vn({async mutationFn(){return zt.transaction().execute(async d=>{if(n.buildingId)return s2({tx:d,userId:e,blueprintProductionId:n.id,buildingId:n.buildingId})})},async onSuccess(){await i()}}),c=vn({async mutationFn(){return zt.transaction().execute(async d=>{n.buildingId&&d.insertInto("Production_Queue").values({id:Kn(),userId:e,blueprintProductionId:n.id,buildingId:n.buildingId,count:0,limit:0,priority:50}).execute()})},async onSuccess(){await i()}});return m.jsxs("div",{className:$s(["flex","flex-col","gap-2","p-4","rounded-md","border","border-slate-300",o?["hover:bg-slate-50","hover:border-slate-400"]:void 0]),children:[m.jsxs("div",{className:$s(["flex","flex-row","flex-1","gap-2","items-center","justify-between"]),children:[m.jsxs("div",{className:$s(["flex","flex-row","gap-2","items-center"]),children:[m.jsx(On,{iconEnabled:n.queue.length>0?"icon-[bi--bag-check]":bo,iconDisabled:n.queue.length>0?"icon-[bi--bag-check]":bo,disabled:!o,variant:{variant:o||n.queue.length>0?"primary":"subtle"},css:{base:["px-8"]},loading:l.isPending,onClick:()=>l.mutate()}),m.jsx(On,{iconEnabled:"icon-[hugeicons--queue-02]",iconDisabled:bo,onClick:()=>{c.mutate()},disabled:n.inQueue,loading:c.isPending,variant:{variant:"subtle"}}),n.name,m.jsxs(Ko,{children:["x",Ln({number:n.amount})]})]}),m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(lie,{requirements:n.requirements,diff:r}),m.jsx(uie,{cycles:n.cycles})]})]}),s?m.jsx(sf,{variant:{size:"md"},value:100*s.cycle/(s.to-s.from)}):null]})},CR=({entity:t,userId:e,inventory:n})=>m.jsx("div",{className:$s(["flex","flex-col","gap-2"]),children:m.jsx("div",{className:$s(["flex","flex-col","gap-2"]),children:t.production.length>0?t.production.map(r=>m.jsx(cie,{entity:t,userId:e,production:r,inventory:n},`production-${r.id}-${r.blueprintId}`)):m.jsx(ue,{label:"No production currently available (label)"})})}),die=({detail:t,data:e,userId:n,inventory:r})=>{const{locale:i}=Gn({from:"/$locale"}),s=Ll({queryKey:["Management","producers",t.id,e],async queryFn(){return(await zt.transaction().execute(o=>o.selectFrom("Blueprint as bl").distinct().innerJoin("Building as bg","bl.id","bg.blueprintId").innerJoin("Blueprint_Production as bp","bl.id","bp.blueprintId").select(["bl.id"]).where("bg.userId","=",n).where("bp.resourceId","in",o.selectFrom("Blueprint as bl2").innerJoin("Blueprint_Production as bp","bl2.id","bp.blueprintId").innerJoin("Blueprint_Production_Requirement as bpr","bp.id","bpr.blueprintProductionId").select(["bpr.resourceId"]).where("bl2.id","=",t.id)).where("bl.id","!=",t.id).execute())).map(({id:o})=>e.find(l=>l.id===o)).filter(Boolean)}});return m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx("div",{className:"flex gap-2 items-center justify-between shadow-md p-4",children:m.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[m.jsx(Xt,{icon:bo,css:{base:["text-slate-400"]}}),t.name]})}),m.jsxs("div",{className:"max-h-full overflow-auto p-4 flex flex-col gap-4",children:[m.jsx(CR,{userId:n,inventory:r,entity:t}),s.isSuccess?m.jsxs(m.Fragment,{children:[s.data.length>0?m.jsx("div",{className:"border-t border-slate-300 shadow-md"}):null,m.jsx("div",{className:"flex flex-col gap-4",children:s.data.map(o=>m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Lr,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-light",children:m.jsx(cr,{to:"/$locale/apps/derivean/game/map",params:{locale:i},search:({requirementsOf:l})=>({blueprintId:o.id,requirementsOf:l}),children:o.name})})]}),m.jsx(CR,{userId:n,inventory:r,entity:o})]},Kn()))})]}):null]})]})},fie=({data:t,isConnectable:e})=>{const{locale:n}=Gn({from:"/$locale"}),r=t.production.flatMap(({queue:i})=>i).sort((i,s)=>i.cycle-s.cycle)?.[0];return m.jsxs("div",{className:"min-w-[18rem]",children:[m.jsx(mi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start w-full",children:[m.jsx("div",{className:"flex flex-row items-center justify-between gap-1 w-full",children:m.jsx(cr,{to:"/$locale/apps/derivean/game/map",params:{locale:n},search:({requirementsOf:i})=>({blueprintId:t.id,requirementsOf:i}),css:{base:["font-bold","flex-grow"]},children:m.jsx(On,{variant:{variant:"primary"},iconEnabled:Xl,css:{base:["w-full"]},children:t.name})})}),r?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-row items-center gap-1 flex-1",children:[m.jsx(Xt,{icon:"icon-[mingcute--arrow-right-line]",css:{base:["text-slate-400"]}}),m.jsx("div",{className:"text-xs text-slate-400",children:r.name})]}),m.jsx(sf,{value:100*r.cycle/(r.to-r.from),variant:{size:"sm"}})]}):null]}),m.jsx(mi,{type:"source",position:Dt.Right,isConnectable:e,className:"w-4 h-4"})]})},hie=({data:t,isConnectable:e})=>{const n=t.construction?.[0];return m.jsxs("div",{className:"min-w-[14rem]",children:[m.jsx(mi,{type:"target",position:Dt.Left,className:"w-4 h-4"}),m.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:CE,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold",children:t.name})]}),m.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:r=>r.stopPropagation(),onDoubleClick:r=>r.stopPropagation(),onMouseDown:r=>r.stopPropagation(),children:n?m.jsx(sf,{variant:{size:"lg"},value:100*n.cycle/(n.to-n.from)}):null})]}),m.jsx(mi,{type:"source",position:Dt.Right,isConnectable:e,className:"w-4 h-4"})]})},pie=({userId:t,blueprintId:e,requirementsOf:n,inventory:r,graph:i})=>{const{locale:s}=Gn({from:"/$locale"}),o=Vd(),l=Q.useMemo(()=>i.nodes.find(({id:f})=>f===e)?.data,[i,e]),c=Q.useMemo(()=>i.nodes.find(({id:f})=>f===n)?.data,[i,n]),d=Q.useMemo(()=>i.nodes.map(({data:f})=>f),[i]);return m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx("div",{className:"flex-grow h-[calc(100vh-6rem)] border border-slate-300 rounded-md shadow-md",children:m.jsxs(HD,{className:"w-full h-full relative",nodes:i.nodes,edges:i.edges,onPaneClick:()=>{o({to:"/$locale/apps/derivean/game/map",params:{locale:s}})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:Q.useMemo(()=>({building(f){return m.jsx(fie,{...f})},construction(f){return m.jsx(hie,{...f})},"blueprint-available"(f){return m.jsx(sie,{userId:t,...f})},"blueprint-missing-resources"(f){return m.jsx(oie,{...f})},"blueprint-missing-buildings"(f){return m.jsx(IR,{...f})},"blueprint-unavailable"(f){return m.jsx(IR,{...f})}}),[t]),children:[m.jsx(IL,{nodeId:l?.id}),m.jsx(ZD,{orientation:"horizontal",showInteractive:!1,showZoom:!0}),m.jsx(YD,{}),m.jsx(KD,{variant:Zo.Dots,gap:12,size:1}),c?m.jsxs("div",{className:"react-flow__panel w-4/10 border bg-white border-slate-300 rounded-md shadow-md p-4 absolute left-1 top-1",children:[m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:c.building?Xl:Mr,css:{base:["text-slate-400"]}}),m.jsx("div",{className:"font-bold",children:c.name})]}),c.construction.length>0?m.jsx(ue,{label:"Construction in progress (label)"}):c.building?m.jsx(cr,{to:"/$locale/apps/derivean/game/map",params:{locale:s},search:{blueprintId:c.id},children:m.jsx(ue,{label:"Construction complete (label)"})}):m.jsx(lm,{requirements:c.requirements,diff:r})]}):null]})}),l?m.jsx("div",{className:"w-5/12 border bg-white border-slate-300 rounded-md shadow-md p-4",children:m.jsx(die,{detail:l,data:d,userId:t,inventory:r})}):null]})},mie=Ws.merge(ne.object({name:ne.string().min(1),cycles:ne.number().int().nonnegative(),productionLimit:ne.number().int().nonnegative(),productionCount:ne.number().int().nonnegative(),withAvailableBuildings:Ui(),withAvailableResources:Ui(),productionAvailable:Ui(),building:CH(ne.object({id:ne.string().min(1)})).nullish(),construction:hi(ne.object({id:ne.string().min(1),from:ne.number().int().nonnegative(),to:ne.number().int().nonnegative(),cycle:ne.number().int().nonnegative()})),requirements:hi(af.entity.merge(ne.object({name:ne.string().min(1)}))),dependencies:hi(of.entity.merge(ne.object({name:ne.string().min(1)}))),production:hi(ne.object({id:ne.string().min(1),name:ne.string().min(1),amount:ne.number().nonnegative(),cycles:ne.number().int().nonnegative(),limit:ne.number().int().nonnegative(),blueprintId:ne.string().min(1),resourceId:ne.string().min(1),buildingId:ne.string().nullish(),isFull:Ui(),inQueue:Ui(),withAvailableResources:Ui(),requirements:ne.array(ne.object({id:ne.string().min(1),amount:ne.number().nonnegative(),passive:Ui(),resourceId:ne.string().min(1),name:ne.string().min(1)})),queue:ne.array(ne.object({id:ne.string().min(1),blueprintProductionId:ne.string().min(1),name:ne.string().min(1),from:ne.number().int().nonnegative(),to:ne.number().int().nonnegative(),cycle:ne.number().int().nonnegative()}))})),producers:hi(ne.any()).nullish()})),OE=_n("/$locale/apps/derivean/game/map")({validateSearch:Yi(ne.object({blueprintId:ne.string().optional(),requirementsOf:ne.string().optional()})),loaderDeps({search:{blueprintId:t,requirementsOf:e}}){return{blueprintId:t,requirementsOf:e}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n(),i=await t.ensureQueryData({queryKey:["Management",r.id],async queryFn(){return await e.transaction().execute(async o=>await L1({select:o.selectFrom(o.selectFrom("Blueprint as bl").leftJoin("Building as bg","bg.blueprintId","bl.id").select(["bl.id","bl.name","bl.cycles","bl.sort","bl.productionLimit",c=>c.case().when(c.not(c.exists(c.selectFrom("Blueprint_Requirement as br").select(c.lit(1).as("one")).whereRef("br.blueprintId","=","bl.id").where(d=>d.not(d.exists(d.selectFrom("Inventory as i").select(d.lit(1).as("one")).where("i.id","in",d.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","br.resourceId").whereRef("i.amount",">=","br.amount"))))))).then(c.lit(!0)).else(c.lit(!1)).end().as("withAvailableResources"),c=>c.case().when(c.not(c.exists(c.selectFrom("Blueprint_Dependency as bd").select(c.lit(1).as("one")).whereRef("bd.blueprintId","=","bl.id").where(d=>d.not(d.exists(d.selectFrom("Building as b").select(d.lit(1).as("one")).where("b.userId","=",r.id).whereRef("b.blueprintId","=","bd.dependencyId"))))))).then(c.lit(!0)).else(c.lit(!1)).end().as("withAvailableBuildings"),c=>c.selectFrom("Building as bg").select(d=>Ia.jsonObject({id:d.ref("bg.id")}).as("building")).whereRef("bg.blueprintId","=","bl.id").where("bg.userId","=",r.id).as("building"),c=>c.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").select(d=>d.fn.count("p.id").as("count")).whereRef("bp.blueprintId","=","bl.id").where("p.userId","=",r.id).as("productionCount"),c=>c.case().when(c.exists(c.selectFrom("Production as p").select(c.lit(1).as("one")).where("p.blueprintProductionId","in",c.selectFrom("Blueprint_Production").select("id").whereRef("blueprintId","=","bl.id")).groupBy("p.blueprintProductionId").having(d=>d(d.fn.count("p.id"),">=",d.ref("bl.productionLimit"))))).then(c.lit(!1)).else(c.lit(!0)).end().as("productionAvailable"),c=>c.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(d=>Ia.jsonGroupArray({id:d.ref("br.id"),amount:d.ref("br.amount"),passive:d.ref("br.passive"),resourceId:d.ref("br.resourceId"),blueprintId:d.ref("br.blueprintId"),name:d.ref("r.name")}).as("requirements")).whereRef("br.blueprintId","=","bl.id").orderBy("r.name","asc").as("requirements"),c=>c.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(d=>Ia.jsonGroupArray({id:d.ref("bd.id"),dependencyId:d.ref("bd.dependencyId"),blueprintId:d.ref("bd.blueprintId"),name:d.ref("bl2.name")}).as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies"),c=>c.selectFrom("Construction as c").innerJoin("Blueprint as bl2","bl2.id","c.blueprintId").select(d=>Ia.jsonGroupArray({id:d.ref("c.id"),cycle:d.ref("c.cycle"),from:d.ref("c.from"),to:d.ref("c.to"),name:d.ref("bl2.name")}).as("requirements")).whereRef("c.blueprintId","=","bl.id").where("c.userId","=",r.id).orderBy("bl2.name","asc").as("construction"),c=>c.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").leftJoin("Building as b",d=>d.onRef("b.blueprintId","=","bp.blueprintId").on("b.userId","=",r.id)).select(d=>Ia.jsonGroupArray({id:d.ref("bp.id"),amount:d.ref("bp.amount"),cycles:d.ref("bp.cycles"),limit:d.ref("bp.limit"),buildingId:d.ref("b.id"),blueprintId:d.ref("bp.blueprintId"),resourceId:d.ref("bp.resourceId"),name:d.ref("r.name"),isFull:d.case().when(d.exists(d.selectFrom("Production as p").select(d.lit(1).as("one")).whereRef("p.blueprintProductionId","=","bp.id").groupBy("p.blueprintProductionId").having(f=>f(f.fn.count("p.id"),">=",f.ref("bp.limit"))))).then(d.lit(!0)).else(d.lit(!1)).end(),inQueue:d.case().when(d.exists(d.selectFrom("Production_Queue as pq").select(d.lit(1).as("one")).whereRef("pq.blueprintProductionId","=","bp.id").groupBy("pq.blueprintProductionId").having(f=>f(f.fn.count("pq.id"),">=",f.ref("bp.limit"))))).then(d.lit(!0)).else(d.lit(!1)).end(),withAvailableResources:d.case().when(d.not(d.exists(d.selectFrom("Blueprint_Production_Requirement as bpr").select(d.lit(1).as("one")).whereRef("bpr.blueprintProductionId","=","bp.id").where(f=>f.not(f.exists(f.selectFrom("Inventory as i").select(f.lit(1).as("one")).where("i.id","in",f.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","bpr.resourceId").whereRef("i.amount",">=","bpr.amount"))))))).then(d.lit(!0)).else(d.lit(!1)).end(),requirements:d.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r2","r2.id","bpr.resourceId").select([f=>Ia.jsonGroupArray({id:f.ref("bpr.id"),amount:f.ref("bpr.amount"),passive:f.ref("bpr.passive"),name:f.ref("r2.name"),blueprintId:f.ref("bp.id"),resourceId:f.ref("bpr.resourceId")}).as("requirements")]).whereRef("bpr.blueprintProductionId","=","bp.id"),queue:d.selectFrom("Production as p").innerJoin("Blueprint_Production as bp2","p.blueprintProductionId","bp2.id").innerJoin("Resource as r2","r2.id","bp.resourceId").select(f=>Ia.jsonGroupArray({id:f.ref("p.id"),name:f.ref("r2.name"),from:f.ref("p.from"),to:f.ref("p.to"),cycle:f.ref("p.cycle"),blueprintProductionId:f.ref("p.blueprintProductionId")}).as("requirements")).whereRef("p.blueprintProductionId","=","bp.id").where("p.id","in",f=>f.selectFrom("Production").select("id").where("userId","=",r.id))}).as("production")).whereRef("bp.blueprintId","=","bl.id").where(d=>d.or([d("bp.resourceId","in",d.selectFrom(d.selectFrom("Blueprint_Requirement as br").innerJoin("Blueprint as bl2","bl2.id","br.blueprintId").select(["br.resourceId",f=>f.case().when(f.not(f.exists(f.selectFrom("Blueprint_Dependency as bd").select(f.lit(1).as("one")).whereRef("bd.blueprintId","=","bl2.id").where(h=>h.not(h.exists(h.selectFrom("Building as b").select(h.lit(1).as("one")).where("b.userId","=",r.id).whereRef("b.blueprintId","=","bd.dependencyId"))))))).then(f.lit(!0)).else(f.lit(!1)).end().as("withAvailableBuildings"),f=>f.case().when(f.not(f.exists(f.selectFrom("Blueprint_Requirement as br").select(f.lit(1).as("one")).whereRef("br.blueprintId","=","bl2.id").where(h=>h.not(h.exists(h.selectFrom("Inventory as i").select(h.lit(1).as("one")).where("i.id","in",h.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","br.resourceId").whereRef("i.amount",">=","br.amount"))))))).then(f.lit(!0)).else(f.lit(!1)).end().as("withAvailableResources")]).where("br.blueprintId","not in",d.selectFrom("Building as bg2").where("bg2.userId","=",r.id).select("bg2.blueprintId")).where("br.blueprintId","not in",d.selectFrom("Construction as c").where("c.userId","=",r.id).select("c.blueprintId")).where(f=>{const h=o.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select("i.amount").where("ui.userId","=",r.id).where("i.resourceId","=","br.resourceId");return f.or([f("br.amount",">",h),f(h,"is",null)])}).as("resources")).select("resources.resourceId").where("resources.withAvailableBuildings","=",!0).where("resources.withAvailableResources","=",!1)),d("bp.resourceId","in",d.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Blueprint_Production as bp","bp.id","bpr.blueprintProductionId").where("bp.blueprintId","in",d.selectFrom("Building as bg2").select("bg2.blueprintId").where("bg2.userId","=",r.id)).select(["bpr.resourceId"]))])).orderBy("r.name","asc").as("production")]).as("blueprint")).selectAll().where("withAvailableBuildings","=",!0).orderBy("sort","asc").orderBy("name","asc"),query({select:c,where:d}){let f=c;if(d?.fulltext){const h=`%${d.fulltext}%`.toLowerCase();f=f.where(b=>b.or([b("id","like",h),b("name","like",h),b("id","in",b.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").select("bp.blueprintId").where(x=>x.or([x("r.name","like",h)])))]))}return f},output:mie,cursor:{page:0,size:250}}))}});return{graph:CL({graph:new z1.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:i.map(s=>{let o="blueprint";return s.construction?.[0]?o="construction":s.building?o="building":s.withAvailableResources&&s.withAvailableBuildings?o="blueprint-available":s.withAvailableResources&&!s.withAvailableBuildings?o="blueprint-missing-buildings":s.withAvailableBuildings&&!s.withAvailableResources?o="blueprint-missing-resources":!s.withAvailableBuildings&&!s.withAvailableResources&&(o="blueprint-unavailable"),{id:s.id,data:s,position:{x:0,y:0},type:o}}),edges:(await e.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:s,blueprintId:o,dependencyId:l})=>({id:s,source:l,target:o}))}),inventory:await e.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.resourceId","i.limit"]).where("ui.userId","=",r.id).execute()}},component(){const{graph:t,inventory:e}=OE.useLoaderData(),{blueprintId:n,requirementsOf:r}=OE.useSearch(),{session:i}=Ud({from:"/$locale/apps/derivean/game"});return m.jsx(pie,{graph:t,userId:i.id,inventory:e,blueprintId:n,requirementsOf:r})}}),$g=Zs(),gie=[$g({name:"name",header(){return m.jsx(ue,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),$g({name:"amount",header(){return m.jsx(ue,{label:"Amount (label)"})},render({value:t}){return Ln({number:t})},size:18}),$g({name:"limit",header(){return m.jsx(ue,{label:"Inventory limit (label)"})},render({value:t}){return Ln({number:t})},size:14}),$g({name:"storage",header(){return m.jsx(ue,{label:"Storage (label)"})},render({data:t}){return m.jsx(sf,{value:100*t.amount/t.limit})},size:24})],yie=({table:t,...e})=>m.jsx(Ks,{table:Gs({...t,columns:gie}),...e}),dN=Tre({shape:ne.object({resourceId:ne.string().min(1),amount:Zu(),limit:Zu()}),filter:Io.merge(ne.object({resourceId:ne.string().optional()}))}),my=_n("/$locale/apps/derivean/game/inventory")({validateSearch:Yi(Qs(dN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(s=>Gr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").selectAll("i").select("r.name").where("i.id","in",s.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("i.id","=",l.id)),l?.idIn&&(c=c.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return c},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),limit:ne.number().nonnegative()}),filter:n,cursor:r}))},component(){const{data:t,count:e}=my.useLoaderData(),{filter:n,cursor:r}=my.useSearch(),i=my.useNavigate(),{tva:s}=gi({from:"__root__"}),o=s().slots;return m.jsx("div",{className:o.base(),children:m.jsx(yie,{table:{data:t,filter:{value:n,set:Vs(i)}},fulltext:{value:n?.fulltext,set:Hs(i)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of items"}),...Us(i)}})})}}),OL=_n("/$locale/apps/derivean/db/schema")({async loader({context:{kysely:t}}){return{tables:await t.introspection.getTables()}},component(){const{tables:t}=OL.useLoaderData(),e=({dataType:i,isNullable:s})=>{const o=i.toLowerCase();let l=`z.never({message: '${i}'})`;switch(o){case"integer":{l="z.number().int()";break}case"float4":{l="z.number()";break}case"datetime":{l="z.string()";break}case"boolean":{l="withBoolSchema()";break}}return o.startsWith("varchar")&&(l=`z.string()${s?"":".min(1)"}`),`
// ${i} / ${s?"nullable":"not nullable"}
${l}${s?".nullish()":""}
`},n=t.map(i=>{const s=i.name.replaceAll("_","");return`
export const with${s}Schema = <
    TShapeSchema extends ShapeSchema,
    TFilterSchema extends FilterSchema,
>({
    shape,
    filter,
}: {
    shape: TShapeSchema;
    filter: TFilterSchema;
}) => {
    return withSourceSchema({
        entity: IdentitySchema.merge(z.object({
                ${i.columns.filter(({name:o})=>o!=="id").map(o=>`
    "${o.name}": ${e(o)}
        `.trim()).join(`,
			`)},
        })),
        shape,
        filter,
        sort: [${i.columns.map(o=>`"${o.name}"`).join(", ")}],
    });
}

export type ${s}Entity = ReturnType<typeof with${s}Schema>['~entity'];
            `.trim()}),r=t.map(i=>{const s=i.name.replaceAll("_","");return`${i.name}: ${s}Entity;`});return m.jsxs("pre",{children:[`
import {
    IdentitySchema,
    withSourceSchema,
    type FilterSchema,
    type ShapeSchema,
    withBoolSchema,
} from "@use-pico/common";
import { z } from "zod";
            `.trim(),`

${n.join(`

`)}`,`

export interface Database {
    ${r.join(`
	`)}
}
                `]})}}),OR=Zs(),vie=[OR({name:"name",header(){return m.jsx(ue,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=Gn({from:"/$locale"});return m.jsx(cr,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),OR({name:"login",header(){return m.jsx(ue,{label:"User login (label)"})},render({value:t}){return t},size:14})],bie=({table:t,...e})=>{const n=Nr([["Management"],["User_Inventory"]]),r=vn({async mutationFn({userId:s}){return zt.transaction().execute(o=>IE({tx:o,userId:s}))},async onSuccess(){await n()}}),i=vn({async mutationFn({userId:s}){return zt.transaction().execute(async o=>{await IE({tx:o,userId:s}),await o.deleteFrom("Building").where("userId","=",s).execute(),await o.deleteFrom("Production").where("userId","=",s).execute(),await o.deleteFrom("Construction").where("userId","=",s).execute(),await o.deleteFrom("Cycle").where("userId","=",s).execute()})},async onSuccess(){await n()}});return m.jsx(Ks,{table:Gs({...t,columns:vie}),action:{row({data:s}){return m.jsxs(Or,{children:[m.jsx(US,{icon:na,onClick:()=>{r.mutateAsync({userId:s.id})},children:m.jsx(ue,{label:"Apply default inventory (menu)"})}),m.jsx(US,{icon:Ji,onClick:()=>{i.mutateAsync({userId:s.id})},children:m.jsx(ue,{label:"Reset game (menu)"})})]})}},...e})},xie=Are({shape:ne.object({name:ne.string().min(1),login:ne.string().min(1),password:ne.string().min(1)}),filter:Io.merge(ne.object({login:ne.string().optional(),password:ne.string().optional()}))}),gy=_n("/$locale/apps/derivean/root/user/list")({validateSearch:Yi(Qs(xie)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["User","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Gr({select:i.selectFrom("User as u").select(["u.id","u.name","u.login"]),output:ne.object({id:ne.string().min(1),name:ne.string().min(1),login:ne.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=gy.useLoaderData(),{filter:n,cursor:r,selection:i}=gy.useSearch(),s=gy.useNavigate(),{tva:o}=gi({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(bie,{table:{data:t,filter:{value:n,set:Vs(s)},selection:{type:"multi",value:i,set:To(s)}},fulltext:{value:n?.fulltext,set:Hs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of users (label)"}),...Us(s)}})})}}),wie=({entity:t,...e})=>{const{locale:n}=Gn({from:"/$locale"});return m.jsxs(rf,{...e,children:[m.jsx(Ur,{icon:F1,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"View detail (menu)"})}),m.jsx(Ur,{icon:Xl,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"Building list (menu)"})}),m.jsx(Ur,{icon:na,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"Inventory (menu)"})})]})},_ie=t=>{const{locale:e}=Gn({from:"/$locale"});return m.jsx(pb,{title:({entity:n})=>m.jsx(gb,{icon:F1,title:n.name}),actions:()=>m.jsx(m.Fragment,{children:m.jsx(cr,{icon:j1,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:m.jsx(ue,{label:"User list (label)"})})}),...t})},TL=_n("/$locale/apps/derivean/root/user/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await mb({select:n.selectFrom("User as u").select(["u.id","u.name"]).where("u.id","=",e),output:ne.object({id:ne.string().min(1),name:ne.string().min(1)})})}))},component(){const{tva:t}=gi({from:"__root__"}),{entity:e}=TL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(_ie,{entity:e}),m.jsx(wie,{entity:e}),m.jsx(Ba,{})]})}}),yy=_n("/$locale/apps/derivean/root/tag/list")({validateSearch:Yi(Qs(om)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Tag","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>Gr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]).orderBy("t.sort","desc"),output:ne.object({id:ne.string().min(1),code:ne.string().min(1),label:ne.string().min(1),group:ne.string().nullish(),sort:ne.number().int().nonnegative()}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=yy.useLoaderData(),{filter:n,cursor:r,selection:i}=yy.useSearch(),s=yy.useNavigate(),{tva:o}=gi({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(yL,{table:{data:t,filter:{value:n,set:Vs(s)},selection:{type:"multi",value:i,set:To(s)}},fulltext:{value:n?.fulltext,set:Hs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of items"}),...Us(s)}})})}}),vy=_n("/$locale/apps/derivean/root/resource/list")({validateSearch:Yi(Qs(vL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Resource","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Gr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>Vr`json_group_array(json_object(
                                            'id', ${o.ref("t.id")},
                                            'code', ${o.ref("t.code")},
                                            'group', ${o.ref("t.group")},
                                            'sort', ${o.ref("t.sort")},
                                            'label', ${o.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",s.selectFrom("Resource_Tag as rt").select("rt.tagId").whereRef("rt.resourceId","=","r.id")).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",c),d("r.name","like",c),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),countRequirement:ne.number().nonnegative(),countProduction:ne.number().nonnegative(),countProductionRequirement:ne.number().nonnegative(),tags:hi(om.entity)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=vy.useLoaderData(),{filter:n,cursor:r,selection:i}=vy.useSearch(),s=vy.useNavigate(),{tva:o}=gi({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(bL,{table:{data:t,filter:{value:n,set:Vs(s)},selection:{type:"multi",value:i,set:To(s)}},fulltext:{value:n?.fulltext,set:Hs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of items"}),...Us(s)}})})}}),Sie=({entity:t,...e})=>{const{locale:n}=Gn({from:"/$locale"});return m.jsx(rf,{...e,children:m.jsx(Ur,{icon:Lr,to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"View detail (menu)"})})})},Eie=t=>{const{locale:e}=Gn({from:"/$locale"});return m.jsx(pb,{title:({entity:n})=>m.jsx(gb,{icon:Lr,title:n.name}),actions:()=>m.jsx(m.Fragment,{children:m.jsx(cr,{icon:j1,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:m.jsx(ue,{label:"Resource list (label)"})})}),...t})},qL=_n("/$locale/apps/derivean/root/resource/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Resource",n],async queryFn(){return e.transaction().execute(async r=>({entity:await mb({select:r.selectFrom("Resource as r").select(["r.id","r.name"]).where("r.id","=",n),output:ne.object({id:ne.string().min(1),name:ne.string().min(1)})})}))}})},component:()=>{const{tva:t}=gi({from:"__root__"}),{entity:e}=qL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(Eie,{entity:e}),m.jsx(Sie,{entity:e}),m.jsx(Ba,{})]})}}),RL=Ore({shape:ne.object({resourceId:ne.string().min(1),amount:Zu(),limit:Zu()}),filter:Io}),TR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(RL.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ue,{label:"Resource name (label)"}),children:m.jsx(Eo,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(am,{textTitle:m.jsx(ue,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ue,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ue,{label:"Limit (label)"}),hint:m.jsx(ue,{label:"Inventory limit (hint)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:na,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},rS=Zs(),Nie=[rS({name:"name",header(){return m.jsx(ue,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),rS({name:"amount",header(){return m.jsx(ue,{label:"Amount (label)"})},render({value:t}){return Ln({number:t})},size:12}),rS({name:"limit",header(){return m.jsx(ue,{label:"Inventory limit (label)"})},render({value:t,data:e}){return m.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[m.jsx("div",{children:Ln({number:t})}),m.jsx(sf,{value:100*e.amount/e.limit})]})},size:14})],kie=({table:t,...e})=>{const n=Nr([["Default_Inventory"]]),r=vn({async mutationFn(){return zt.transaction().execute(async i=>{const s=await i.selectFrom("Resource as r").select(["r.id"]).where("r.id","not in",i.selectFrom("Default_Inventory").select("resourceId")).execute();return i.insertInto("Default_Inventory").values(s.map(({id:o})=>({id:Kn(),amount:0,limit:0,resourceId:o}))).execute()})},async onSuccess(){await n()}});return m.jsx(Ks,{table:Gs({...t,columns:Nie}),action:{table(){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Create inventory item (menu)"}),textTitle:m.jsx(ue,{label:"Create inventory item (modal)"}),icon:na,children:m.jsx(TR,{mutation:vn({async mutationFn(i){return Sn.promise(zt.transaction().execute(async s=>s.insertInto("Default_Inventory").values({id:Kn(),...i}).returningAll().executeTakeFirstOrThrow()),Dr("Create inventory item"))},async onSuccess(){await n()}})})}),m.jsx(US,{icon:Lr,onClick:()=>{r.mutate()},children:m.jsx(ue,{label:"Fill missing resources (label)"})})]})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit inventory item (modal)"}),icon:na,children:m.jsx(TR,{defaultValues:i,mutation:vn({async mutationFn(s){return Sn.promise(zt.transaction().execute(async o=>o.updateTable("Default_Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Dr("Update inventory item"))},async onSuccess(){await n()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Default_Inventory").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:n})})]})}},...e})},by=_n("/$locale/apps/derivean/root/default/inventory")({validateSearch:Yi(Qs(RL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Default_Inventory","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>Gr({select:i.selectFrom("Default_Inventory as di").innerJoin("Resource as r","r.id","di.resourceId").select(["di.id","r.name","di.amount","di.limit","di.resourceId"]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("di.id","=",o.id)),o?.idIn&&(l=l.where("di.id","in",o.idIn)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("di.id","like",`%${c}%`),d("r.id","like",`%${c}%`),d("r.name","like",`%${c}%`),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),limit:ne.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=by.useLoaderData(),{filter:n,cursor:r,selection:i}=by.useSearch(),s=by.useNavigate(),{tva:o}=gi({from:"__root__"}),l=o().slots;return m.jsx("div",{className:l.base(),children:m.jsx(kie,{table:{data:t,filter:{value:n,set:Vs(s)},selection:{type:"multi",value:i,set:To(s)}},fulltext:{value:n?.fulltext,set:Hs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of items"}),...Us(s)}})})}}),xy=_n("/$locale/apps/derivean/root/blueprint/list")({validateSearch:Yi(Qs(mL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Gr({select:s.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.productionLimit",o=>o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(l=>Vr`json_group_array(json_object(
                                                'id', ${l.ref("br.id")},
                                                'amount', ${l.ref("br.amount")},
                                                'passive', ${l.ref("br.passive")},
                                                'resourceId', ${l.ref("br.resourceId")},
                                                'blueprintId', ${l.ref("br.blueprintId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),o=>o.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(l=>Vr`json_group_array(json_object(
                                                        'id', ${l.ref("bd.id")},
                                                        'dependencyId', ${l.ref("bd.dependencyId")},
                                                        'blueprintId', ${l.ref("bd.blueprintId")},
                                                        'name', ${l.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("bl.id","=",l.id)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("bl.id","like",d),f("bl.name","like",d)]))}return c},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),cycles:ne.number().nonnegative(),sort:ne.number().nonnegative(),productionLimit:ne.number().nonnegative(),requirements:hi(af.entity.merge(ne.object({name:ne.string().min(1)}))),dependencies:hi(of.entity.merge(ne.object({name:ne.string().min(1)})))}),filter:n,cursor:r}))}}),dependencies:await e.transaction().execute(async s=>Rb({tx:s}))}},component(){const{data:{data:t,count:e},dependencies:n}=xy.useLoaderData(),{filter:r,cursor:i,selection:s}=xy.useSearch(),o=xy.useNavigate(),{tva:l}=gi({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(EL,{dependencies:n,table:{data:t,filter:{value:r,set:Vs(o)},selection:{type:"multi",value:s,set:To(o)}},fulltext:{value:r?.fulltext,set:Hs(o)},cursor:{count:e,cursor:i,textTotal:m.jsx(ue,{label:"Number of blueprints"}),...Us(o)}})})}}),Iie=({entity:t,...e})=>{const{locale:n}=Gn({from:"/$locale"});return m.jsxs(rf,{...e,children:[m.jsx(Ur,{icon:Mr,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"View detail (menu)"})}),m.jsx(Ur,{icon:Xl,to:"/$locale/apps/derivean/root/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"Blueprint dependencies (menu)"})}),m.jsx(Ur,{icon:Lr,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"Required resources (menu)"})}),m.jsx(Ur,{icon:bo,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"Resource production (menu)"})}),m.jsx(Ur,{icon:jF,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"Edit (menu)"})})]})},Cie=t=>{const{locale:e}=Gn({from:"/$locale"});return m.jsx(pb,{title:({entity:n})=>m.jsx(gb,{icon:Mr,title:n.name}),actions:({entity:n})=>m.jsxs(m.Fragment,{children:[m.jsx(cr,{icon:j1,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},children:m.jsx(ue,{label:"Blueprint list (label)"})}),m.jsx(cr,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},search:{zoomTo:n.id},children:m.jsx(ue,{label:"Editor (label)"})})]}),...t})},AL=_n("/$locale/apps/derivean/root/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>mb({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.productionLimit",s=>s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(o=>Vr`json_group_array(json_object(
                                                  'id', ${o.ref("br.id")},
                                                  'amount', ${o.ref("br.amount")},
                                                  'passive', ${o.ref("br.passive")},
                                                  'resourceId', ${o.ref("br.resourceId")},
                                                  'blueprintId', ${o.ref("br.blueprintId")},
                                                  'name', ${o.ref("r.name")}
                                              ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),s=>s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(o=>Vr`json_group_array(json_object(
                                                          'id', ${o.ref("bd.id")},
                                                          'dependencyId', ${o.ref("bd.dependencyId")},
                                                          'blueprintId', ${o.ref("bd.blueprintId")},
                                                          'name', ${o.ref("bl2.name")}
                                                      ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",c),d("bl.name","like",c),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(f=>f.or([f("r.name","like",c)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(f=>f.or([f("b.name","like",c)])))]))}return l},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),cycles:ne.number().nonnegative(),sort:ne.number().nonnegative(),productionLimit:ne.number().nonnegative(),requirements:hi(af.entity.merge(ne.object({name:ne.string().min(1)}))),dependencies:hi(of.entity.merge(ne.object({name:ne.string().min(1)})))})}))}}),graph:await e.transaction().execute(async i=>Rb({tx:i}))}},component(){const{tva:t}=gi({from:"__root__"}),{entity:e}=AL.useLoaderData(),n=t().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(Cie,{entity:e}),m.jsx(Iie,{entity:e}),m.jsx(Ba,{})]})}}),Oie=ne.object({id:ne.string().min(1),blueprintProductionId:ne.string().min(1),blueprintId:ne.string().min(1),name:ne.string().min(1),resource:ne.string().min(1),amount:ne.number().nonnegative(),count:ne.number().nonnegative(),limit:ne.number().nonnegative(),priority:ne.number(),requirements:hi(ne.object({id:ne.string().min(1),amount:ne.number().nonnegative(),passive:Ui(),resourceId:ne.string().min(1),name:ne.string().min(1)}))}),Tie=({entity:t})=>{const{locale:e}=Gn({from:"/$locale"}),n=Nr([["Management"]]),r=vn({async mutationFn({id:o,priority:l}){return zt.transaction().execute(async c=>c.updateTable("Production_Queue").set({priority:l}).where("id","=",o).execute())},async onSuccess(){await n()}}),i=vn({async mutationFn({id:o,limit:l}){return zt.transaction().execute(async c=>c.updateTable("Production_Queue").set({limit:l}).where("id","=",o).execute())},async onSuccess(){await n()}}),s=vn({async mutationFn(){return zt.transaction().execute(async o=>o.deleteFrom("Production_Queue").where("id","=",t.id).execute())},async onSuccess(){await n()}});return m.jsxs("div",{className:"flex flex-row items-center justify-between border border-slate-300 p-2 rounded-md hover:bg-slate-50 hover:border-slate-500",children:[m.jsxs("div",{className:"flex flex-row gap-6",children:[m.jsx("div",{className:"flex flex-row items-center gap-2 font-bold",children:m.jsx(cr,{icon:Xl,to:"/$locale/apps/derivean/game/map",params:{locale:e},search:{blueprintId:t.blueprintId},children:t.name})}),m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:Lr,css:{base:["text-slate-400"]}}),m.jsx("div",{children:t.resource}),m.jsxs(Ko,{children:["x",Ln({number:t.amount})]})]}),m.jsxs("div",{className:"flex flex-row items-center gap-2",children:[m.jsx(Xt,{icon:"icon-[fluent--text-word-count-20-regular]",css:{base:["text-slate-400"]}}),m.jsxs(Ko,{children:[Ln({number:t.count}),t.limit>0?` / ${Ln({number:t.limit})}`:null]})]}),m.jsxs("div",{className:"flex flex-row items-center gap-2 font-bold",children:[m.jsx(Xt,{icon:"icon-[material-symbols-light--low-priority-rounded]",css:{base:["text-slate-400"]}}),m.jsx(Ko,{children:Ln({number:t.priority})})]})]}),m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx(lm,{requirements:t.requirements}),m.jsx(On,{iconEnabled:"icon-[ph--minus-fill]",iconDisabled:"icon-[ph--minus-fill]",loading:i.isPending,disabled:t.limit===0,onClick:()=>{i.mutate({id:t.id,limit:Math.max(0,t.limit-1)})}}),m.jsx(On,{iconEnabled:"icon-[ph--plus-fill]",loading:i.isPending,onClick:()=>{i.mutate({id:t.id,limit:t.limit+1})}}),m.jsx(On,{iconEnabled:"icon-[bx--down-arrow]",iconDisabled:"icon-[bx--down-arrow]",loading:r.isPending,disabled:t.priority===0,onClick:()=>{r.mutate({id:t.id,priority:t.priority-5})}}),m.jsx(On,{iconEnabled:"icon-[bx--up-arrow]",loading:r.isPending,onClick:()=>{r.mutate({id:t.id,priority:t.priority+5})}}),m.jsx(On,{iconEnabled:Ji,loading:s.isPending,variant:{variant:"danger"},onClick:()=>{s.mutate()}})]})]})},jL=_n("/$locale/apps/derivean/game/production/queue")({async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{data:await t.ensureQueryData({queryKey:["Management","Production-Queue",r.id],queryFn:async()=>L1({select:e.selectFrom("Production_Queue as pq").innerJoin("Blueprint_Production as bp","bp.id","pq.blueprintProductionId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["pq.id","pq.blueprintProductionId","bl.name","bl.id as blueprintId","r.name as resource","bp.amount","pq.priority","pq.count","pq.limit",s=>s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r2","r2.id","bpr.resourceId").select([o=>Ia.jsonGroupArray({id:o.ref("bpr.id"),amount:o.ref("bpr.amount"),passive:o.ref("bpr.passive"),name:o.ref("r2.name"),blueprintId:o.ref("bp.id"),resourceId:o.ref("bpr.resourceId")}).as("requirements")]).whereRef("bpr.blueprintProductionId","=","pq.blueprintProductionId").as("requirements")]).where("userId","=",r.id).orderBy("priority","desc"),output:Oie})})}},component(){const{data:t}=jL.useLoaderData();return m.jsx("div",{className:"flex flex-col gap-2",children:t.map(e=>m.jsx(Tie,{entity:e},e.id))})}}),qie=_n("/$locale/apps/derivean/root/user/$id/view")({component:()=>"yep"}),qR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(dN.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"resourceId",label:m.jsx(ue,{label:"Resource name (label)"}),children:m.jsx(Eo,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>m.jsx(am,{textTitle:m.jsx(ue,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),m.jsx(wn,{formState:s.formState,name:"amount",label:m.jsx(ue,{label:"Amount (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),m.jsx(wn,{formState:s.formState,name:"limit",label:m.jsx(ue,{label:"Inventory limit (label)"}),children:m.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:na,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},iS=Zs(),Rie=[iS({name:"name",header(){return m.jsx(ue,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),iS({name:"amount",header(){return m.jsx(ue,{label:"Amount (label)"})},render({value:t}){return Ln({number:t})},size:12}),iS({name:"limit",header(){return m.jsx(ue,{label:"Inventory limit (label)"})},render({value:t,data:e}){return m.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[m.jsx("div",{children:Ln({number:t})}),m.jsx(sf,{value:100*e.amount/e.limit})]})},size:14})],Aie=({onCreate:t,table:e,...n})=>{const r=Nr([["Inventory"],["User_Inventory"],["Building_Base_Production"]]);return m.jsx(Ks,{table:Gs({...e,columns:Rie}),action:{table:t?()=>m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create inventory item (menu)"}),textTitle:m.jsx(ue,{label:"Create inventory item (modal)"}),icon:na,children:m.jsx(qR,{mutation:vn({async mutationFn(i){return Sn.promise(zt.transaction().execute(async s=>{const o=await s.insertInto("Inventory").values({id:Kn(),...i}).returningAll().executeTakeFirstOrThrow();return await t?.({tx:s,entity:o}),o}),Dr("Create inventory item"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit inventory item (modal)"}),icon:na,children:m.jsx(qR,{defaultValues:i,mutation:vn({async mutationFn(s){return Sn.promise(zt.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Dr("Update inventory item"))},async onSuccess(){await r()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},wh=_n("/$locale/apps/derivean/root/user/$id/inventory")({validateSearch:Yi(Qs(dN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>Gr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","i.amount","i.limit"]).where("i.id","in",s.selectFrom("User_Inventory as ui").where("ui.userId","=",i).select("ui.inventoryId")).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("i.id","=",l.id)),l?.idIn&&(c=c.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return c},output:ne.object({id:ne.string().min(1),resourceId:ne.string().min(1),name:ne.string().min(1),amount:ne.number().nonnegative(),limit:ne.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=wh.useLoaderData(),{filter:n,cursor:r,selection:i}=wh.useSearch(),s=wh.useNavigate(),{id:o}=wh.useParams(),{tva:l}=gi({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(Aie,{onCreate:async({tx:d,entity:f})=>d.insertInto("User_Inventory").values({id:Kn(),userId:o,inventoryId:f.id}).execute(),table:{data:t,filter:{value:n,set:Vs(s)},selection:{type:"multi",value:i,set:To(s)}},fulltext:{value:n?.fulltext,set:Hs(s)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of items"}),...Us(s)}})})}}),jie=_n("/$locale/apps/derivean/root/resource/$id/view")({component:()=>m.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),Pie=({entity:t,...e})=>{const{locale:n}=Gn({from:"/$locale"});return m.jsx(rf,{...e,children:m.jsx(Ur,{icon:gL,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:m.jsx(ue,{label:"Production requirements (menu)"})})})},Fie=t=>{const{locale:e}=Gn({from:"/$locale"});return m.jsx(pb,{title:({entity:n})=>m.jsx(gb,{icon:bo,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>m.jsx(m.Fragment,{children:m.jsx(cr,{icon:Mr,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:m.jsx(ue,{label:"Building base detail (label)"})})}),...t})},PL=_n("/$locale/apps/derivean/root/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await mb({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","bp.limit","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:ne.object({id:ne.string().min(1),resource:ne.string().min(1),blueprint:ne.string().min(1),blueprintId:ne.string().min(1),amount:ne.number().nonnegative(),cycles:ne.number().int().nonnegative(),limit:ne.number().int().nonnegative()})})}))}})},component(){const{entity:t}=PL.useLoaderData(),{tva:e}=gi({from:"__root__"}),n=e().slots;return m.jsxs("div",{className:n.base(),children:[m.jsx(Fie,{entity:t}),m.jsx(Pie,{entity:t}),m.jsx(Ba,{})]})}}),Die=({graph:t,blueprintId:e,mode:n="dependencies",reverse:r=!1})=>{try{const i=(s=>r?s.reverse():s)(n==="dependants"?t.dependantsOf(e):t.dependenciesOf(e));return m.jsxs("div",{className:$s(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:[i.length>0?m.jsx(Xt,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):m.jsx(Xt,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(s=>m.jsx(Ko,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(s)},Kn())):m.jsx(ue,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof SL.DepGraphCycleError?m.jsxs("div",{className:$s(["flex","flex-row","gap-2","items-center"]),children:[m.jsx(Xt,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(s=>m.jsx(Ko,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(s)},Kn()))]}):"kaboom"}},Lie=({dependencies:t,...e})=>m.jsx(Z7,{items:[{id:"name",label:m.jsx(ue,{label:"Building name (label)"}),render({entity:n}){return n.name}},{id:"cycles",label:m.jsx(ue,{label:"Construction cycles (label)"}),render({entity:n}){return Ln({number:n.cycles})}},{id:"productionLimit",label:m.jsx(ue,{label:"Production limit (label)"}),render({entity:n}){return Ln({number:n.productionLimit})}},{id:"requirements",label:m.jsx(ue,{label:"Required resources (label)"}),render({entity:n}){return m.jsx(lm,{requirements:n.requirements,textEmpty:m.jsx(ue,{label:"No requirements (label)"})})}},{id:"dependencies",label:m.jsx(ue,{label:"Blueprint dependencies (label)"}),render({entity:n}){return m.jsx(_L,{dependencies:n.dependencies,textEmpty:m.jsx(ue,{label:"No dependencies (label)"})})}},{id:"deps",label:m.jsx(ue,{label:"Blueprint dependency graph (label)"}),render({entity:n}){return m.jsx(Die,{graph:t,blueprintId:n.id})}}],...e}),FL=_n("/$locale/apps/derivean/root/blueprint/$id/view")({async loader({context:{kysely:t}}){return{dependencies:await t.transaction().execute(async e=>Rb({tx:e}))}},component(){const{dependencies:t}=FL.useLoaderData(),{entity:e}=Ud({from:"/$locale/apps/derivean/root/blueprint/$id"});return m.jsx("div",{className:"w-1/2 mx-auto",children:m.jsx(Lie,{dependencies:t,entity:e})})}}),_h=_n("/$locale/apps/derivean/root/blueprint/$id/requirements")({validateSearch:Yi(Qs(af)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Gr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("br.id","=",l.id)),l?.idIn&&(c=c.where("br.id","in",l.idIn)),l?.resourceId&&(c=c.where("br.resourceId","=",l.resourceId)),c},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),passive:Ui()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=_h.useLoaderData(),{filter:n,cursor:r,selection:i}=_h.useSearch(),{id:s}=_h.useParams(),o=_h.useNavigate(),{tva:l}=gi({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(kL,{blueprintId:s,table:{data:t,filter:{value:n,set:Vs(o)},selection:{type:"multi",value:i,set:To(o)}},fulltext:{value:n?.fulltext,set:Hs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of requirements (label)"}),...Us(o)}})})}}),Sh=_n("/$locale/apps/derivean/root/blueprint/$id/production")({validateSearch:Yi(Qs(xL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Gr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.limit","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Vr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:ne.object({id:ne.string().min(1),name:ne.string().min(1),blueprintId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),limit:ne.number().nonnegative(),cycles:ne.number().nonnegative(),requirements:hi(qb.entity.merge(ne.object({name:ne.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Sh.useLoaderData(),{filter:n,cursor:r,selection:i}=Sh.useSearch(),{id:s}=Sh.useParams(),o=Sh.useNavigate(),{tva:l}=gi({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(NL,{blueprintId:s,table:{data:t,filter:{value:n,set:Vs(o)},selection:{type:"multi",value:i,set:To(o)}},fulltext:{value:n?.fulltext,set:Hs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of productions (label)"}),...Us(o)}})})}}),DL=_n("/$locale/apps/derivean/root/blueprint/$id/edit")({component:()=>{const{entity:t}=Ud({from:"/$locale/apps/derivean/root/blueprint/$id"}),e=DL.useNavigate(),n=Nr([["Blueprint"]]);return m.jsx("div",{className:"w-1/2 mx-auto",children:m.jsx(Op,{defaultValues:t,mutation:vn({async mutationFn(r){return Sn.promise(zt.transaction().execute(async i=>i.updateTable("Blueprint").set(r).where("id","=",t.id).returningAll().executeTakeFirstOrThrow()),Dr("Update blueprint"))},async onSuccess(){await n(),e({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{id:t.id}})}})})})}}),RR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(of.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"dependencyId",label:m.jsx(ue,{label:"Blueprint dependency (label)"}),children:m.jsx(Eo,{control:s.control,name:"dependencyId",render:({field:{ref:l,...c}})=>m.jsx(cN,{textTitle:m.jsx(ue,{label:"Select blueprint (title)"}),allowEmpty:!0,...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:Mr,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},Mie=Zs(),$ie=[Mie({name:"name",header(){return m.jsx(ue,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=Gn({from:"/$locale"});return m.jsx(cr,{icon:Mr,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:12})],Bie=({blueprintId:t,table:e,...n})=>{const r=Nr([["Blueprint_Dependency"],["Blueprint"]]);return m.jsx(Ks,{table:Gs({...e,columns:$ie}),action:{table(){return m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create blueprint dependency (menu)"}),textTitle:m.jsx(ue,{label:"Create blueprint dependency (modal)"}),icon:Mr,children:({close:i})=>m.jsx(RR,{mutation:vn({async mutationFn(s){return Sn.promise(zt.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Dependency").values({id:Kn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await NE({tx:o}),l}),Dr("Create blueprint dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit blueprint dependency (modal)"}),icon:Mr,children:({close:s})=>m.jsx(RR,{defaultValues:i,mutation:vn({async mutationFn(o){return Sn.promise(zt.transaction().execute(async l=>l.updateTable("Blueprint_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Dr("Update blueprint dependency"))},async onSuccess(){await r(),s()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete blueprint dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Blueprint_Dependency").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Delete blueprint dependency (content)"}),textToast:"Delete blueprint dependency",invalidator:r})})]})}},...n})},Eh=_n("/$locale/apps/derivean/root/blueprint/$id/dependencies")({validateSearch:Yi(Qs(of)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Gr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bd.id","=",l.id)),l?.idIn&&(c=c.where("bd.id","in",l.idIn)),l?.blueprintId&&(c=c.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(c=c.where("bd.dependencyId","=",l.dependencyId)),c},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),blueprintId:ne.string().min(1),dependencyId:ne.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Eh.useLoaderData(),{filter:n,cursor:r,selection:i}=Eh.useSearch(),{id:s}=Eh.useParams(),o=Eh.useNavigate(),{tva:l}=gi({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(Bie,{blueprintId:s,table:{data:t,filter:{value:n,set:Vs(o)},selection:{type:"multi",value:i,set:To(o)}},fulltext:{value:n?.fulltext,set:Hs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of requirements (label)"}),...Us(o)}})})}}),LL=Cre({shape:ne.object({blueprintId:ne.string().min(1)}),filter:Io.merge(ne.object({userId:ne.string().optional(),blueprintId:ne.string().optional(),name:ne.string().optional()}))}),AR=({mutation:t,defaultValues:e,variant:n,tva:r=ys,css:i})=>{const s=vs({resolver:bs(LL.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return m.jsxs("form",{className:o.base(),onSubmit:Oo({form:s,mutation:t}),children:[m.jsx(Zi,{variant:{highlight:!0},error:s.formState.errors.root}),m.jsx(wn,{formState:s.formState,name:"blueprintId",label:m.jsx(ue,{label:"Select blueprint (label)"}),children:m.jsx(Eo,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>m.jsx(cN,{allowEmpty:!0,...c})})}),m.jsx("div",{className:"flex flex-row justify-between gap-8",children:m.jsx(On,{iconEnabled:Xl,type:"submit",children:m.jsx(ue,{label:"Save (submit)"})})})]})},zie=Zs(),Wie=[zie({name:"name",header(){return m.jsx(ue,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=Gn({from:"/$locale"});return m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(cr,{icon:Mr,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId}}),e]})},size:14})],Uie=({userId:t,table:e,...n})=>{const r=Nr([["Building"]]);return m.jsx(Ks,{table:Gs({...e,columns:Wie}),action:{table:t?()=>m.jsx(Or,{children:m.jsx(jn,{label:m.jsx(ue,{label:"Create building (menu)"}),textTitle:m.jsx(ue,{label:"Create building (modal)"}),icon:Lr,children:m.jsx(AR,{mutation:vn({async mutationFn(i){return Sn.promise(zt.transaction().execute(s=>s.insertInto("Building").values({id:Kn(),...i,userId:t}).returningAll().executeTakeFirstOrThrow()),Dr("Create building"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return m.jsxs(Or,{children:[m.jsx(jn,{label:m.jsx(ue,{label:"Edit (menu)"}),textTitle:m.jsx(ue,{label:"Edit building (modal)"}),icon:Xl,children:m.jsx(AR,{defaultValues:i,mutation:vn({async mutationFn(s){return Sn.promise(zt.transaction().execute(o=>o.updateTable("Building").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Dr("Edit building"))},async onSuccess(){await r()}})})}),m.jsx(jn,{icon:Ji,label:m.jsx(ue,{label:"Delete (menu)"}),textTitle:m.jsx(ue,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:m.jsx(qo,{callback:async()=>zt.transaction().execute(async s=>s.deleteFrom("Building").where("id","=",i.id).execute()),textContent:m.jsx(ue,{label:"Building delete (content)"}),textToast:"Building delete",invalidator:r})})]})}},...n})},Nh=_n("/$locale/apps/derivean/root/user/$id/building/list")({validateSearch:Yi(Qs(LL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>Gr({select:s.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.blueprintId"]).where("b.userId","=",i),output:ne.object({id:ne.string().min(1),name:ne.string().min(1),blueprintId:ne.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Nh.useLoaderData(),{filter:n,cursor:r,selection:i}=Nh.useSearch(),{id:s}=Nh.useParams(),o=Nh.useNavigate(),{tva:l}=gi({from:"__root__"}),c=l().slots;return m.jsx("div",{className:c.base(),children:m.jsx(Uie,{userId:s,table:{data:t,filter:{value:n,set:Vs(o)},selection:{type:"multi",value:i,set:To(o)}},fulltext:{value:n?.fulltext,set:Hs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of buildings (label)"}),...Us(o)}})})}}),kh=_n("/$locale/apps/derivean/root/blueprint/production/$id/requirements")({validateSearch:Yi(Qs(qb)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>Gr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:ne.object({id:ne.string().min(1),name:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),passive:Ui()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=kh.useLoaderData(),{filter:n,cursor:r,selection:i}=kh.useSearch(),{id:s}=kh.useParams(),o=kh.useNavigate();return m.jsx(m.Fragment,{children:m.jsx(wL,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Vs(o)},selection:{type:"multi",value:i,set:To(o)}},fulltext:{value:n?.fulltext,set:Hs(o)},cursor:{count:e,cursor:r,textTotal:m.jsx(ue,{label:"Number of production requirements (label)"}),...Us(o)}})})}}),fN=gG.update({id:"/$locale",path:"/$locale",getParentRoute:()=>$1}),Vie=bG.update({id:"/",path:"/",getParentRoute:()=>$1}),Hie=xG.update({id:"/",path:"/",getParentRoute:()=>fN}),oc=_G.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>fN}),Js=NG.update({id:"/root",path:"/root",getParentRoute:()=>oc}),um=OG.update({id:"/game",path:"/game",getParentRoute:()=>oc}),Qie=jG.update({id:"/",path:"/",getParentRoute:()=>Js}),Kie=PG.update({id:"/",path:"/",getParentRoute:()=>um}),Gie=kE.update({id:"/editor",path:"/editor",getParentRoute:()=>Js}),Zie=Yre.update({id:"/public/register",path:"/public/register",getParentRoute:()=>oc}),Jie=Xre.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>oc}),Yie=rie.update({id:"/public/login",path:"/public/login",getParentRoute:()=>oc}),Xie=OE.update({id:"/map",path:"/map",getParentRoute:()=>um}),ese=my.update({id:"/inventory",path:"/inventory",getParentRoute:()=>um}),tse=OL.update({id:"/db/schema",path:"/db/schema",getParentRoute:()=>oc}),nse=gy.update({id:"/user/list",path:"/user/list",getParentRoute:()=>Js}),Ab=TL.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>Js}),rse=yy.update({id:"/tag/list",path:"/tag/list",getParentRoute:()=>Js}),ise=vy.update({id:"/resource/list",path:"/resource/list",getParentRoute:()=>Js}),ML=qL.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>Js}),sse=by.update({id:"/default/inventory",path:"/default/inventory",getParentRoute:()=>Js}),ose=xy.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>Js}),lf=AL.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>Js}),ase=jL.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>um}),lse=qie.update({id:"/view",path:"/view",getParentRoute:()=>Ab}),use=wh.update({id:"/inventory",path:"/inventory",getParentRoute:()=>Ab}),cse=jie.update({id:"/view",path:"/view",getParentRoute:()=>ML}),$L=PL.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>Js}),dse=FL.update({id:"/view",path:"/view",getParentRoute:()=>lf}),fse=_h.update({id:"/requirements",path:"/requirements",getParentRoute:()=>lf}),hse=Sh.update({id:"/production",path:"/production",getParentRoute:()=>lf}),pse=DL.update({id:"/edit",path:"/edit",getParentRoute:()=>lf}),mse=Eh.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>lf}),gse=Nh.update({id:"/building/list",path:"/building/list",getParentRoute:()=>Ab}),yse=kh.update({id:"/requirements",path:"/requirements",getParentRoute:()=>$L}),vse={LocaleAppsDeriveanGameInventoryRoute:ese,LocaleAppsDeriveanGameMapRoute:Xie,LocaleAppsDeriveanGameIndexRoute:Kie,LocaleAppsDeriveanGameProductionQueueRoute:ase},bse=um._addFileChildren(vse),xse={LocaleAppsDeriveanRootBlueprintIdDependenciesRoute:mse,LocaleAppsDeriveanRootBlueprintIdEditRoute:pse,LocaleAppsDeriveanRootBlueprintIdProductionRoute:hse,LocaleAppsDeriveanRootBlueprintIdRequirementsRoute:fse,LocaleAppsDeriveanRootBlueprintIdViewRoute:dse},wse=lf._addFileChildren(xse),_se={LocaleAppsDeriveanRootResourceIdViewRoute:cse},Sse=ML._addFileChildren(_se),Ese={LocaleAppsDeriveanRootUserIdInventoryRoute:use,LocaleAppsDeriveanRootUserIdViewRoute:lse,LocaleAppsDeriveanRootUserIdBuildingListRoute:gse},Nse=Ab._addFileChildren(Ese),kse={LocaleAppsDeriveanRootBlueprintProductionIdRequirementsRoute:yse},Ise=$L._addFileChildren(kse),Cse={LocaleAppsDeriveanRootEditorRoute:Gie,LocaleAppsDeriveanRootIndexRoute:Qie,LocaleAppsDeriveanRootBlueprintIdRoute:wse,LocaleAppsDeriveanRootBlueprintListRoute:ose,LocaleAppsDeriveanRootDefaultInventoryRoute:sse,LocaleAppsDeriveanRootResourceIdRoute:Sse,LocaleAppsDeriveanRootResourceListRoute:ise,LocaleAppsDeriveanRootTagListRoute:rse,LocaleAppsDeriveanRootUserIdRoute:Nse,LocaleAppsDeriveanRootUserListRoute:nse,LocaleAppsDeriveanRootBlueprintProductionIdRoute:Ise},Ose=Js._addFileChildren(Cse),Tse={LocaleAppsDeriveanGameRoute:bse,LocaleAppsDeriveanRootRoute:Ose,LocaleAppsDeriveanDbSchemaRoute:tse,LocaleAppsDeriveanPublicLoginRoute:Yie,LocaleAppsDeriveanPublicLogoutRoute:Jie,LocaleAppsDeriveanPublicRegisterRoute:Zie},qse=oc._addFileChildren(Tse),Rse={LocaleIndexRoute:Hie,LocaleAppsDeriveanRoute:qse},Ase=fN._addFileChildren(Rse),jse={IndexRoute:Vie,LocaleRoute:Ase},Pse=$1._addFileChildren(jse)._addFileTypes(),BL=new d4({defaultOptions:{queries:{placeholderData:YM}}}),Fse=l$({routeTree:Pse,context:{queryClient:BL,tva:J7,async session(){return yb.parse(null)},kysely:zt},defaultPendingComponent:dv,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),jR=document.getElementById("app");pU({limit:{maxRequests:10,perMilliseconds:100}});jR.innerHTML||hG.createRoot(jR).render(m.jsx(y4,{client:BL,children:m.jsx(j$,{router:Fse})}))})();