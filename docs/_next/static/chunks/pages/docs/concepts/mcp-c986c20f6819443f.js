(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9871],{852:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/concepts/mcp",function(){return a(6861)}])},8273:function(e,n,a){"use strict";var t=a(2322),o=a(6577),i=a.n(o);let s={logo:(0,t.jsxs)("div",{style:{width:"10em",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)(i(),{alt:"logo",src:"https://avatars.githubusercontent.com/u/74918176?s=96&v=4",width:24,height:24}),(0,t.jsx)("span",{children:"Project: Leight Viv"})]}),project:{link:"https://github.com/leight-core/viv"},docsRepositoryBase:"https://github.com/leight-core/viv/tree/main/nextra",footer:{text:"Project Leight Viv Documentation"},sidebar:{defaultMenuCollapseLevel:1,toggleButton:!0},banner:{key:"wip",text:"This documentation is still work in progress, so be please patient."},toc:{float:!0}};n.Z=s},6861:function(e,n,a){"use strict";a.r(n);var t=a(2322),o=a(8287),i=a(7841),s=a(8273);a(6908);var d=a(5392);a(6577);let r={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)},pageOpts:{filePath:"pages/docs/concepts/mcp.mdx",route:"/docs/concepts/mcp",headings:[{depth:1,value:"Managed Code Pattern",id:"managed-code-pattern"},{depth:2,value:"Prologue",id:"prologue"},{depth:2,value:"Concept",id:"concept"},{depth:2,value:"Reason",id:"reason"},{depth:2,value:"Implementation",id:"implementation"},{depth:2,value:"What's generated",id:"whats-generated"}],timestamp:1680026356e3,pageMap:[{kind:"MdxPage",name:"about",route:"/about"},{kind:"Folder",name:"docs",route:"/docs",children:[{kind:"Folder",name:"concepts",route:"/docs/concepts",children:[{kind:"MdxPage",name:"code-splitting",route:"/docs/concepts/code-splitting"},{kind:"MdxPage",name:"index",route:"/docs/concepts"},{kind:"MdxPage",name:"mcp",route:"/docs/concepts/mcp"},{kind:"MdxPage",name:"monorepo",route:"/docs/concepts/monorepo"},{kind:"MdxPage",name:"package.json",route:"/docs/concepts/package.json"},{kind:"Folder",name:"source",route:"/docs/concepts/source",children:[{kind:"MdxPage",name:"client",route:"/docs/concepts/source/client"},{kind:"MdxPage",name:"index",route:"/docs/concepts/source"},{kind:"MdxPage",name:"server",route:"/docs/concepts/source/server"},{kind:"Meta",data:{index:"Introduction",client:"Client",server:"Server"}}]},{kind:"Meta",data:{index:"Introduction",monorepo:"Monorepo","package.json":"package.json",mcp:"Managed Code Pattern","code-splitting":"Code splitting",source:"Source"}}]},{kind:"Folder",name:"getting-started",route:"/docs/getting-started",children:[{kind:"MdxPage",name:"installation",route:"/docs/getting-started/installation"},{kind:"MdxPage",name:"packages",route:"/docs/getting-started/packages"},{kind:"Meta",data:{packages:"Packages",installation:"Installation"}}]},{kind:"MdxPage",name:"index",route:"/docs"},{kind:"Folder",name:"packages",route:"/docs/packages",children:[{kind:"Folder",name:"calendar-client",route:"/docs/packages/calendar-client",children:[{kind:"MdxPage",name:"calendar-provider",route:"/docs/packages/calendar-client/calendar-provider"},{kind:"MdxPage",name:"calendar",route:"/docs/packages/calendar-client/calendar"},{kind:"MdxPage",name:"index",route:"/docs/packages/calendar-client"},{kind:"MdxPage",name:"months",route:"/docs/packages/calendar-client/months"},{kind:"MdxPage",name:"weeks",route:"/docs/packages/calendar-client/weeks"},{kind:"MdxPage",name:"years",route:"/docs/packages/calendar-client/years"},{kind:"Meta",data:{index:"Overview",calendar:"Calendar",weeks:"Weeks",months:"Months",years:"Years","calendar-provider":"CalendarProvider"}}]},{kind:"MdxPage",name:"container",route:"/docs/packages/container"},{kind:"MdxPage",name:"context-client",route:"/docs/packages/context-client"},{kind:"MdxPage",name:"esbuild",route:"/docs/packages/esbuild"},{kind:"Folder",name:"i18n",route:"/docs/packages/i18n",children:[{kind:"MdxPage",name:"index",route:"/docs/packages/i18n"},{kind:"MdxPage",name:"weeks-of",route:"/docs/packages/i18n/weeks-of"},{kind:"Meta",data:{index:"Overview","weeks-of":"weeksOf"}}]},{kind:"Folder",name:"i18n-client",route:"/docs/packages/i18n-client",children:[{kind:"MdxPage",name:"date-time-provider",route:"/docs/packages/i18n-client/date-time-provider"},{kind:"MdxPage",name:"index",route:"/docs/packages/i18n-client"},{kind:"Meta",data:{index:"Overview","date-time-provider":"DateTimeProvider"}}]},{kind:"MdxPage",name:"index",route:"/docs/packages"},{kind:"Folder",name:"mantine",route:"/docs/packages/mantine",children:[{kind:"MdxPage",name:"index",route:"/docs/packages/mantine"},{kind:"MdxPage",name:"page-shell",route:"/docs/packages/mantine/page-shell"},{kind:"MdxPage",name:"shell",route:"/docs/packages/mantine/shell"},{kind:"Meta",data:{index:"Overview","page-shell":"PageShell",shell:"Shell"}}]},{kind:"MdxPage",name:"sdk",route:"/docs/packages/sdk"},{kind:"MdxPage",name:"source",route:"/docs/packages/source"},{kind:"Folder",name:"table-client",route:"/docs/packages/table-client",children:[{kind:"MdxPage",name:"index",route:"/docs/packages/table-client"},{kind:"MdxPage",name:"source-table",route:"/docs/packages/table-client/source-table"},{kind:"MdxPage",name:"table",route:"/docs/packages/table-client/table"},{kind:"Meta",data:{index:"Overview",table:"Table","source-table":"SourceTable"}}]},{kind:"MdxPage",name:"utils-client",route:"/docs/packages/utils-client"},{kind:"MdxPage",name:"utils",route:"/docs/packages/utils"},{kind:"MdxPage",name:"zustand",route:"/docs/packages/zustand"},{kind:"Meta",data:{index:"Overview","calendar-client":"calendar-client",container:"container","context-client":"context-client",esbuild:"esbuild",i18n:"i18n","i18n-client":"i18n-client",mantine:"mantine",sdk:"sdk",source:"source","table-client":"table-client",utils:"utils","utils-client":"utils-client",zustand:"zustand"}}]},{kind:"Folder",name:"workbench",route:"/docs/workbench",children:[{kind:"MdxPage",name:"i18n",route:"/docs/workbench/i18n"},{kind:"MdxPage",name:"index",route:"/docs/workbench"},{kind:"MdxPage",name:"monorepo",route:"/docs/workbench/monorepo"},{kind:"MdxPage",name:"prisma",route:"/docs/workbench/prisma"},{kind:"MdxPage",name:"sdk",route:"/docs/workbench/sdk"},{kind:"MdxPage",name:"zustand",route:"/docs/workbench/zustand"},{kind:"Meta",data:{index:"Overview",monorepo:"Monorepo",prisma:"Prisma",i18n:"i18n",zustand:"Zustand",sdk:"SDK"}}]},{kind:"Meta",data:{index:{title:"Welcome"},concepts:"Concepts","getting-started":"Getting started",workbench:"Workbench",packages:"Packages"}}]},{kind:"MdxPage",name:"index",route:"/"},{kind:"Meta",data:{"*":{type:"page"},index:{title:"Home",theme:{toc:!0}},docs:"Docs",about:{title:"About",theme:{typesetting:"article"}}}}],flexsearch:{codeblocks:!0},title:"Managed Code Pattern"},pageNextRoute:"/docs/concepts/mcp",nextraLayout:i.ZP,themeConfig:s.Z};function c(e){let n=Object.assign({h1:"h1",p:"p",code:"code",a:"a",h2:"h2",em:"em",strong:"strong",ul:"ul",li:"li"},(0,d.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{children:"Managed Code Pattern"}),"\n",(0,t.jsx)(i.UW,{type:"info",emoji:"ℹ️",children:(0,t.jsxs)(n.p,{children:["If you want see how ",(0,t.jsx)(n.code,{children:"MCP"})," works in ",(0,t.jsx)(n.code,{children:"@leight"}),", you can read more in ",(0,t.jsx)(n.a,{href:"../workbench/sdk",children:"SDK workbench"})," guide."]})}),"\n",(0,t.jsx)(n.h2,{id:"prologue",children:"Prologue"}),"\n",(0,t.jsx)(n.p,{children:"A lot of time, I've worked on projects without proper man power, so creating a lot of boilerplate code was quite a pain, also when there was need for\nrefactoring."}),"\n",(0,t.jsxs)(n.p,{children:["Ever since I've started (professional) programming (",(0,t.jsx)(n.em,{children:"~2011"}),"), I've done some kind of code generation which simplified a lot of things for me."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"And here we are."})}),"\n",(0,t.jsx)(n.h2,{id:"concept",children:"Concept"}),"\n",(0,t.jsx)(n.p,{children:"Cool name, I like it same as what it does: you have some existing piece of code and you're writing layer(s) of your own code on top of it. Many times\nit's repeated. So you wrap it into hooks or functions or whatever. But... what if there is some tool which can do this for you?"}),"\n",(0,t.jsxs)(n.p,{children:["That's the reason why I've come with this name: ",(0,t.jsx)(n.em,{children:"Managed Code Pattern"})," means you have small input definition on top of which is generated some bigger piece of\ncode which is ",(0,t.jsx)(n.strong,{children:"not"})," directly under your control."]}),"\n",(0,t.jsxs)(n.p,{children:["For example, Prisma does this. Zod schema generator for Prisma does this. Leight does this for generating ",(0,t.jsx)(n.a,{href:"./source",children:"Sources"})," and a lot of other stuff."]}),"\n",(0,t.jsx)(n.h2,{id:"reason",children:"Reason"}),"\n",(0,t.jsxs)(n.p,{children:["Read-only generated code managed by some library. You're isolated of internal changes, internal implementation, but you cas still alter behavior of the stuff.\nWith this it's much simpler to add new features, extends current things or fix bugs. Because you ",(0,t.jsx)(n.strong,{children:"cannot"})," alter the code, generator (thus ",(0,t.jsx)(n.em,{children:"managed"})," piece of code) can\ndo ",(0,t.jsx)(n.strong,{children:"whatever it wants"})," - it will not break anything of yours."]}),"\n",(0,t.jsxs)(n.p,{children:["Because of generator presence, things are made in standard, predicable way, so you ",(0,t.jsx)(n.strong,{children:"know"})," what to expect. All callbacks retrieving data accepts ",(0,t.jsx)(n.a,{href:"./source",children:"Query;"}),"; all Sources provides same methods for\ncounting, paging, sorting and other stuff. So you ",(0,t.jsx)(n.strong,{children:"do not have"})," a way how to do things differently, so it's much simpler to use your app and focus on business logic."]}),"\n",(0,t.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,t.jsxs)(n.p,{children:["Leight currently uses a few generators - ",(0,t.jsx)(n.a,{href:"https://www.prisma.io/",children:"Prisma"}),", ",(0,t.jsx)(n.a,{href:"https://github.com/chrishoermann/zod-prisma-types",children:"Zod schema generator"})," for Prisma and maybe something else not mentioned yet."]}),"\n",(0,t.jsxs)(n.p,{children:["Also, Leight itself implements ",(0,t.jsx)(n.a,{href:"../packages/sdk",children:"generators"})," for its own parts based on Prisma, so for example Forms, Tables, tRPC procedures and some other things which you ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"definitively"})})," do by hand are generated."]}),"\n",(0,t.jsxs)(n.p,{children:["There is ",(0,t.jsx)(n.strong,{children:"SDK"})," package which covers all parts of ",(0,t.jsx)(n.em,{children:"Leight Viv"})," and it's quite simple to integrate it into your project, see ",(0,t.jsx)(n.a,{href:"../workbench/sdk",children:"Workbench"})," for some tips."]}),"\n",(0,t.jsx)(n.h2,{id:"whats-generated",children:"What's generated"}),"\n",(0,t.jsx)(n.p,{children:"This is dynamic topic, so I'll put only a few of things I know now:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./source",children:"Sources"}),' - this wraps Prisma "repository", typings and makes a "standard" way how to get data']}),"\n",(0,t.jsx)(n.li,{children:"SourceProvider for types data (isolates from where you get data)"}),"\n",(0,t.jsxs)(n.li,{children:["QueryProvider for managing ",(0,t.jsx)(n.em,{children:"SourceProviders"}),", so you can simply manage Source state (filtering, ordering, paging, ...)"]}),"\n",(0,t.jsx)(n.li,{children:"Schemas for validating inputs/outputs"}),"\n",(0,t.jsxs)(n.li,{children:["...",(0,t.jsx)(n.em,{children:"and some other things I don't know yet or I'm lazy to write now"})]}),"\n"]})]})}n.default=(0,o.j)(r)}},function(e){e.O(0,[9774,278,2888,179],function(){return e(e.s=852)}),_N_E=e.O()}]);