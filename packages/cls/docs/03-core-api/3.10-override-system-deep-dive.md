# 3.10 Override System Deep Dive

## Table of Contents
- [3.1 `cls()` Function](./3.1-cls-function.md)
- [3.2 `extend()` Method](./3.2-extend-method.md)
- [3.3 `contract()` Helper](./3.3-contract-helper.md)
- [3.4 `use()` Method](./3.4-use-method.md)
- [3.5 `merge()` Utility](./3.5-merge-utility.md)
- [3.6 `tvc()` Helper](./3.6-tvc-helper.md)
- [3.7 What Utility](./3.7-what-utility.md)
- [3.8 Definition Helpers](./3.8-definition-helpers.md)
- [3.9 Override Helpers](./3.9-override-helpers.md)
- [3.10 Override System Deep Dive](./3.10-override-system-deep-dive.md) *(current)*

---

Welcome to the **Override System Deep Dive**! This is where we explore the advanced patterns, techniques, and real-world scenarios for CLS's override system. You'll learn how to master complex override scenarios and build sophisticated styling systems! 🚀

## Understanding Override Precedence 🎯

### The Override Hierarchy

CLS's override system follows a **specific precedence order**:

1. **Base Definition** (lowest priority)
2. **Inherited Definitions** (via `extend()`)
3. **Composed Definitions** (via `use()`)
4. **Override Definitions** (highest priority)

```typescript
import { cls } from "@use-pico/cls";

// 1. Base Definition
const BaseButtonCls = cls({
  tokens: {
    "color.bg": ["default", "primary", "danger"]
  },
  slot: ["root"],
  variant: {
    tone: ["default", "primary", "danger"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "color.bg": {
      default: ["bg-gray-100"],
      primary: ["bg-blue-600"],
      danger: ["bg-red-500"]
    }
  }),
  rules: [
    def.root({
      root: what.token(["color.bg.default"])
    }),
    def.rule(
      what.variant({ tone: "primary" }),
      { root: what.token(["color.bg.primary"]) }
    )
  ],
  defaults: def.defaults({
    tone: "default"
  })
}));

// 2. Inherited Definition (extends base)
const ExtendedButtonCls = BaseButtonCls.extend({
  tokens: {
    "color.bg": ["default", "primary", "danger", "custom"]
  },
  variant: {
    tone: ["default", "primary", "danger", "custom"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "color.bg": {
      custom: ["bg-purple-600"]
    }
  }),
  rules: [
    def.rule(
      what.variant({ tone: "custom" }),
      { root: what.token(["color.bg.custom"]) }
    )
  ],
  defaults: def.defaults({
    tone: "default"
  })
}));

// 3. Composed Definition (uses other modules)
const InteractiveCls = cls({
  tokens: {
    "interaction.state": ["hover", "focus"]
  },
  slot: ["root"],
  variant: {
    disabled: ["bool"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "interaction.state": {
      hover: ["hover:opacity-90"],
      focus: ["focus:ring-2", "focus:ring-blue-500"]
    }
  }),
  rules: [
    def.rule(
      what.variant({ disabled: true }),
      { root: what.css(["opacity-50", "cursor-not-allowed"]) }
    )
  ],
  defaults: def.defaults({
    disabled: false
  })
}));

const ComposedButtonCls = ExtendedButtonCls.use(InteractiveCls);

// 4. Override Definition (highest priority)
const FinalButtonCls = ComposedButtonCls.extend({
  variant: {
    tone: ["default", "primary", "danger", "custom", "success"]
  }
}, ({ what, def, override }) => ({
  // Override tokens completely
  token: override.token({
    "color.bg": {
      default: ["bg-gray-200"],      // Override base
      primary: ["bg-green-600"],     // Override inherited
      danger: ["bg-red-600"],        // Override inherited
      custom: ["bg-purple-700"],     // Override inherited
      success: ["bg-emerald-600"]    // Add new
    }
  }),
  // Override rules completely
  rules: [
    override.rule(
      what.variant({ tone: "primary" }),
      { root: what.css(["bg-green-600", "text-white", "border", "border-green-700"]) }
    ),
    override.rule(
      what.variant({ tone: "success" }),
      { root: what.css(["bg-emerald-600", "text-white", "border", "border-emerald-700"]) }
    )
  ],
  defaults: def.defaults({
    tone: "default",
    disabled: false
  })
}));
```

## Advanced Override Patterns 🌟

### 1. Conditional Theme Overrides

```typescript
import { cls } from "@use-pico/cls";

// Theme-aware override system
const createThemeOverrides = (theme: "light" | "dark" | "high-contrast") => {
  const themes = {
    light: {
      token: {
        "color.bg": {
          default: ["bg-white"],
          primary: ["bg-blue-600"],
          danger: ["bg-red-500"]
        },
        "color.text": {
          default: ["text-gray-900"],
          primary: ["text-white"],
          danger: ["text-white"]
        },
        "color.border": {
          default: ["border-gray-200"],
          primary: ["border-blue-600"],
          danger: ["border-red-500"]
        }
      },
      root: {
        root: ["rounded-lg", "border", "shadow-sm", "transition-colors"]
      }
    },
    dark: {
      token: {
        "color.bg": {
          default: ["bg-gray-800"],
          primary: ["bg-blue-700"],
          danger: ["bg-red-700"]
        },
        "color.text": {
          default: ["text-gray-100"],
          primary: ["text-white"],
          danger: ["text-white"]
        },
        "color.border": {
          default: ["border-gray-600"],
          primary: ["border-blue-700"],
          danger: ["border-red-700"]
        }
      },
      root: {
        root: ["rounded-lg", "border", "shadow-lg", "transition-colors"]
      }
    },
    "high-contrast": {
      token: {
        "color.bg": {
          default: ["bg-black"],
          primary: ["bg-blue-900"],
          danger: ["bg-red-900"]
        },
        "color.text": {
          default: ["text-white"],
          primary: ["text-white"],
          danger: ["text-white"]
        },
        "color.border": {
          default: ["border-white"],
          primary: ["border-blue-400"],
          danger: ["border-red-400"]
        }
      },
      root: {
        root: ["rounded-none", "border-2", "shadow-none", "transition-none"]
      }
    }
  };

  return themes[theme];
};

// Dynamic theme button
const createThemeButton = (baseButton: any, theme: "light" | "dark" | "high-contrast") => {
  const overrides = createThemeOverrides(theme);
  
  return baseButton.extend({
    variant: {
      tone: ["default", "primary", "danger"]
    }
  }, ({ what, def, override }) => ({
    token: override.token(overrides.token),
    rules: [
      override.root(overrides.root)
    ],
    defaults: def.defaults({
      tone: "default"
    })
  }));
};

// Usage
const LightButtonCls = createThemeButton(BaseButtonCls, "light");
const DarkButtonCls = createThemeButton(BaseButtonCls, "dark");
const HighContrastButtonCls = createThemeButton(BaseButtonCls, "high-contrast");
```

### 2. Responsive Override System

```typescript
import { cls } from "@use-pico/cls";

// Responsive-aware override system
const createResponsiveOverrides = (breakpoint: "mobile" | "tablet" | "desktop") => {
  const responsive = {
    mobile: {
      token: {
        "spacing.padding": {
          sm: ["p-2"],
          md: ["p-3"],
          lg: ["p-4"]
        },
        "spacing.margin": {
          sm: ["m-1"],
          md: ["m-2"],
          lg: ["m-3"]
        }
      },
      rules: [
        {
          variant: { size: "sm" },
          styles: { root: ["text-sm", "px-2", "py-1"] }
        },
        {
          variant: { size: "lg" },
          styles: { root: ["text-base", "px-4", "py-2"] }
        }
      ]
    },
    tablet: {
      token: {
        "spacing.padding": {
          sm: ["p-3"],
          md: ["p-4"],
          lg: ["p-6"]
        },
        "spacing.margin": {
          sm: ["m-2"],
          md: ["m-4"],
          lg: ["m-6"]
        }
      },
      rules: [
        {
          variant: { size: "sm" },
          styles: { root: ["text-base", "px-3", "py-2"] }
        },
        {
          variant: { size: "lg" },
          styles: { root: ["text-lg", "px-6", "py-3"] }
        }
      ]
    },
    desktop: {
      token: {
        "spacing.padding": {
          sm: ["p-4"],
          md: ["p-6"],
          lg: ["p-8"]
        },
        "spacing.margin": {
          sm: ["m-4"],
          md: ["m-6"],
          lg: ["m-8"]
        }
      },
      rules: [
        {
          variant: { size: "sm" },
          styles: { root: ["text-lg", "px-4", "py-3"] }
        },
        {
          variant: { size: "lg" },
          styles: { root: ["text-xl", "px-8", "py-4"] }
        }
      ]
    }
  };

  return responsive[breakpoint];
};

// Dynamic responsive button
const createResponsiveButton = (baseButton: any, breakpoint: "mobile" | "tablet" | "desktop") => {
  const overrides = createResponsiveOverrides(breakpoint);
  
  return baseButton.extend({
    variant: {
      size: ["sm", "md", "lg"]
    }
  }, ({ what, def, override }) => ({
    token: override.token(overrides.token),
    rules: [
      ...overrides.rules.map(rule => 
        override.rule(
          what.variant(rule.variant),
          rule.styles
        )
      )
    ],
    defaults: def.defaults({
      size: "md"
    })
  }));
};

// Usage
const MobileButtonCls = createResponsiveButton(BaseButtonCls, "mobile");
const TabletButtonCls = createResponsiveButton(BaseButtonCls, "tablet");
const DesktopButtonCls = createResponsiveButton(BaseButtonCls, "desktop");
```

### 3. State-Based Override System

```typescript
import { cls } from "@use-pico/cls";

// State-aware override system
const createStateOverrides = (state: "normal" | "hover" | "focus" | "active" | "disabled") => {
  const states = {
    normal: {
      token: {
        "color.bg": {
          default: ["bg-gray-100"],
          primary: ["bg-blue-600"],
          danger: ["bg-red-500"]
        }
      },
      rules: []
    },
    hover: {
      token: {
        "color.bg": {
          default: ["bg-gray-200"],
          primary: ["bg-blue-700"],
          danger: ["bg-red-600"]
        }
      },
      rules: [
        {
          variant: { tone: "default" },
          styles: { root: ["hover:bg-gray-200", "hover:shadow-md"] }
        },
        {
          variant: { tone: "primary" },
          styles: { root: ["hover:bg-blue-700", "hover:shadow-lg"] }
        },
        {
          variant: { tone: "danger" },
          styles: { root: ["hover:bg-red-600", "hover:shadow-lg"] }
        }
      ]
    },
    focus: {
      token: {
        "color.bg": {
          default: ["bg-gray-100"],
          primary: ["bg-blue-600"],
          danger: ["bg-red-500"]
        }
      },
      rules: [
        {
          variant: { tone: "default" },
          styles: { root: ["focus:ring-2", "focus:ring-gray-500", "focus:outline-none"] }
        },
        {
          variant: { tone: "primary" },
          styles: { root: ["focus:ring-2", "focus:ring-blue-500", "focus:outline-none"] }
        },
        {
          variant: { tone: "danger" },
          styles: { root: ["focus:ring-2", "focus:ring-red-500", "focus:outline-none"] }
        }
      ]
    },
    active: {
      token: {
        "color.bg": {
          default: ["bg-gray-300"],
          primary: ["bg-blue-800"],
          danger: ["bg-red-700"]
        }
      },
      rules: [
        {
          variant: { tone: "default" },
          styles: { root: ["active:bg-gray-300", "active:scale-95"] }
        },
        {
          variant: { tone: "primary" },
          styles: { root: ["active:bg-blue-800", "active:scale-95"] }
        },
        {
          variant: { tone: "danger" },
          styles: { root: ["active:bg-red-700", "active:scale-95"] }
        }
      ]
    },
    disabled: {
      token: {
        "color.bg": {
          default: ["bg-gray-100"],
          primary: ["bg-gray-100"],
          danger: ["bg-gray-100"]
        },
        "color.text": {
          default: ["text-gray-400"],
          primary: ["text-gray-400"],
          danger: ["text-gray-400"]
        }
      },
      rules: [
        {
          variant: { disabled: true },
          styles: { 
            root: ["opacity-50", "cursor-not-allowed", "pointer-events-none"] 
          }
        }
      ]
    }
  };

  return states[state];
};

// Dynamic state button
const createStateButton = (baseButton: any, state: "normal" | "hover" | "focus" | "active" | "disabled") => {
  const overrides = createStateOverrides(state);
  
  return baseButton.extend({
    variant: {
      tone: ["default", "primary", "danger"],
      disabled: ["bool"]
    }
  }, ({ what, def, override }) => ({
    token: override.token(overrides.token),
    rules: [
      ...overrides.rules.map(rule => 
        override.rule(
          what.variant(rule.variant),
          rule.styles
        )
      )
    ],
    defaults: def.defaults({
      tone: "default",
      disabled: false
    })
  }));
};

// Usage
const NormalButtonCls = createStateButton(BaseButtonCls, "normal");
const HoverButtonCls = createStateButton(BaseButtonCls, "hover");
const FocusButtonCls = createStateButton(BaseButtonCls, "focus");
const ActiveButtonCls = createStateButton(BaseButtonCls, "active");
const DisabledButtonCls = createStateButton(BaseButtonCls, "disabled");
```

## Complex Override Scenarios 🏗️

### 1. Multi-Level Inheritance with Overrides

```typescript
import { cls } from "@use-pico/cls";

// Level 1: Base Component
const BaseComponentCls = cls({
  tokens: {
    "color.bg": ["default", "primary"],
    "spacing.padding": ["sm", "md", "lg"]
  },
  slot: ["root"],
  variant: {
    size: ["sm", "md", "lg"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "color.bg": {
      default: ["bg-white"],
      primary: ["bg-blue-600"]
    },
    "spacing.padding": {
      sm: ["p-2"],
      md: ["p-4"],
      lg: ["p-6"]
    }
  }),
  rules: [
    def.root({
      root: what.both(
        ["border", "rounded"],
        ["color.bg.default", "spacing.padding.md"]
      )
    })
  ],
  defaults: def.defaults({
    size: "md"
  })
}));

// Level 2: Interactive Component (extends base)
const InteractiveComponentCls = BaseComponentCls.extend({
  tokens: {
    "interaction.state": ["hover", "focus"]
  },
  variant: {
    disabled: ["bool"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "interaction.state": {
      hover: ["hover:opacity-90"],
      focus: ["focus:ring-2", "focus:ring-blue-500"]
    }
  }),
  rules: [
    def.rule(
      what.variant({ disabled: true }),
      { root: what.css(["opacity-50", "cursor-not-allowed"]) }
    )
  ],
  defaults: def.defaults({
    size: "md",
    disabled: false
  })
}));

// Level 3: Button Component (extends interactive)
const ButtonComponentCls = InteractiveComponentCls.extend({
  tokens: {
    "button.variant": ["solid", "outline", "ghost"]
  },
  variant: {
    variant: ["solid", "outline", "ghost"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "button.variant": {
      solid: ["border-transparent"],
      outline: ["border", "bg-transparent"],
      ghost: ["bg-transparent"]
    }
  }),
  rules: [
    def.rule(
      what.variant({ variant: "outline" }),
      { root: what.css(["border-gray-300"]) }
    ),
    def.rule(
      what.variant({ variant: "ghost" }),
      { root: what.css(["hover:bg-gray-100"]) }
    )
  ],
  defaults: def.defaults({
    size: "md",
    disabled: false,
    variant: "solid"
  })
}));

// Level 4: Custom Button (overrides everything)
const CustomButtonCls = ButtonComponentCls.extend({
  tokens: {
    "color.bg": ["default", "primary", "success"],
    "button.variant": ["solid", "outline", "ghost", "gradient"]
  },
  variant: {
    variant: ["solid", "outline", "ghost", "gradient"]
  }
}, ({ what, def, override }) => ({
  // Override all tokens completely
  token: override.token({
    "color.bg": {
      default: ["bg-gray-200"],
      primary: ["bg-green-600"],
      success: ["bg-emerald-600"]
    },
    "button.variant": {
      solid: ["border-transparent"],
      outline: ["border", "bg-transparent"],
      ghost: ["bg-transparent"],
      gradient: ["bg-gradient-to-r", "from-blue-500", "to-purple-600"]
    }
  }),
  // Override all rules completely
  rules: [
    override.root({
      root: what.both(
        ["border", "rounded-lg", "font-medium", "transition-all"],
        ["color.bg.default", "spacing.padding.md"]
      )
    }),
    override.rule(
      what.variant({ variant: "outline" }),
      { root: what.css(["border-green-300", "text-green-700"]) }
    ),
    override.rule(
      what.variant({ variant: "ghost" }),
      { root: what.css(["hover:bg-green-50", "text-green-700"]) }
    ),
    override.rule(
      what.variant({ variant: "gradient" }),
      { root: what.css(["text-white", "border-transparent", "hover:shadow-lg"]) }
    ),
    override.rule(
      what.variant({ disabled: true }),
      { root: what.css(["opacity-40", "cursor-not-allowed", "grayscale"]) }
    )
  ],
  defaults: def.defaults({
    size: "md",
    disabled: false,
    variant: "solid"
  })
}));
```

### 2. Composition with Overrides

```typescript
import { cls } from "@use-pico/cls";

// Base modules
const ThemeCls = cls({
  tokens: {
    "color.bg": ["default", "primary", "danger"],
    "color.text": ["default", "primary", "danger"]
  },
  variant: {
    tone: ["default", "primary", "danger"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "color.bg": {
      default: ["bg-gray-100"],
      primary: ["bg-blue-600"],
      danger: ["bg-red-500"]
    },
    "color.text": {
      default: ["text-gray-900"],
      primary: ["text-white"],
      danger: ["text-white"]
    }
  }),
  rules: [
    def.root({
      root: what.token(["color.bg.default", "color.text.default"])
    })
  ],
  defaults: def.defaults({
    tone: "default"
  })
}));

const InteractiveCls = cls({
  tokens: {
    "interaction.state": ["hover", "focus", "active"]
  },
  variant: {
    disabled: ["bool"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "interaction.state": {
      hover: ["hover:opacity-90"],
      focus: ["focus:ring-2", "focus:ring-blue-500"],
      active: ["active:scale-95"]
    }
  }),
  rules: [
    def.rule(
      what.variant({ disabled: true }),
      { root: what.css(["opacity-50", "cursor-not-allowed"]) }
    )
  ],
  defaults: def.defaults({
    disabled: false
  })
}));

const AnimationCls = cls({
  tokens: {
    "animation.transition": ["fast", "normal", "slow"]
  },
  variant: {
    animated: ["bool"]
  }
}, ({ what, def }) => ({
  token: def.token({
    "animation.transition": {
      fast: ["transition-all", "duration-150"],
      normal: ["transition-all", "duration-300"],
      slow: ["transition-all", "duration-500"]
    }
  }),
  rules: [
    def.rule(
      what.variant({ animated: true }),
      { root: what.token(["animation.transition.normal"]) }
    )
  ],
  defaults: def.defaults({
    animated: false
  })
}));

// Compose modules
const ComposedButtonCls = ThemeCls
  .use(InteractiveCls)
  .use(AnimationCls);

// Override composed modules
const CustomButtonCls = ComposedButtonCls.extend({
  tokens: {
    "color.bg": ["default", "primary", "danger", "success"],
    "interaction.state": ["hover", "focus", "active", "pulse"]
  },
  variant: {
    tone: ["default", "primary", "danger", "success"],
    disabled: ["bool"],
    animated: ["bool"]
  }
}, ({ what, def, override }) => ({
  // Override tokens from all composed modules
  token: override.token({
    "color.bg": {
      default: ["bg-gray-200"],
      primary: ["bg-green-600"],
      danger: ["bg-red-600"],
      success: ["bg-emerald-600"]
    },
    "color.text": {
      default: ["text-gray-800"],
      primary: ["text-white"],
      danger: ["text-white"],
      success: ["text-white"]
    },
    "interaction.state": {
      hover: ["hover:opacity-95"],
      focus: ["focus:ring-2", "focus:ring-green-500"],
      active: ["active:scale-98"],
      pulse: ["animate-pulse"]
    },
    "animation.transition": {
      fast: ["transition-all", "duration-100"],
      normal: ["transition-all", "duration-200"],
      slow: ["transition-all", "duration-400"]
    }
  }),
  // Override rules from all composed modules
  rules: [
    override.root({
      root: what.both(
        ["inline-flex", "items-center", "rounded-lg", "font-medium"],
        ["color.bg.default", "color.text.default"]
      )
    }),
    override.rule(
      what.variant({ tone: "primary" }),
      { root: what.token(["color.bg.primary", "color.text.primary"]) }
    ),
    override.rule(
      what.variant({ tone: "success" }),
      { root: what.token(["color.bg.success", "color.text.success"]) }
    ),
    override.rule(
      what.variant({ disabled: true }),
      { root: what.css(["opacity-40", "cursor-not-allowed", "grayscale"]) }
    ),
    override.rule(
      what.variant({ animated: true }),
      { root: what.token(["animation.transition.fast"]) }
    )
  ],
  defaults: def.defaults({
    tone: "default",
    disabled: false,
    animated: false
  })
}));
```

## Best Practices for Advanced Overrides 💡

### 1. **Plan Your Override Strategy**
```typescript
// ✅ Good: Clear override strategy
const CustomButtonCls = BaseButtonCls.extend(customContract, ({ what, def, override }) => ({
  // Strategy: Override colors for brand consistency
  token: override.token({
    "color.bg": {
      primary: ["bg-brand-blue-600"],  // Brand color override
      danger: ["bg-brand-red-600"]     // Brand color override
    }
  }),
  // Strategy: Override interactions for accessibility
  rules: [
    override.rule(
      what.variant({ disabled: true }),
      { root: what.css(["opacity-60", "cursor-not-allowed", "aria-disabled"]) }
    )
  ],
  defaults: def.defaults({
    size: "md",
    tone: "default"
  })
}));
```

### 2. **Use Overrides for Major Changes Only**
```typescript
// ✅ Good: Override for major design changes
const DarkThemeButtonCls = ButtonCls.extend(darkContract, ({ what, def, override }) => ({
  // Major change: Complete theme override
  token: override.token({
    "color.bg": {
      default: ["bg-gray-800"],
      primary: ["bg-blue-700"],
      danger: ["bg-red-700"]
    },
    "color.text": {
      default: ["text-gray-100"],
      primary: ["text-white"],
      danger: ["text-white"]
    }
  }),
  // Major change: Complete interaction override
  rules: [
    override.root({
      root: what.both(
        ["rounded-lg", "border", "border-gray-600", "shadow-lg"],
        ["color.bg.default", "color.text.default"]
      )
    })
  ],
  defaults: def.defaults({
    size: "md",
    tone: "default"
  })
}));

// ❌ Bad: Override for minor changes
const MinorButtonCls = ButtonCls.extend(minorContract, ({ what, def, override }) => ({
  // Minor change: Just adding a border
  override.rule(
    what.variant({ tone: "primary" }),
    { root: what.css(["border"]) }  // Use def.rule instead
  )
}));
```

### 3. **Document Complex Override Logic**
```typescript
// ✅ Good: Clear documentation of override logic
const CustomButtonCls = BaseButtonCls.extend(customContract, ({ what, def, override }) => {
  // Override Strategy:
  // 1. Replace blue theme with green theme for brand consistency
  // 2. Enhance accessibility with better focus states
  // 3. Add custom animation for premium feel
  
  return {
    // 1. Theme Override
    token: override.token({
      "color.bg": {
        primary: ["bg-green-600"],  // Brand color
        danger: ["bg-red-600"]      // Enhanced contrast
      }
    }),
    // 2. Accessibility Override
    rules: [
      override.rule(
        what.variant({ tone: "primary" }),
        { 
          root: what.both(
            what.token(["color.bg.primary"]),
            what.css(["focus:ring-2", "focus:ring-green-500", "focus:outline-none"])
          )
        }
      )
    ],
    // 3. Animation Override
    defaults: def.defaults({
      size: "md",
      tone: "default"
    })
  };
});
```

### 4. **Test Override Combinations**
```typescript
// ✅ Good: Test complex override scenarios
const testOverrideCombinations = () => {
  const button = CustomButtonCls.create(({ what }) => ({
    variant: what.variant({ 
      tone: "primary", 
      size: "lg", 
      disabled: true 
    })
  }));
  
  // Verify that overrides work correctly in combination
  console.log(button.root()); // Should show overridden styles
};

// ❌ Bad: Don't assume overrides work without testing
const assumeOverridesWork = () => {
  // Always test complex override combinations
  // Overrides can interact in unexpected ways
};
```

## The Bottom Line 💡

The Override System Deep Dive reveals CLS's **powerful override capabilities**:

- **Precedence hierarchy**: Clear order of override application
- **Advanced patterns**: Theme, responsive, and state-based overrides
- **Complex scenarios**: Multi-level inheritance and composition with overrides
- **Strategic usage**: When and how to use overrides effectively
- **Testing importance**: Always test complex override combinations

Think of advanced overrides as **"surgical precision"** - they give you complete control over every aspect of your styling system! 🎉

---

**Previous:** [3.9 Override Helpers](./3.9-override-helpers.md) | **Next:** [Chapter 4: React Integration](../04-react-integration/README.md)
